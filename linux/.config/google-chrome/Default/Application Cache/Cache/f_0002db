function BDh(a,b){yo(a.C,512)?b():(Fo(a.nX,a.V,function(){b()}),a.create())}function CDh(a){var b=Vc(y(),"drive-host");return qLa(b,a,!0)}function DDh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}function EDh(a){J(this,a,0,-1,null,null)}v(EDh,I);m=EDh.prototype;m.ea=function(){var a=new E;DDh(this,a);return Y(a)};m.getId=function(){return K(this,1)};m.Ic=function(a){return L(this,1,a)};m.getType=function(){return K(this,2)};m.setType=function(a){return L(this,2,a)};
m.clearType=function(){return L(this,2,void 0)};m.hasType=function(){return null!=K(this,2)};function FDh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=K(a,3);null!=c&&b.$a(3,c);c=K(a,4);null!=c&&b.$a(4,c)}function v6(a){J(this,a,0,-1,null,null)}v(v6,I);v6.prototype.ea=function(){var a=new E;FDh(this,a);return Y(a)};v6.prototype.D=function(){return K(this,1)};function GDh(a,b){return L(a,1,b)}v6.prototype.O=function(){return K(this,2)};
function HDh(){Uo.call(this);this.C=3;this.D=null;this.J=!1;this.H=Xp()}r(HDh,Uo);HDh.prototype.L=function(){return this.H.C.then(function(a){if(null!=a)throw a;})};function IDh(a,b,c){if((1==b||2==b)&&!c)throw Error("Eligibility must be provided when transitioning to ENABLED or DISABLED. New state: "+b);c&&(a.D=c);a.C=b;a.H.resolve(null);a.dispatchEvent("T")}HDh.prototype.F=function(){if(!this.D)return!1;var a=this.D.D();return 1==a||6==a};
function JDh(a){a?qa.localStorage.setItem("docs-wownoi","true"):qa.localStorage.removeItem("docs-wownoi")}function KDh(a){a?qa.localStorage.setItem("docs-rops","true"):qa.localStorage.removeItem("docs-rops")}function LDh(a){a?qa.localStorage.setItem("docs-ropd","true"):qa.localStorage.removeItem("docs-ropd")}function w6(a,b){var c=y();return z(c,a)&&0<Uc(c,b)}function MDh(a,b,c,d,e,f){b=LWe("Extension needed",b,c,d,e,void 0,f,void 0);a.Zh(b);b.focus();return b}
function NDh(a,b,c){A.call(this);this.D=a;this.H=c||"To enable offline sync, install the Docs Offline Chrome extension for your browser.";this.Za=b;this.F=new AQ;this.C=null}r(NDh,A);function ODh(a){return Promise.resolve(xhd(a.F)).then(function(){return pr()?!0:PDh(a)})}
function PDh(a){a.C&&a.C.setVisible(!1);var b=(new Yx).Bf({key:"ok",caption:"Install"},!0).Bf(ey,!1,!0);return new Promise(function(c,d){a.C=MDh(a.D,a.H,function(){return QDh(a).then(c,d)},function(){return c(!1)},a,b);ky(a.C,b.C)})}function QDh(a){return Promise.resolve(zhd(a.F)).catch(function(b){b=El(b);jq(a.Za,b);Dkd(b);return!1})}NDh.prototype.Ka=function(){this.C&&(vB(this.D,this.C),Tf(this.C))};function RDh(a){J(this,a,0,-1,null,null)}v(RDh,I);m=RDh.prototype;
m.ea=function(){var a=new E;SDh(this,a);return Y(a)};function SDh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=K(a,3);null!=c&&b.Ha(3,c);c=K(a,4);null!=c&&b.$a(4,c);c=K(a,5);null!=c&&b.$a(5,c);c=K(a,6);null!=c&&b.Ha(6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&G(b,8,c);c=K(a,9);null!=c&&b.$a(9,c);c=K(a,10);null!=c&&G(b,10,c);c=K(a,11);null!=c&&b.$a(11,c);c=K(a,12);null!=c&&b.$a(12,c);c=K(a,13);null!=c&&G(b,13,c);c=K(a,14);null!=c&&G(b,14,c)}
m.getId=function(){return K(this,1)};m.Ic=function(a){return L(this,1,a)};m.getTitle=function(){return K(this,2)};m.setTitle=function(a){return L(this,2,a)};m.eq=function(){return K(this,3)};function TDh(a){J(this,a,0,-1,null,null)}v(TDh,I);TDh.prototype.ea=function(){var a=new E;UDh(this,a);return Y(a)};function UDh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,4);null!=c&&b.Ha(4,c);c=K(a,2);null!=c&&b.Ha(2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,5);null!=c&&G(b,5,c)};function VDh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;A.call(this);var e=this;this.JF=b||this;this.D=a;this.C=new Do;this.qa(this.C);this.Oa=new Vo(this);this.qa(this.Oa);this.F=c;this.H=d;a instanceof BRa?(this.Oa.listen(a,"E",function(){return WDh(e)}),this.Oa.listen(a,"F",function(){return XDh(e)})):(Eo(this.C,this.D.uR(),function(){return WDh(e)}),Eo(this.C,this.D.ZL(),function(){return XDh(e)}))}r(VDh,A);function YDh(a,b){a.F.push(b)}
function WDh(a){a.F.forEach(function(b){try{b.call(a.JF)}catch(c){}})}function XDh(a){a.H.forEach(function(b){try{b.call(a.JF)}catch(c){}})};function ZDh(a,b){A.call(this);this.H=a;this.L=this.H.Qn();this.va=b;this.ma=new VDh(this.H,this,[this.Ba],[this.V]);this.qa(this.ma);this.O=this.F=0;this.D=this.J=2E4;this.C=new Rq(this.Ea,0,this);this.qa(this.C);this.R=!1}r(ZDh,A);function $Dh(a){if(15<=a.F)return a.C.stop(),!1;if(!a.L&&!a.H.Qn()&&3<=a.O)return!0;aEh(a);return!0}ZDh.prototype.WC=function(){this.C.stop();this.R=!0};function aEh(a){15<=a.F||a.R||a.C.Gb()||a.C.start(a.D)}
ZDh.prototype.Ea=function(){this.va();this.L||this.H.Qn()||this.O++;this.F++;144E5!=this.D&&(this.D=Math.min(this.D+tAa(50,100)/100*this.J,144E5),this.J*=2)};ZDh.prototype.Ba=function(){15<=this.F||(this.D=tAa(0,2E4),this.J=2E4,aEh(this))};ZDh.prototype.V=function(){this.C.stop()};function bEh(a){J(this,a,0,-1,null,null)}v(bEh,I);bEh.prototype.ea=function(){return Y(new E)};var cEh=new Hj(102041228,bEh);dF[102041228]=new Ij(cEh,ba(),function(a,b){for(;vj(b)&&!uj(b);)wj(b);return a});cF[102041228]=cEh;function dEh(a){J(this,a,0,-1,null,null)}v(dEh,I);dEh.prototype.ea=function(){return Y(new E)};var eEh=new Hj(108529910,dEh);dF[108529910]=new Ij(eEh,ba(),function(a,b){for(;vj(b)&&!uj(b);)wj(b);return a});cF[108529910]=eEh;function fEh(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)}r(fEh,Error);function gEh(a){J(this,a,0,-1,null,null)}v(gEh,I);gEh.prototype.ea=function(){var a=new E;hEh(this,a);return Y(a)};function hEh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&H(b,2,c)}var iEh=new Hj(122453513,gEh);dF[122453513]=new Ij(iEh,hEh,function(a,b){for(;vj(b)&&!uj(b);)switch(b.C){case 1:var c=b.jl();L(a,1,c);break;case 2:c=xj(b);L(a,2,c);break;default:wj(b)}return a});cF[122453513]=iEh;function jEh(a,b,c,d,e,f,h,k,l,n){l=void 0===l?!1:l;n=void 0===n?!1:n;A.call(this);var q=this;this.C=a;this.V=Xp();kEh(this);this.L=this.O=null;this.Sa=h;this.va=new VDh(h,this);this.qa(this.va);this.D=b;this.Za=k||null;this.ma=!1;this.F=null;l&&(this.F=new ZDh(this.Sa,function(){return lEh(q)}),this.qa(this.F));this.J=Xp();this.R=Xp();this.Oa=new Vo(this);this.qa(this.Oa);this.Na="user_"+c;this.Ba=d;this.Ja=e;this.Ea=f;this.Qa=!1;this.H=n?new $p(25E3):null;n&&this.Oa.listen(this.H,"tick",function(){return mEh(q)})}
r(jEh,A);m=jEh.prototype;m.start=function(){var a=this;this.ma||(this.ma=!0,nEh(this).then(function(){a.J.resolve();a.F&&a.F.WC()},function(b){b=El(b);var c=new fEh(b.message,a.F?a.R.C:void 0);Fl(c,{originalStackTrace:b.stack});Fl(c,{offlineManagerInitializationFailure:!0,isRetry:!1});a.J.reject(c);a.F?$Dh(a.F):a.D.H.resolve(c)}));return this.J.C};
function nEh(a){return a.C.init().then(function(){return oEh(a.C)}).then(function(b){b.connect();a.V.resolve(b);return pEh(a)}).then(function(){YDh(a.va,function(){qEh(a)});a.Qa=!0})}function lEh(a){a.C.reset();nEh(a).then(function(){a.F.WC();a.R.resolve(a.F.F)}).oh(function(){if(!$Dh(a.F)){var b=Fl("OfflineService start retries exhausted",{offlineManagerInitializationFailure:!0,isRetry:!0});a.R.reject(b)}})}
function rEh(a,b){if(2!=a.D.C)throw Error("Cannot enable offline when it is not disabled. Current state:"+a.D.C);IDh(a.D,4);return sEh(a.C,b).then(function(c){var d=c.D();return Tp().then(function(){return 1==d||2==d?x6(a,1):x6(a,2)}).then(function(){return c})})}
function pEh(a){return tEh(a.C,6E4).then(function(b){switch(K(b,1)){case 1:return uEh(a.C).oh(function(c){a.Za&&jq(a.Za,El(c))}).then(function(){return x6(a,1)}).then(function(){qEh(a)});case 2:return x6(a,2);case 4:return vEh(a,K(b,2));case 3:return b=K(b,3),null!=b?wEh(a,b):x6(a,2);case 5:return xEh(a)}})}m.kMb=function(a){var b=this;1==this.D.C&&!this.D.J&&0==K(a,2)&&tEh(this.C).then(function(c){var d=b.D;c=Mj(c,5);d.J=c;d.dispatchEvent("T")}).oh(ba())};function vEh(a){return x6(a,2)}
function wEh(a,b){return a.Ba?sEh(a.C,b).then(function(c){switch(c.D()){case 1:return x6(a,1);case 2:return x6(a,1);default:return x6(a,2)}}):Tp()}function xEh(a){return a.Ja?sEh(a.C,2).then(function(b){switch(b.D()){case 1:case 2:return x6(a,1);default:return x6(a,2)}}):Tp()}
function kEh(a){var b;a.V.C.then(function(c){b=c;return Tp(a.Na)}).then(function(c){a.O=new EQ(b,c,a);a.qa(a.O);a.L=new EQ(b,null,a);a.qa(a.L);a.O.listen(eEh,a.jWb).listen(cEh,a.NEb).listen(iEh,a.kMb);a.L.listen(eEh,a.iWb).listen(cEh,a.Crb)})}m.jWb=function(){x6(this,1).oh(ba())};m.NEb=function(){x6(this,2).oh(ba())};m.iWb=function(){yEh(this)};m.Crb=function(){yEh(this)};
function x6(a,b){return zEh(a.C).then(function(c){IDh(a.D,b,c)}).then(function(){return tEh(a.C).then(function(c){var d=a.D;c=!!Mj(c,5);d.J=c;d.dispatchEvent("T")})}).then(function(){if(a.H)switch(b){case 1:a.H.start();mEh(a);break;case 2:a.H.stop()}})}function yEh(a){zEh(a.C).then(function(b){var c=a.D;c.D=b;c.dispatchEvent("T")})}function qEh(a){a.Ea&&1==a.D.C&&AEh(a.C).oh(ba())}function mEh(a){BEh(a.C).oh(function(){a.H&&a.H.stop()})};function CEh(a,b,c,d){Uo.call(this);this.H=a;this.ma=b;this.va=c;this.Ba=new EQ(this.va,kid(),this);this.Za=d;this.J=Xp();this.F=this.L=this.D=this.C=null;this.O=!1}r(CEh,Uo);CEh.prototype.start=function(){var a=this;DEh(this,"Initialization").then(function(){a.O=!0;a.J.resolve(null);a.Ba.listen(bjd,a.R).listen(Tid,a.V).listen(cEh,a.Ea)},function(b){a.J.resolve(El(b))})};function EEh(a){return a.J.C.then(function(b){if(null!=b)throw b;})}
CEh.prototype.R=function(a){a=Xj(a,BQ,1);for(var b=0;b<a.length;b++){var c=a[b].getExtension(fjd);if(c&&K(c,1)==this.H){var d=K(c,3);c=d.includes(1);d=d.includes(3);if(c||d){FEh(this,"Document data changed");break}}}};CEh.prototype.V=function(a){K(a,1)==this.H&&FEh(this,"Document available")};CEh.prototype.Ea=function(){FEh(this,"Offline disabled")};function FEh(a,b){DEh(a,b).oh(function(c){Uk(a.Za,El(c))})}
function DEh(a,b){return GEh(a.ma,[a.H]).then(function(c){var d=!1,e=!1,f=null,h=null;if(1==c.length)a:if(c=c[0],d=Mj(c,7),e=Mj(c,8),f=K(c,11),h=Mj(c,13),c=K(c,12),d){if(f){if((c=c&&c>=f)&&0==h){h=3;break a}if(!c){h=5;break a}}h=e?2:4}else h=0;var k=c=!1,l=!1,n=!1;a.O&&(c=a.C!=d,k=a.D!=e,l=a.L!=h,n=a.F!=f);a.C=d;a.D=e;a.L=h;a.F=f;c&&a.dispatchEvent("dj");k&&a.dispatchEvent("ej");(l||n)&&a.dispatchEvent("fj")}).oh(function(c){throw Fl(c,{pinStatusUpdateReason:b});})};function HEh(a){var b=a.label,c=a.aj;a=a.KPb;return T('<div class="'+U("docs-in-editor-sync-state-icon")+" "+U("docs-material")+'" title="'+U(a)+'" aria-label="'+U(a)+'"><div class="'+U("docs-in-editor-sync-state-animation-icon")+" "+U("docs-icon")+" "+U("goog-inline-block")+'"><div class="'+U("docs-icon-img")+" "+U("docs-icon-img-container")+" "+U(c)+'"></div></div></div><span>'+R(b)+"</span>")};function IEh(a){a=JEh[a];if(!a)throw Error("Unknown editor sync state for the document");return a}function KEh(a){a=LEh[a];if(!a)throw Error("Unknown pinning state for the document");return a}var JEh={2:"docs-icon-offline-pin-20",3:"docs-icon-sync-problem-20",4:"docs-icon-sync-20",5:"docs-icon-sync-20"},LEh={2:"Available offline",3:"Problem while syncing",4:"Waiting to sync",5:"Syncing",7:"Waiting to sync your changes",6:"Can't sync your changes"};function MEh(a,b){A.call(this);this.D=a;this.Za=b;this.Oa=new Vo(this);this.qa(this.Oa);this.C=null}r(MEh,A);MEh.prototype.initialize=function(){var a=this;return EEh(this.D).then(function(){a.Oa.listen(a.D,"fj",a.F);a.F()})};MEh.prototype.F=function(){var a=this.D.L;null==a||0==a?(Mt(),Vt).setProperty("node-label",null):(Mt(),Vt).setProperty("node-label",ny(HEh,{label:Vt.getLabel(),aj:IEh(a),KPb:KEh(a)}));NEh(this,a)};
function NEh(a,b){var c=a.D.F;c&&5==b?(b=Oa()-c,18E4<b?(bq(a.C),OEh(a,!1)):(OEh(a,!0),bq(a.C),a.C=aq(function(){return void OEh(a,!1)},18E4-b))):(bq(a.C),OEh(a,!1))}function OEh(a,b){var c;(c=Yo().cb("docs-in-editor-sync-state-animation-icon"))?(Hx(c,"docs-in-editor-animated-sync",b),c=!0):c=!1;!c&b&&Uk(a.Za,Error("Attempted to animate an absent sync state icon."))}MEh.prototype.Ka=function(){bq(this.C);A.prototype.Ka.call(this)};function PEh(){return T('<div><div>Turn on offline to access files without an Internet connection.</div><div class="docs-offline-optindialog-short-disclaimer">Not recommended on public or shared computers. <a href="#" id="docs-offline-optindialog-disclaimer-link" tabindex="0" class="docs-offline-optindialog-disclaimer-link">Learn more</a></div><div id="docs-offline-optindialog-disclaimer" class="docs-offline-optindialog-disclaimer" style="display:none;" tabindex="0">Protect your files by enabling offline access only on personal computers or computers where you have a password-protected account. Enabling offline access on public or shared computers can put your data at risk, as others may be able to view your synced Google documents, spreadsheets and presentations.</div></div>')}
;function QEh(a,b){uB.call(this);this.R=a;this.H=b||null;this.setTitle("Turn on offline for all files?");a=new Yx;a.Bf({key:"docs-offline-editor-enable-offline-dialog-cancel",caption:"Cancel"},!1,!0);a.Bf({key:"docs-offline-editor-enable-offline-dialog-turnon",caption:"Turn on"},!0,!1);ay(this,a);$x(this,!1);this.xj=this.xs=!0;a=new KL;Tx(this,Pmc(a,PEh));this.C=this.F=null}r(QEh,uB);
QEh.prototype.Ia=function(){uB.prototype.Ia.call(this);ky(this,this.D.C);this.F=Ip(this.oa(),"docs-offline-optindialog-disclaimer-link");this.C=Ip(this.oa(),"docs-offline-optindialog-disclaimer");this.getHandler().listen(this,"dialogselect",this.O).Nc(this.F,"click",this.L)};QEh.prototype.O=function(a){"docs-offline-editor-enable-offline-dialog-turnon"==a.key?this.R():"docs-offline-editor-enable-offline-dialog-cancel"==a.key&&this.H&&this.H();this.setVisible(!1)};
QEh.prototype.L=function(){Dx(this.F,"docs-offline-optindialog-disclaimer-link-disabled");P(this.C,!0);this.C.focus()};function REh(a,b,c,d,e){A.call(this);this.J=a;this.D=a.D;this.L=b;this.F=c;this.Za=d;this.H=new NDh(this.F,this.Za,e);this.qa(this.H);this.Oa=new Vo(this);this.qa(this.Oa);this.C=null}r(REh,A);function SEh(a){if(a.C)throw Error("Attempted to show the offline opt in dialog while one is already visible.");return 1==a.D.C||a.D.F()?ODh(a.H).then(function(b){return b?TEh(a):5}).catch(function(b){jq(a.Za,El(b));return 3}):Promise.resolve(3)}
function TEh(a){return 1==a.D.C?Promise.resolve(1):new Promise(function(b,c){a.C=new QEh(function(){UEh(a).then(b,c)},function(){return b(4)});a.F.Zh(a.C);a.Oa.listen(a.C,"hide",function(){a.C=null});a.C.setVisible(!0)})}function UEh(a){return 1==a.D.C?Promise.resolve(2):Promise.resolve(rEh(a.J,a.L)).then(function(){return 1==a.D.C?2:3})}REh.prototype.Ka=function(){this.C&&(vB(this.F,this.C),Tf(this.C));A.prototype.Ka.call(this)};function VEh(a,b,c,d,e,f,h,k,l,n,q){A.call(this);this.va=a;this.Ra=b;this.Qa=c;this.C=d;this.D=e;this.Za=k;new AQ;this.Oa=new Vo(this);this.qa(this.Oa);this.bb=a.C;this.Sa=f;this.Xa=h;this.F=l;this.Va=n;this.Ba=q;this.V=new MEh(this.C,this.Za);this.qa(this.V);this.Ea=new Do;this.qa(this.Ea);this.H=WEh(this,"Document now available offline");this.O=WEh(this,"Document no longer available offline");this.L=WEh(this,"Could not change offline availability.");this.J=WEh(this,"Could not enable offline access.");
this.ma=WEh(this,"Making the document available offline\u2026");this.R=WEh(this,"Document will sync when you reconnect");this.Na=WEh(this,"Could not sync document.");this.Ja=new REh(this.Xa,10,this.Sa,this.Za,"To make this document available offline, install the Docs Offline Chrome extension in your browser.");this.qa(this.Ja)}r(VEh,A);function WEh(a,b){return GB(a.F,b,void 0,!1,3E3,!1,void 0,!0)}m=VEh.prototype;
m.init=function(){var a=this;return Vp([this.D.L(),EEh(this.C),this.V.initialize()]).then(function(){XEh(a);YEh(a);(Mt(),Vt).setVisible(vob())},function(b){jq(a.Za,El(b))})};function XEh(a){(Mt(),Vt).subscribe("action",a.GRa,a);a.Oa.listen(a.C,"dj",a.zGb).listen(a.C,"ej",a.YEb).listen(a.D,"T",a.$Eb);Eo(a.Ea,a.Ba.C,function(){YEh(a)})}m.GRa=function(){ZEh(this)};function ZEh(a){Tp(SEh(a.Ja)).then(function(b){if(1===b||2===b)return $Eh(a);3===b&&aFh(a,a.J)})}
function $Eh(a){var b=!(Mt(),Vt).Bd(),c=a.Va.Qn();b&&!a.C.D&&aFh(a,c?a.ma:a.R);return(new Sp(function(d){BDh(a.bb,d)})).then(function(){return bFh(a,b,c)}).oh(function(d){aFh(a,a.L);a.Za.log(El(d))})}function bFh(a,b,c){var d=(new EDh).Ic(a.va.D).setType(a.Ra);return cFh(a.Qa,[d],b,c).then(function(e){e&&(Mj(e,1)||aFh(a,a.Na))})}m.zGb=function(){YEh(this);dFh(this);this.C.C||aFh(this,this.O)};m.YEb=function(){dFh(this)};m.$Eb=function(){YEh(this)};
function dFh(a){1==a.D.C&&a.C.D&&a.C.C&&aFh(a,a.H)}function aFh(a,b){b.isVisible()||(a.H.setVisible(!1),a.O.setVisible(!1),a.L.setVisible(!1),a.J.setVisible(!1),a.ma.setVisible(!1),a.R.setVisible(!1),b.tb()||b.render(),b.setVisible(!0))}function YEh(a){var b=a.Ba.getState()==(Ll(),eAa);(Mt(),Vt).Pa(!b&&!a.va.J&&(1==a.D.C||a.D.F()));Vt.Lb(a.C.C)}
m.Ka=function(){(Mt(),Vt).unsubscribe("action",this.GRa,this);A.prototype.Ka.call(this);IB(this.F,this.H);IB(this.F,this.O);IB(this.F,this.L);IB(this.F,this.J);Uf(this.H,this.O,this.L,this.J)};function eFh(a){this.D=a}eFh.prototype.C=g("D");function fFh(a){J(this,a,0,-1,gFh,null)}v(fFh,I);var gFh=[1];fFh.prototype.ea=function(){var a=new E;hFh(this,a);return Y(a)};function hFh(a,b){a=K(a,1);0<a.length&&Fj(b,1,a)}function iFh(a,b){return L(a,1,b||[])};function jFh(a){J(this,a,0,-1,null,null)}v(jFh,I);jFh.prototype.ea=function(){var a=new E;kFh(this,a);return Y(a)};function kFh(a,b){a=K(a,1);null!=a&&H(b,1,a)}function lFh(a,b){return L(a,1,b)};function mFh(a){J(this,a,0,-1,nFh,null)}v(mFh,I);var nFh=[1];mFh.prototype.ea=function(){var a=new E;oFh(this,a);return Y(a)};function oFh(a,b){var c=Xj(a,EDh,1);0<c.length&&Gj(b,1,c,DDh);c=K(a,2);null!=c&&G(b,2,c);c=K(a,3);null!=c&&G(b,3,c)}function pFh(a,b){return bk(a,1,b)}function qFh(a,b){return L(a,2,b)}function rFh(a,b){return L(a,3,b)};function sFh(a){J(this,a,0,-1,tFh,null)}v(sFh,I);var tFh=[1];sFh.prototype.ea=function(){var a=new E;uFh(this,a);return Y(a)};function uFh(a,b){a=K(a,1);0<a.length&&Fj(b,1,a)};function y6(a){J(this,a,0,-1,null,null)}v(y6,I);m=y6.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=N(this,fFh,2);null!=b&&a.Aa(2,b,hFh);b=N(this,mFh,3);null!=b&&a.Aa(3,b,oFh);b=N(this,jFh,4);null!=b&&a.Aa(4,b,kFh);b=N(this,sFh,5);null!=b&&a.Aa(5,b,uFh);return Y(a)};m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};function vFh(a){J(this,a,0,-1,wFh,null)}v(vFh,I);var wFh=[1];vFh.prototype.ea=function(){var a=new E;xFh(this,a);return Y(a)};function xFh(a,b){a=Xj(a,RDh,1);0<a.length&&Gj(b,1,a,SDh)};function yFh(a){J(this,a,0,-1,null,null)}v(yFh,I);yFh.prototype.ea=function(){var a=new E;zFh(this,a);return Y(a)};function zFh(a,b){a=N(a,v6,1);null!=a&&b.Aa(1,a,FDh)};function AFh(a){J(this,a,0,-1,null,null)}v(AFh,I);m=AFh.prototype;m.ea=function(){var a=new E;BFh(this,a);return Y(a)};function BFh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&b.Ha(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};function CFh(a){J(this,a,0,-1,null,null)}v(CFh,I);CFh.prototype.ea=function(){var a=new E;DFh(this,a);return Y(a)};function DFh(a,b){a=K(a,1);null!=a&&b.Ha(1,a)};function EFh(a){J(this,a,0,-1,null,null)}v(EFh,I);EFh.prototype.ea=function(){var a=new E;FFh(this,a);return Y(a)};function FFh(a,b){a=K(a,1);null!=a&&G(b,1,a)};function GFh(a){J(this,a,0,-1,null,null)}v(GFh,I);GFh.prototype.ea=function(){var a=new E;HFh(this,a);return Y(a)};function HFh(a,b){a=N(a,v6,1);null!=a&&b.Aa(1,a,FDh)};function IFh(a){J(this,a,0,-1,null,null)}v(IFh,I);IFh.prototype.ea=function(){var a=new E;JFh(this,a);return Y(a)};function JFh(a,b){a=N(a,TDh,1);null!=a&&b.Aa(1,a,UDh)};function KFh(a){J(this,a,0,-1,null,null)}v(KFh,I);KFh.prototype.ea=function(){var a=new E;LFh(this,a);return Y(a)};function LFh(a,b){a=N(a,Zje,1);null!=a&&b.Aa(1,a,Yje)};function MFh(a){J(this,a,0,-1,null,null)}v(MFh,I);m=MFh.prototype;m.ea=function(){var a=new E;var b=K(this,1);null!=b&&H(a,1,b);b=this.bE();null!=b&&a.Aa(2,b,BFh);b=N(this,vFh,3);null!=b&&a.Aa(3,b,xFh);b=N(this,IFh,4);null!=b&&a.Aa(4,b,JFh);b=N(this,yFh,5);null!=b&&a.Aa(5,b,zFh);b=N(this,EFh,6);null!=b&&a.Aa(6,b,FFh);b=N(this,GFh,7);null!=b&&a.Aa(7,b,HFh);b=N(this,KFh,8);null!=b&&a.Aa(8,b,LFh);b=N(this,CFh,9);null!=b&&a.Aa(9,b,DFh);return Y(a)};m.getType=function(){return K(this,1)};
m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.bE=function(){return N(this,AFh,2)};function NFh(a,b,c,d,e){A.call(this);this.D=Xp();this.hb=e||Yo();this.Oa=new Vo(this);this.qa(this.Oa);this.H=a;this.R=d;a=new Em(b);a.Ob("ouid",this.H);rLa()&&a.Ob("Debug","true");Km(a,"cd="+c);if(Ld(a.C))throw Error("Url contains invalid domain: "+b);this.L=Hm(Gm(Fm(new Em,a.H),a.C),a.J).toString();b=zm(a.toString(),"sa",""+d);this.O=yA(b);this.C=null;this.F=!1}r(NFh,A);
NFh.prototype.init=function(){var a=this;this.Oa.listen(Lp(this.hb),"message",this.J);this.C=this.hb.Ca("IFRAME",{style:"display:none"});$e(this.C,this.O);this.hb.Ib().body.appendChild(this.C);cq(3E4).then(function(){a.F||(OFh(a),PFh(a),a.D.reject(Error("Iframe initialization timed out")))});return this.D.C.then()};NFh.prototype.reset=function(){PFh(this);this.D=Xp()};function BEh(a){var b=(new y6).setType(12);return z6(a,b).then(ba())}
function oEh(a){var b=(new y6).setType(1);return z6(a,b).then(function(c){c=new Uid(new eFh(c.port),"user_"+a.H);a.qa(c);return c})}function GEh(a,b){var c=(new y6).setType(2);b=iFh(new fFh,b);Yj(c,2,b);return z6(a,c).then(function(d){return Xj(N(d.response,vFh,3),RDh,1)})}function tEh(a,b){var c=(new y6).setType(4);return z6(a,c,b).then(function(d){return N(N(d.response,IFh,4),TDh,1)})}
function zEh(a){var b=(new y6).setType(10);return z6(a,b).then(function(c){return N(N(c.response,GFh,7),v6,1)})}function cFh(a,b,c,d){d=void 0===d?!1:d;var e=(new y6).setType(5);b=rFh(qFh(pFh(new mFh,b),c),d);Yj(e,3,b);return z6(a,e).then(function(f){return(f=N(f.response,KFh,8))&&N(f,Zje,1)||null})}function sEh(a,b){var c=(new y6).setType(6);b=lFh(new jFh,b);Yj(c,4,b);return z6(a,c).then(function(d){return N(N(d.response,yFh,5),v6,1)})}
function uEh(a){var b=(new y6).setType(9);return z6(a,b).then(ba())}function AEh(a){var b=(new y6).setType(11);return z6(a,b).then(ba())}
function z6(a,b,c){c=void 0===c?3E4:c;return a.D.C.then(function(d){var e=Oa(),f=new MessageChannel;d.postMessage(b.Jf(),[f.port2]);var h=Xp();f.port1.onmessage=function(l){l=new QFh(l);l.response&&l.response.bE()?(l=l.response.bE(),h.reject(Error("Iframe api request of type "+b.getType()+" failed (error type "+l.getType()+"): "+K(l,2)))):h.resolve(l)};var k=aq(function(){h.reject(Error("Iframe api request of type "+b.getType()+" timed out after "+(Oa()-e)+"ms."))},c);Yp(h.C,function(){f.port1.close();
bq(k)});return h.C}).oh(function(d){throw Fl(d,{iframeRequest_sourceApplication:a.R.toString(),iframeRequest_requestType:b.getType().toString()});})}NFh.prototype.J=function(a){(a=a.Ae())&&a.origin==this.L&&a.source==this.C.contentWindow&&!this.F&&(a.ports&&a.ports.length&&a.ports[0]&&(a=a.ports[0],Sf(this,a.close,a),this.D.resolve(a),this.F=!0),OFh(this))};function OFh(a){a.Oa.Gc(Lp(a.hb),"message",a.J)}function PFh(a){a.C&&(a.hb.jg(a.C),a.C=null)}NFh.prototype.Ka=function(){PFh(this);A.prototype.Ka.call(this)};
function QFh(a){this.response=a.data?new MFh(a.data):null;this.port=a.ports&&a.ports.length&&a.ports[0]?a.ports[0]:null};function RFh(a,b){this.C=a;this.sD=b};function SFh(a,b,c,d,e){A.call(this);this.Za=a;this.J=b;this.O=c?c:"DefaultLocalStoreSessionId";this.L=d||new hkd;this.H=!!e;this.D=null;this.F=new Do;this.qa(this.F);this.C=TFh(this)}r(SFh,A);function TFh(a){a.C&&Tf(a.C);var b=Uc(y(),"lssv");return new mkd(a.Za,a.O,0,a.Neb.bind(a),b,!0,new Jid)}function UFh(a){if(a.D)return a.D;a.D=VFh(a);return a.D.oh(function(b){a.Jka();throw b;})}
function WFh(a){return UFh(a).then(function(b){return(new Sp(function(c,d){ZPa(b.C.J,c,d)})).then(function(c){return XFh(a,c)?new RFh(b,c[0]):null})})}
function YFh(a){return UFh(a).then(function(b){return(new Sp(function(c,d){ZPa(b.C.J,c,d)})).then(function(c){if(!XFh(a,c))throw c={usersLength:c.length,allowNonOfflineEnabledUser:a.H,storedUserMatchesFlag:0==c.length?"no users":c[0].getId()==Vc(y(),"docs-offline-lsuid")},Fl(Error("Failed to read LocalStore due to invalid user"),c);return new RFh(b,c[0])})})}function XFh(a,b){return 1==b.length&&(a.H||b[0].getId()==Vc(y(),"docs-offline-lsuid"))}m=SFh.prototype;m.get=function(){return YFh(this).then(function(a){return a.C})};
function VFh(a){return(new Sp(function(b,c){zq(a.C.create(a.Jka.bind(a)),b,c)})).then(a.wCb.bind(a))}m.wCb=function(a){var b=this;if(!a)throw Error("Got null localstore from the idb localstore factory.");if(this.J){var c=new gjd(a,this.J);this.qa(c)}Jza(a);Eo(this.F,a.C.C.D,function(){b.Jka()});Eo(this.F,a.C.ma,function(){b.Jka()});return a};m.Jka=function(){Tf(this.C);this.C=TFh(this);this.D=null};m.Neb=function(a){return Ohd(this.L,a)};m.Ka=function(){Tf(this.C);A.prototype.Ka.call(this)};function ZFh(a,b,c){this.D=a;this.C=c||null};function $Fh(a,b){this.C=a;this.Za=b}$Fh.prototype.get=function(){var a=this;return WFh(this.C).then(function(b){return b?new ZFh(1,b.sD.getId(),dza(b.sD),aGh(a)):UFh(a.C).then(function(c){return(new Sp(function(d,e){ZPa(c.C.J,d,e)})).then(function(d){if(d.length)if(1==d.length)d=d[0],d=new ZFh(4,d.getId(),dza(d));else throw Error("More than one user in store: "+d.length);else d=pOa()?new ZFh(2):$nb()?new ZFh(5):new ZFh(3);return d})})})};
function aGh(a){a=new PEb(a.Za);var b=[];w6("docs-offline-esmst","docs-offline-mstpim")&&b.push(YE("metadata-sync","docs-offline-mstpim",!0,new XE(1,Qq(),"metadata",3E5,!0,!0,!0)));w6("docs-offline-esbst","docs-offline-swutpim")&&b.push(YE("service-worker-update","docs-offline-swutpim",!0,new XE(2,oLa(),"service_worker_update",3E5,!0,!1,!1)));w6("docs-offline-esbst","docs-offline-bstpim")&&b.push(NEb());w6("docs-offline-edswut","docs-offline-dswutpim")&&b.push(YE("drive-service-worker","docs-offline-dswutpim",
!0,new XE(2,CDh("/drive/serviceworker/update"),"drive_service_worker_update",3E5,!0,!0,!0)));w6("docs-offline-eshcst","docs-offline-hcstpim")&&b.push(YE("homescreen-cello-sync","docs-offline-hcstpim",!0,new XE(2,qLa(pLa(),"/document/backgroundsync"),"homescreen_cello_sync",3E5,!0,!0,!0)));w6("docs-offline-esdcst","docs-offline-dcstpim")&&b.push(YE("drive-cello-sync","docs-offline-dcstpim",!0,new XE(2,CDh("/drive/_/dataservice/backgroundsync"),"drive_cello_sync",3E5,!0,!0,!0)));w6("docs-offline-eslcst",
"docs-offline-lcstpim")&&b.push(YE("local-changes-sync","docs-offline-lcstpim",!1,new XE(1,Qq(),"local_changes_sync",3E5,!0,!0,!1)));w6("docs-offline-esast","docs-offline-astpim")&&b.push(YE("auto-sync","docs-offline-astpim",!1,new XE(1,Qq(),"auto_sync",3E5,!0,!0,!0)));w6("docs-offline-eswst","docs-offline-wstpim")&&b.push(YE("webfonts-sync","docs-offline-wstpim",!0,new XE(1,Qq(),"webfonts_sync",3E5,!0,!0,!0)));w6("docs-offline-esist","docs-offline-istpim")&&b.push(YE("impression-sync","docs-offline-istpim",
!1,new XE(1,Qq(),"impressionSync",3E5,!0,!0,!1)));w6("docs-offline-esddt","docs-offline-ddtpim")&&b.push(YE("document-deletion","docs-offline-ddtpim",!1,new XE(1,Qq(),"doc_deletion",3E5,!1,!1,!1)));w6("docs-offline-esuuct","docs-offline-uuctpim")&&b.push(YE("update-unsaved-changes","docs-offline-uuctpim",!1,new XE(2,oLa(),"update_unsaved_changes",3E5,!1,!1,!1)));w6("docs-offline-esct","docs-offline-ctpim")&&b.push(YE("cleanup-task","docs-offline-ctpim",!1,new XE(2,oLa(),"cleanup",3E5,!1,!1,!1)));
w6("docs-offline-esrt","docs-offline-rtpim")&&b.push(YE("report-task","docs-offline-rtpim",!1,new XE(2,oLa(),"report",3E5,!1,!1,!1)));if(w6("docs-offline-eskst","docs-offline-kstpim")){var c=Wc("docs-offline-rte");kd(c,"kix")&&b.push(YE("kix-snapshot","docs-offline-kstpim",!1,new XE(1,qLa(pLa(),"/document/snapshot.js"),"kix_snapshot",3E5,!1,!1,!1)))}w6("docs-offline-esost","docs-offline-sostpim")&&b.push(YE("sync-objects-sync","docs-offline-sostpim",!0,new XE(1,Qq(),"sync_objects_sync",3E5,!0,!0,
!0)));c=[];for(var d=0;d<b.length;d++){var e=b[d];e.C&&c.push(e)}for(b=0;b<c.length;b++)if(d=QEb(a,c[b].getId()),!d||!Pj(d,5,!1))return!1;return!0};function bGh(a,b){this.L=a;this.J=b}function cGh(a){return dGh(a).then(a.C.bind(a)).then(a.D.bind(a)).then(a.F.bind(a)).then(function(){return GDh(new v6,1)},a.H.bind(a))}bGh.prototype.H=function(a){if(a instanceof v6)return a;if(a instanceof Error)throw a;throw Error(a);};
function dGh(a){var b=new v6;return a.L.get().then(function(c){var d=c.D;switch(d){case 3:case 2:return Tp();case 4:return GDh(b,3),L(b,2,c.C),Up(b);case 1:return GDh(b,2),Up(b);case 5:return GDh(b,4),Up(b);default:throw Error("Unexpected enabled state: "+d);}})}bGh.prototype.D=function(){var a=this;return(new Sp(function(b,c){hid(a.J,b,c)})).then(function(b){if(b)return Tp();b=GDh(new v6,5);return Up(b)})};bGh.prototype.C=function(){if(pr())return Tp();var a=GDh(new v6,6);return Up(a)};
bGh.prototype.F=function(){var a=Uc(y(),"docs-offline-mrs");if(!a)throw Error("missing minRequiredSpace information");return new Sp(function(b,c){KLb().then(function(d){d=d.C;if(d>a)b();else{var e=GDh(new v6,7);e=L(e,3,a);d=L(e,4,d);c(d)}},c)})};function eGh(a){J(this,a,0,-1,null,null)}v(eGh,I);eGh.prototype.ea=function(){return Y(new E)};var fGh=new Hj(140441684,eGh);dF[140441684]=new Ij(fGh,ba(),function(a,b){for(;vj(b)&&!uj(b);)wj(b);return a});cF[140441684]=fGh;function gGh(a){Uo.call(this);this.hb=a||Yo();this.Oa=new Vo(this);this.qa(this.Oa);this.C=new Zy(a);this.C.gr(!1);$y(this.C,!1);this.C.Mc("docs-offline-optinpromo");this.C.render();a=this.C.La();Dp(a,!0);ux(a,"dialog");wx(a,"labelledby","docs-offline-optinpromo-title");wx(a,"describedby","docs-offline-optinpromo-description");this.qa(this.C);this.L=new cA(null);this.qa(this.L);this.J=new cA(null);this.qa(this.J);this.H=new cA(null);this.qa(this.H);this.O=this.F=this.D=null;hGh(this,iGh)}r(gGh,Uo);
function hGh(a,b){var c=ny(b);a.C.setContent(c);switch(b){case iGh:a.Oa.listen(a.C,"show",a.MGb);b=a.hb.getElement("docs-offline-optinpromo-optin");a.L.Wa(b);a.Oa.Nc(a.L,"action",u(a.vFb,a));b=a.hb.getElement("docs-offline-optinpromo-decline");a.J.Wa(b);a.Oa.Nc(a.J,"action",u(a.Xvb,a));a.D=a.hb.getElement("docs-offline-optinpromo-link-learn-more");a.F=a.hb.getElement("docs-offline-optinpromo-link-show-less");a.O=a.hb.getElement("docs-offline-optinpromo-learn-more-container");a.Oa.listen(a.D,"click",
u(a.i3a,a,!0)).listen(a.F,"click",u(a.i3a,a,!1));break;case jGh:b=a.hb.getElement("docs-offline-optinpromo-confirm-close");a.H.Wa(b);a.Oa.Nc(a.H,"action",u(a.show,a,!1));a.C.La().focus();break;default:throw Error("Cannot handle state "+b);}a.hb.getElement("docs-offline-optinpromo-title");a.hb.getElement("docs-offline-optinpromo-description")}m=gGh.prototype;m.i3a=function(a){P(this.D,!a);P(this.F,a);P(this.O,a);(a?this.F:this.D).focus();return!1};m.vFb=function(){this.dispatchEvent(new Go("hj"))};
m.Xvb=function(){this.dispatchEvent(new Go("ij"))};m.show=function(a){this.C.setVisible(a);a||this.dispatchEvent(new Go("jj"))};m.MGb=function(){this.C.La().focus();this.dispatchEvent(new Go("gj"))};
function iGh(a,b){a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">Work offline and don\'t miss a beat</span></div><div id="docs-offline-optinpromo-description"><div>Access your Docs, Sheets and Slides files when you\'re offline or your Internet connection isn\'t great.</div><div class="docs-offline-optinpromo-notice">Not recommended on public or shared computers. <a href="#" id="docs-offline-optinpromo-link-learn-more">Learn more</a><a href="#" id="docs-offline-optinpromo-link-show-less" style="display: none">Show less</a></div></div><div id="docs-offline-optinpromo-learn-more-container" style="display: none" tabindex="0"><hr>Protect your Google Drive by enabling offline access only on personal computers or computers where you have a password-protected account. Enabling offline access on public or shared computers can put your data at risk, as others may be able to view your synced Google documents, spreadsheets and presentations.<hr></div><br><div class="docs-offline-optinpromo-buttons">'+R(bA({id:"docs-offline-optinpromo-optin",
content:"Turn on offline access",style:2},b));a+=R(bA({id:"docs-offline-optinpromo-decline",content:"No, thanks",style:0},b));return T(a+"</div></div>")}
function jGh(a,b){a='<div><div id="docs-offline-optinpromo-title"><span class="docs-offline-optinpromo-title-text">You\'re ready</span></div><div id="docs-offline-optinpromo-description">Your work will sync once you\'re online again. Then you\'ll be able to keep editing offline.</div><div class="docs-offline-optinpromo-buttons docs-offline-optinpromo-confirm-buttons">'+R(bA({id:"docs-offline-optinpromo-confirm-close",content:"Close"},b));return T(a+"</div></div>")};function kGh(a){this.C=a}function lGh(a,b){var c=(c=a.C.getItem("optInLog"))?JSON.parse(c):[];c.push({email:b,timestamp:Oa()});a.C.setItem("optInLog",Sm(c))}function mGh(){var a=qa.localStorage;if(!a)throw Error("Local storage not available");return new kGh(a)};function nGh(a,b,c){this.H=a;this.C=[8];this.F=b;this.D=c}function oGh(a){return UFh(a.H).then(function(b){return pGh(b).then(function(){var c=fid();if(!c)throw Error("Missing user info for enabling offline in flags.");return qGh(a,b,c)})}).then(function(b){return rGh(a,b)})}function pGh(a){return(new Sp(function(b,c){ZPa(a.C.J,b,c)})).then(function(b){if(b&&b.length)throw Error("Aborting opt-in because there is another user in LocalStorage.");})}
function qGh(a,b,c){var d=new bza(K(c,1),!0);cza(d,K(c,2));eza(d,K(c,3));gza(d,!!Mj(c,4));hza(d,!!Mj(c,6));Ng(d,"optInReasons",a.C);fza(d,Date.now());return(new Sp(function(e,f){b.write([d],e,f)})).then(function(){return d})}
function rGh(a,b){lGh(mGh(),dza(b)||"");qa.localStorage&&(qa.localStorage.removeItem("docs-uoo"),qa.localStorage.setItem("docs-oiouid",b.getId()));b=new bF;var c=new dEh;b.iN(eEh,c);Vid(a.F,b);b=new AQ;var d=new gid(b);return thd(b).then(function(){return new Sp(function(e,f){hid(d,e,f)})}).then(function(e){var f=iid(),h=new Ak;a.C[0]&&L(h,1,cPa(a.C[0]));L(h,10,e);L(h,11,f);e=a.D.Xv(81E3,0);f=aF(e);Yj(f,34,h);a.D.Jt(e)})};function sGh(){var a=y(),b=z(a,"docs-offline-ecpl")?"https://jmt17.google.com/log":void 0,c=!(Fa(qa)&&qa.window==qa)||!qa.document||!qa.document.documentElement,d=Vc(a,"docs-offline-ue");if(z(a,"docs-eea"))return new $V(306,function(){return d?Xre([{key:"e",value:d}]):null},null,T1e,b,c,!0);a=Vc(a,"gaia_session_id");return new $V(306,Xre,a||null,T1e,b,c,!0)};function tGh(a){this.D=a}tGh.prototype.C=function(a,b,c){WFh(this.D).then(function(d){d?(new Xxf(d.C,"offline",null)).C(a,b,c):b()})};function uGh(){this.C=this.jh=null}function vGh(a){switch(a){case "scary":return 3;case "canary":return 2;case "prod":return 1;default:return 0}};function wGh(a,b,c,d,e,f){A.call(this);this.hb=f||Yo();this.D=a;this.Za=b;this.Xa=c;this.fb=d;a=new eFb;this.qa(a);this.F=new Uid(a,kid());this.qa(this.F);this.Ja=new EQ(this.F,kid(),this);this.qa(this.Ja);this.Ba=new EQ(this.F,null,this);this.qa(this.Ba);this.L=new SFh(this.Za,this.F,"OfflinePromoControllerLockSessionId");this.qa(this.L);a=new $Fh(this.L,this.Za);b=new AQ;this.Va=new bGh(a,new gid(b));a=new uGh;a.C=this.L;if(a.C)c=new tGh(a.C);else if(a.jh)c=new Xxf(a.jh,"offline",null);else throw Error("Must set either a LocalStore or LocalStoreSupplier");
a=new VEb;b=Xfd();f=c;c=sGh();d=new Zxf(c);f=uob()?f:new eyf;d=new cyf(d,null,f);c=new Yxf(c);a=y4e(t4e(v4e(u4e(w4e(s4e(r4e(new q4e,d),c)),b),84),a));b=(new byf(!1)).get();c=y();d=Vc(c,"jobset");L(b,9,vGh(d));d=MZe(a.Yv(),1E3*Oa());d.D=b;NZe(d,Vc(c,"buildLabel"));c=Oef(!1);null!=c&&(b=a.Yv(),f=LZe(b,c.H),d=c.C,K(uV(f),4),f=uV(f),L(f,4,d),nj&&z(y(),"docs-ccdil")&&(d=new kZe,d=L(d,1,c.D),c=L(d,2,c.F||[]),b=OZe(b),K(b,9),Yj(b,9,c)));this.Qa=a;this.Qa.tC();this.Sa=fld(this.hb);this.C=null;this.Oa=new Vo(this);
this.qa(this.Oa);this.O=new Do;this.qa(this.O);this.R=new Rq(this.Qzb,6E4,this);this.qa(this.R);this.va=!1;this.V=this.H=null;this.Ea=lA.getInstance();this.J=this.Ra=!1;this.ma=vob()&&ox("56.0.2924.87");this.Na=!1;this.bb=e}r(wGh,A);m=wGh.prototype;m.init=function(){var a=this;pr()&&(xGh(this),yGh(this),A6(this).then(function(){zGh(a)},function(b){jq(a.Za,El(b))}))};
function zGh(a){a.F.connect();Eo(a.O,a.D.ZL(),function(){a.R.start();A6(a)});Eo(a.O,a.D.uR(),function(){a.R.stop();xGh(a);yGh(a);A6(a)});Eo(a.O,a.Sa.VH(),function(){AGh(a)});a.Ja.listen(eEh,a.hWb);a.Ba.listen(eEh,a.gWb).listen(fGh,a.Drb)}
function A6(a){return cGh(a.Va).then(function(b){var c=1==b.D(),d=a.D.Qn(),e;if(!(e=a.J)&&(e=!pOa())){try{var f=!!qa.localStorage.getItem("docs-urop")}catch(l){f=!0}e=!f}f=e;var h=y();e=!!Vc(h,"promo_id_for_preference");h=z(h,"promo_is_contextual");e=!e||h;if((c=c&&a.ma&&f)&&!(c=!d)){try{var k=!!qa.localStorage.getItem("docs-wownoi")}catch(l){k=!1}c=k&&e}k=c;a.Ra||(k?a.C||(a.C=new gGh(a.hb),a.qa(a.C),a.Oa.listen(a.C,"hj",a.wFb).listen(a.C,"ij",a.sFb).listen(a.C,"jj",a.agb),a.C.show(!0),AGh(a)):a.C&&
a.C.show(!1));if(a.fb)if(2==b.D()||d||k)BGh(a);else if(a.V&&!ek(b,a.V)&&BGh(a),null==a.H){d=CGh(b);if(!a.Na)switch(b.D()){case 1:break;case 3:DGh(a,"Offline ineligible, other user enabled");break;case 7:DGh(a,"Offline ineligible, insufficient disk space");break;case 5:DGh(a,"Offline ineligible, policy disallows");break;case 6:DGh(a,"Offline ineligible, no extension");break;case 4:DGh(a,"Offline ineligible, invalid db state");break;default:DGh(a,"Offline ineligible, unknown reason")}b=1==b.D()&&a.ma?
oA(d,"Turn on",a.hHb.bind(a),"info",!1):nA(d,"info",!1);a.H=a.Ea.postMessage(b)}})}m.Qzb=function(){Znb()||JDh(!0)};
m.xFb=function(){if(this.D.Qn()){var a=Vc(y(),"docs-offline-hsu");var b="<div>";a="The next time you're offline, just visit <a href=\"//"+(U(a)+'">'+(R(a)+('</a> to create and edit without interruption. <a href="'+(U(kx("https://support.google.com/docs/answer/2375012?hl=en-GB"))+'">Learn more</a>'))));b=T(b+a+'</div><img class="doc-offline-welcomepromo-img" src="//ssl.gstatic.com/images/icons/material/system/2x/cloud_download_googblue_36dp.png">');b=jbb("Your documents are syncing",cx(b),void 0,this,
"Got it!","docs-offline-welcomepromo",this.hb);Dx(b.Mq(),"docs-offline-welcomepromo-bg");this.qa(b);this.C&&this.C.show(!1)}else this.Ra=!0,hGh(this.C,jGh);A6(this)};m.hWb=function(){A6(this)};m.gWb=function(){A6(this)};m.Drb=function(){this.J=!1;A6(this)};m.uFb=function(a){jq(this.Za,a instanceof Error?a:Error(a?"Opt-in error: "+a:"Unknown opt-in error"));a=GB(this.bb,"Failed to turn on offline access. Please try again later.",this.hb);a.D=!0;a.render();a.setVisible(!0);this.qa(a)};
m.wFb=function(){EGh(this,2054,this.D.Qn());JDh(!1);oGh(new nGh(this.L,this.F,this.Qa)).then(u(this.xFb,this),u(this.uFb,this))};m.sFb=function(){this.D.Qn()?EGh(this,2055,!0):LDh(!0);JDh(!1);qa.localStorage.setItem("docs-urop","true");this.J=!1;A6(this);var a=new bF,b=new eGh;a.iN(fGh,b);Vid(this.F,a)};
function CGh(a){switch(a.D()){case 1:return"To edit offline, turn on offline sync.";case 3:return"You cannot edit offline because offline sync is enabled for another user, "+(a.O()+".");case 7:return"There is insufficient storage space on your device to turn on offline sync.";case 5:return"Offline sync has been disabled by your administrator.";default:return"To edit offline, turn on offline sync when you reconnect."}}
function DGh(a,b){var c={};c.offlineIssueReason=b;c.offlineIssueType="OFFLINE_EDITING_BLOCKED_OFFLINE_DISABLED";Uk(a.Za,Error("Offline editing disabled: "+b),c);a.Na=!0}function BGh(a){null!=a.H&&(mA(a.Ea,a.H),a.H=null,a.V=null)}m.hHb=function(){this.J=!0;A6(this)};m.agb=function(){Tf(this.C);this.C=null};function AGh(a){!a.va&&a.C&&"hidden"!=a.Sa.getState()&&(a.D.Qn()?EGh(a,2847,!0):KDh(!0),a.va=!0)}
function xGh(a){try{var b=!!qa.localStorage.getItem("docs-rops")}catch(c){b=!1}b&&a.D.Qn()&&(KDh(!1),EGh(a,2847,!1))}function yGh(a){try{var b=!!qa.localStorage.getItem("docs-ropd")}catch(c){b=!1}b&&a.D.Qn()&&(LDh(!1),EGh(a,2055,!1))}function EGh(a,b,c){var d=new Ck;c=L(d,2,c);c=fz(bz(wcb(new az,c),43));a.Xa.C(b,c)};function FGh(a,b,c,d){A.call(this);this.C=a;this.Qa=c;this.L=d;this.D=new Do;this.qa(this.D);this.Ba=new EQ(b,kid(),this);this.qa(this.Ba);this.F=fld();this.qa(this.F);this.O=!1;z(y(),"docs-offline-eeooip");this.Ja=new AQ;this.ma=null;this.va=this.R=this.V=!1;this.J=new Rq(this.Ea,Math.floor(27E4*Math.random())+3E4,this);this.qa(this.J);this.H=[]}r(FGh,A);
FGh.prototype.init=function(){var a=this;this.Ba.listen(eEh,this.Na);this.ma=pr();Eo(this.D,this.F.VH(),function(){return GGh(a)});this.H.push(new HGh("reload-after-opt-in","Reload to allow offline editing.","docs-offline-reload-after-opt-in-butter-dismiss",this.L));this.H.push(new HGh("reload-after-extension-installation","The Docs Offline extension has been enabled. Reload to take effect.","docs-offline-reload-after-installation-butter-dismiss",this.L))};
function IGh(a){a.va||(Eo(a.D,a.C.ZL(),function(){return JGh(a)}),Eo(a.D,a.C.uR(),function(){return JGh(a)}),a.va=!0)}FGh.prototype.Na=function(){this.O||(this.O=!0,IGh(this),"visible"==this.F.getState()||this.J.Gb()||this.J.start(),JGh(this))};function JGh(a){var b=!1;a.H.forEach(function(c){var d;if(d=!b){d=!1;switch(c.O){case "reload-after-opt-in":d=a.O&&a.C.Qn();break;case "reload-after-extension-installation":d=a.V&&a.C.Qn()}d=d&&!c.F}d?(KGh(c),b=!0):null!=c.C&&(mA(c.H,c.C),c.C=null)})}
FGh.prototype.Ea=function(){this.R||!this.C.Qn()||yo(this.Qa.e_(),64)||OE(this.L)};function GGh(a){var b="visible"==a.F.getState();a.R||(a.R=b&&a.H.some(function(c){return null!=c.C}));b&&0==a.ma&&!a.V&&LGh(a).then(function(c){c&&(a.V=!0,IGh(a),JGh(a))})}function LGh(a){return xhd(a.Ja).then(function(){return pr()})}
function HGh(a,b,c,d){A.call(this);var e=this;this.O=a;this.L=b;this.J=d;this.F=!1;this.C=null;this.H=lA.getInstance();this.D=new mw(c);this.qa(this.D);this.D.setProperty("label","Dismiss");this.D.Pa(!0);this.D.yb(mt,function(){e.F=!0})}r(HGh,A);function KGh(a){null==a.C&&(a.C=a.H.postMessage(oA(a.L,"Reload",function(){OE(a.J)},"info",!0,void 0,a.D)))};function MGh(a,b,c,d){A.call(this);var e=this;this.C=c;this.L=!1;this.F=GB(this.C,"Offline enabled",void 0,!1,3E3,!1,void 0,!0);this.D=GB(this.C,"Could not enable offline access.",void 0,!1,3E3,!1,void 0,!0);this.H=new REh(a,11,b,d);this.qa(this.H);a.D.L().then(function(){e.L=!0;(Mt(),V_a).Pa(!0);V_a.subscribe("action",e.J,e)},function(f){jq(d,El(f))})}r(MGh,A);MGh.prototype.J=function(){var a=this;SEh(this.H).then(function(b){2==b||1==b?NGh(a,a.F):3==b&&NGh(a,a.D)})};
function NGh(a,b){b.isVisible()||(a.F.setVisible(!1),a.D.setVisible(!1),b.tb()||b.render(),b.setVisible(!0))}MGh.prototype.Ka=function(){(Mt(),V_a).unsubscribe("action",this.J,this);A.prototype.Ka.call(this);IB(this.C,this.F);IB(this.C,this.D);Uf(this.F,this.D)};function OGh(a,b,c,d,e,f,h,k,l,n,q,t){A.call(this);var w=this,x=y();this.F=Vc(x,"docs-offline-lsuid");this.H=new eFb;this.C=new Uid(this.H,kid());this.qa(this.C);this.C.connect();this.Za=b;f=new FGh(a,this.C,e.C,f);this.qa(f);f.init();z(x,"docs-offline-eeooip")&&(c=new wGh(a,b,c,d,l,t),this.qa(c),c.init());this.D=new HDh;this.qa(this.D);c=nLa("/iframeapi");c=new NFh(this.F,c,1,PGh());this.qa(c);x=z(x,"docs-sw-eswhfe");b=new jEh(c,this.D,this.F,!1,!0,!1,a,b,!1,x);this.qa(b);b.start().oh(function(F){w.Za.log(El(F))});
q.resolve(b);q=new CEh(e.D,c,this.C,this.Za);this.qa(q);q.start();a=new VEh(e,h,c,q,this.D,k,b,this.Za,l,a,n);this.qa(a);a.init();z(y(),"docs-eesi")&&(k=new MGh(b,k,l,this.Za),this.qa(k))}r(OGh,A);function PGh(){switch(Vc(y(),"docs-dt")){case "kix":return 5;case "ritz":return 6;case "punch":return 7;case "drawing":return 8}throw Error("Unable to map document type to source application.");};function QGh(){gJ.apply(this,arguments)}r(QGh,gJ);QGh.prototype.C=function(a,b,c,d,e,f,h,k,l,n,q){return new OGh(a,b,c,!0,d,e,f,h,k,l,n,q)};kJ("offline",QGh);
