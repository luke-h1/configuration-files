function jgh(a){var b=new Sca;$a(b,a);b.D(Error(b));return b}b3c.prototype.q0=X(1428,function(a){Hx(this.kb.Kw(this.D),"docs-icon-comment-blank-highlighted",a)});f3c.prototype.q0=X(1427,function(a){var b=cI(this.D);this.C.Ye(function(c){var d=a&&c.Hp().gb()==b;c.q0(d)})});YO.prototype.QUa=X(1418,function(a,b){for(var c=this.V[a],d=vd(arguments,1),e=0;e<c.length;++e){var f=c[e];(f.isEnabled(this)||MLc[a])&&f[LLc[a]].apply(f,d)}});
JZb.prototype.UNa=X(1281,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||bG(h)&&d||PWe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||bG(c)&&d||PWe(c)))return c;return null});ima.prototype.Kha=X(7,function(){throw jgh("setValue not supported").C;});dda.prototype.H=X(2,function(){throw jgh("remove").C;});Gda.prototype.H=X(1,function(){this.J.splice(this.F,1);this.F--});
hma.prototype.H=X(0,function(){kda(0<=this.F);oma(this.J,this.L[this.F]);pma(this.J);--this.F});function kgh(a,b){a.mV=b.mV;return a}function lgh(a,b,c,d){var e=0;Sa(a,b)&&(a=a.slice(e,e+d),e=0);var f=e;for(e+=d;f<e;){var h=Math.min(f+1E4,e);d=h-f;f=a.slice(f,h);f.splice(0,0,c,0);Array.prototype.splice.apply(b,f);f=h;c+=d}}function mgh(a,b,c){for(a=a.mj();a.C();){var d=a.D();if(Ab(b,d))return c&&a.H(),!0}return!1}function ngh(a,b,c){return a.Yg(b)?a.Eza(b,c):null}
function ogh(a,b){var c=b.Gr();b=b.Hr();var d=a.get(c);return!Ab(b,d)||null==d&&!a.Yg(c)?!1:!0}function pgh(a){return a?a.Hr():null}function qgh(a){if(a.F.C())return!0;if(!Sa(a.F,a.R))return!1;a.F=a.L.C.mj();return a.F.C()}function rgh(a,b){return(a=a.C.get(b))?a:[]}function sgh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(Ab(a,d.Gr()))return d}return null}function tgh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}
function ugh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function vgh(a,b){for(b=b.mj();b.C();){var c=b.D().Hr();if(Ab(a,c))return!0}return!1}function wgh(){this.J=this.F=0}r(wgh,Ra);wgh.prototype.C=function(){return this.F<this.L.size()};wgh.prototype.D=function(){this.C();return this.L.hsa(this.J=this.F++)};wgh.prototype.H=function(){this.L.Aka(this.J);this.F=this.J;this.J=-1};function xgh(){wgh.call(this)}r(xgh,wgh);function ygh(){this.J=!1}r(ygh,Ra);
ygh.prototype.C=g("J");ygh.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=qgh(this);return a};ygh.prototype.H=function(){this.O.H();this.O=null;this.J=qgh(this)};function zgh(){}r(zgh,Ra);zgh.prototype.C=function(){return this.F.C()};zgh.prototype.D=function(){return this.F.D().Hr()};zgh.prototype.H=function(){this.F.H()};function Agh(){}r(Agh,Ra);Agh.prototype.C=function(){return this.F.C()};Agh.prototype.D=function(){return this.F.D().Gr()};Agh.prototype.H=function(){this.F.H()};
function Bgh(){this.F=this.J=0}r(Bgh,Ra);Bgh.prototype.C=function(){return this.J<this.L.C.length};Bgh.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};Bgh.prototype.H=function(){this.L.Aka(this.J=this.F);this.F=-1};function Cgh(a){var b;null==a?b=0:b=Eb(a)|0;return b}function Dgh(a,b){for(var c=Cgh(b),d=rgh(a,c),e=0;e<d.length;e++){var f=d[e];if(Ab(b,f.Gr()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Hr()}return null}
function Egh(){this.F=0}r(Egh,Ra);Egh.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};Egh.prototype.D=function(){return this.L=this.J[this.F++]};Egh.prototype.H=function(){Dgh(this.O,this.L.Gr());0!=this.F&&this.F--};function Fgh(){this.D=0}r(Fgh,Ra);Fgh.prototype.mj=function(){var a=new Egh;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function Ggh(a){var b=0;for(a=a.mj();a.C();){var c=a.D();b+=ica(c);b|=0}return b}function Hgh(){}r(Hgh,Ra);Hgh.prototype.equals=function(a){return null!=a&&a.W0?Ab(this.Gr(),a.Gr())&&Ab(this.Hr(),a.Hr()):!1};Hgh.prototype.Ak=function(){return ica(this.Gr())^ica(this.Hr())};Hgh.prototype.toString=function(){return Ua(this.Gr())+"="+Ua(this.Hr())};Hgh.prototype.W0=!0;function Igh(){this.F=0}r(Igh,Hgh);Igh.prototype.Gr=function(){return this.C.value[0]};
Igh.prototype.Hr=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};Igh.prototype.Kha=function(a){return ugh(this.D,this.C.value[0],a)};function Jgh(){}r(Jgh,Ra);Jgh.prototype.C=function(){return!this.J.done};Jgh.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new Igh,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};Jgh.prototype.H=function(){tgh(this.F,this.O.value[0])};function Kgh(){this.D=this.F=0}r(Kgh,Ra);
Kgh.prototype.mj=function(){var a=new Jgh;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function Lgh(a){var b=new Fgh;b.C=new Map;b.F=a;a.C=b;b=new Kgh;b.C=new Map;b.H=a;a.D=b}function Mgh(a,b){return Sa(b,a)?"(this Map)":Ua(b)}function Ngh(){}r(Ngh,Ra);Ngh.prototype.toString=function(){return this.C?$b(this.D)?this.C.toString():Ua(this.C.toString())+Ua(this.D):this.J};function Ogh(a,b){var c=new Ngh;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Ua(c.F)+Ua(c.D);return c}
function Pgh(a,b){a.C?Jb(a.C,a.H):a.C=qca(a.F);a=a.C;a.ys=Ua(a.ys)+Ua(b)}function Qgh(){}r(Qgh,Ra);m=Qgh.prototype;m.Gr=g("D");m.Hr=g("C");m.Kha=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.W0?Ab(this.D,a.Gr())&&Ab(this.C,a.Hr()):!1};m.Ak=function(){return ica(this.D)^ica(this.C)};m.toString=function(){return Ua(this.D)+"="+Ua(this.C)};m.W0=!0;function Rgh(){}r(Rgh,Qgh);function Sgh(a,b){var c=new Rgh;c.D=a;c.C=b;return c}
function Tgh(a,b,c){var d=Cgh(b),e=rgh(a,d);if(0==e.length)a.C.set(d,e);else if(d=sgh(b,e))return d.Kha(c);e[e.length]=Sgh(b,c);a.D++;return null}function Ugh(a,b,c){for(a=a.UI().mj();a.C();){var d=a.D();if(Ab(b,d.Gr()))return c&&(d=Sgh(d.Gr(),d.Hr()),a.H()),d}return null}function Vgh(){}r(Vgh,Ra);m=Vgh.prototype;m.add=function(){throw jgh("Add not supported on this collection").C;};m.addAll=function(a){var b=!1;for(a=a.mj();a.C();){var c=a.D();b=!!(+b|+this.add(c))}return b};
m.clear=function(){for(var a=this.mj();a.C();)a.D(),a.H()};m.contains=function(a){return mgh(this,a,!1)};m.y6b=function(a){for(a=a.mj();a.C();){var b=a.D();if(!this.contains(b))return!1}return!0};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return mgh(this,a,!0)};m.Kc=function(a){for(var b=!1,c=this.mj();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Jf=function(){return this.WVa(Array(this.size()))};
m.WVa=function(a){var b=this.size();a.length<b&&(a=kgh(Array(b),a));for(var c=a,d=this.mj(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};m.toString=function(){for(var a=Ogh("[","]"),b=this.mj();b.C();){var c=b.D();Pgh(a,Sa(c,this)?"(this Collection)":Ua(c))}return a.toString()};function Wgh(){}r(Wgh,Vgh);Wgh.prototype.clear=function(){this.C.clear()};Wgh.prototype.contains=function(a){return this.C.Bv(a)};Wgh.prototype.mj=function(){var a=this.C.UI().mj(),b=new zgh;b.F=a;return b};
Wgh.prototype.size=function(){return this.C.size()};function Xgh(){}r(Xgh,Vgh);Xgh.prototype.equals=function(a){return Sa(a,this)?!0:null!=a&&a.gFa?a.size()!=this.size()?!1:this.y6b(a):!1};Xgh.prototype.Ak=function(){return Ggh(this)};Xgh.prototype.Kc=function(a){var b=this.size();if(b<a.size())for(var c=this.mj();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.mj();a.C();)c=a.D(),this.remove(c);return b!=this.size()};Xgh.prototype.gFa=!0;function Ygh(){}r(Ygh,Xgh);m=Ygh.prototype;m.clear=function(){this.C.clear()};
m.contains=function(a){return null!=a&&a.W0?ogh(this.C,a):!1};m.mj=function(){var a=new ygh;a.L=this.C;a.R=a.L.D.mj();a.F=a.R;a.J=qgh(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Gr()),!0):!1};m.size=function(){return this.C.size()};function Zgh(){}r(Zgh,Xgh);m=Zgh.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Yg(a)};m.mj=function(){var a=this.C.UI().mj(),b=new Agh;b.F=a;return b};
m.remove=function(a){return this.C.Yg(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function $gh(){}r($gh,Ra);m=$gh.prototype;m.clear=function(){this.UI().clear()};m.Yg=function(a){return!!Ugh(this,a,!1)};m.Bv=function(a){for(var b=this.UI().mj();b.C();){var c=b.D().Hr();if(Ab(a,c))return!0}return!1};m.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.G6a||this.size()!=a.size())return!1;for(a=a.UI().mj();a.C();){var b=a.D();if(!ogh(this,b))return!1}return!0};
m.get=function(a){return pgh(Ugh(this,a,!1))};m.Ak=function(){return Ggh(this.UI())};m.isEmpty=function(){return 0==this.size()};m.uRb=function(){var a=new Zgh;a.C=this;return a};m.Eza=function(){throw jgh("Put not supported on this map").C;};m.remove=function(a){return pgh(Ugh(this,a,!0))};m.size=function(){return this.UI().size()};m.toString=function(){for(var a=Ogh("{","}"),b=this.UI().mj();b.C();){var c=b.D();c=Ua(Mgh(this,c.Gr()))+"="+Ua(Mgh(this,c.Hr()));Pgh(a,c)}return a.toString()};
m.values=function(){var a=new Wgh;a.C=this;return a};m.replace=function(a,b){return ngh(this,a,b)};m.G6a=!0;function ahh(){}r(ahh,$gh);m=ahh.prototype;m.clear=function(){Lgh(this)};m.Yg=function(a){var b;bc(a)?b=null==a?!!sgh(null,rgh(this.C,Cgh(null))):void 0!==this.D.C.get(a):b=!!sgh(a,rgh(this.C,Cgh(a)));return b};m.Bv=function(a){return vgh(a,this.D)||vgh(a,this.C)};m.UI=function(){var a=new Ygh;a.C=this;return a};
m.get=function(a){var b;bc(a)?b=null==a?pgh(sgh(null,rgh(this.C,Cgh(null)))):this.D.C.get(a):b=pgh(sgh(a,rgh(this.C,Cgh(a))));return b};m.Eza=function(a,b){var c;bc(a)?c=null==a?Tgh(this.C,null,b):ugh(this.D,a,b):c=Tgh(this.C,a,b);return c};m.remove=function(a){var b;bc(a)?b=null==a?Dgh(this.C,null):tgh(this.D,a):b=Dgh(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return ngh(this,a,b)};function bhh(){}r(bhh,ahh);
bhh.prototype.replace=function(a,b){return ngh(this,a,b)};function chh(){}r(chh,Vgh);m=chh.prototype;m.add=function(a){this.OGa(this.size(),a);return!0};m.OGa=function(){throw jgh("Add not supported on this list").C;};m.clear=function(){this.VVa(0,this.size())};m.equals=function(a){if(Sa(a,this))return!0;if(null==a||!a.fFa||this.size()!=a.size())return!1;a=a.mj();for(var b=this.mj();b.C();){var c=b.D(),d=a.D();if(!Ab(c,d))return!1}return!0};
m.Ak=function(){for(var a=1,b=this.mj();b.C();){var c=b.D();a=31*a+ica(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(Ab(a,this.hsa(b)))return b;return-1};m.mj=function(){var a=new wgh;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(Ab(a,this.hsa(b)))return b;return-1};m.Aka=function(){throw jgh("Remove not supported on this list").C;};
m.VVa=function(a,b){var c=new xgh;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.fFa=!0;function dhh(){}r(dhh,chh);m=dhh.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.OGa=function(a,b){this.C.splice(a,0,b)};m.addAll=function(a){a=a.Jf();if(0==a.length)return!1;lgh(a,this.C,this.C.length,a.length);return!0};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.hsa=function(a){return this.C[a]};
m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(Ab(a,this.C[b])){a=b;break a}a=-1}return a};m.mj=function(){var a=new Bgh;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(Ab(a,this.C[b])){a=b;break a}a=-1}return a};m.Aka=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.Aka(a);return!0};m.size=function(){return this.C.length};
m.Jf=function(){var a=this.C;return kgh(a.slice(0,this.C.length),a)};m.WVa=function(a){var b=this.C.length;a.length<b&&(a=kgh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.VVa=function(a,b){this.C.splice(a,b-a)};m.fFa=!0;function ehh(a){var b=new jua;return Yj(b,6,a)}function fhh(){var a=Sw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function ghh(a){var b=new lm;a.C.forEach(function(c){c.isEmpty()||b.addAll(c.Hd())});return b.Hd()}
function hhh(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Vm(k,h));return!0});return e}function ihh(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Vm(h,f),!0):!1});return d}function jhh(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?hhh(a,!!b,d,e):ihh(a,d,e)}function khh(a,b){a.C.V=b;a.va&&a.D&&(P(a.D,0<b),Cp(a.D.childNodes[1],b))}function lhh(a,b,c){a.C.highlightDoco(VQ(a.D,b),null==c?void 0:c)}
function mhh(a,b){var c={},d;for(d in b){var e=VQ(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function nhh(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function v4(a){return a.C.hasUnpostedDocos()}function ohh(){}r(ohh,Xgh);m=ohh.prototype;m.add=function(a){return null==this.C.Eza(a,this)};m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Yg(a)};
m.isEmpty=function(){return this.C.isEmpty()};m.mj=function(){return this.C.uRb().mj()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.gFa=!0;function phh(a,b){return!(!a.C[b]&&!a.J[b])}function qhh(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new Owf(c,a.H):Pwf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||Nwf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new owf(d.D.metadata,d.F):uwf),e=b(d.C));if(e)return d.getUrl()}}return null}
function rhh(a){null===a.F&&(a.F=qhh(a.C,function(b){return!!b&&!pwf(b)}),null===a.F&&(a.F=fxf(a,qhh)));return a.F}function shh(a,b,c,d){rB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(shh,rB);shh.prototype.ux=function(){this.fB=[this.C?P$a(this.element):this.element.offsetLeft,this.element.offsetTop];shh.Ya.ux.call(this)};function thh(a,b){A.call(this);this.Qg=a;this.C=b}v(thh,A);m=thh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);
m.Ff=function(a,b,c){this.Qg.D.Ff(this.C+":"+a,u(this.qKa,this,b),c)};m.yJ=function(a){this.D=u(this.qKa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Qg.D.send(this.C+":"+a,b)};m.qKa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ka=function(){this.Qg=this.Qg.C[this.C]=null};function uhh(a){A.call(this);this.D=a;this.C={};this.D.yJ(u(this.F,this))}v(uhh,A);
function vhh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new thh(a,b);return a.C[b]=c}uhh.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};uhh.prototype.Ka=function(){Rd(this.C,function(a){Tf(a)});Tf(this.D);delete this.C;delete this.D};var whh={bc:!0,cc:!0,dc:!0,ec:!0,ic:!0,jc:!0};
function xhh(){return T('<div class="'+U("docs-docos-activitybox")+'"><div class="'+U("docs-docos-activitybox-inner")+'"></div></div>')}function yhh(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}r(yhh,Q);m=yhh.prototype;
m.Ca=function(){Q.prototype.Ca.call(this);var a=this.oa(),b=ny(xhh,{},{},a);this.pb(b);this.D=a.getElement("docs-docos-caret");this.H=a.cb("docs-docos-activitybox-inner",b);this.L&&(Dx(b,"docos-enable-new-header"),Dx(this.D,"docos-enable-new-header"));this.O?Dx(b,"docos-streampanesize"):Dx(b,"docos-streampanesize-legacy")};
m.Ia=function(){Fz(this.getElement(),"docos");this.F=new AA(this.getElement());this.F.yj("close-box",27);this.C=new Ox(this.getElement(),"toggle_display");Px(this.C,!0);fme(this.C,!1);this.C.hLa=!1;this.getHandler().listen(this.F,"shortcut",this.YUb).listen(this.C,"show",this.V$b).listen(this.C,"hide",this.U$b).listen(this.C,"beforeshow",this.T$b).listen(this.C,"beforehide",this.S$b)};m.ub=g("H");m.V$b=function(){P(this.D,!0);this.dispatchEvent("show")};m.U$b=function(){P(this.D,!1)};m.T$b=function(){return this.dispatchEvent("beforeshow")};
m.S$b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.YUb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ka=function(){Tf(this.F);delete this.F;delete this.D;delete this.H;Tf(this.C);delete this.C;Q.prototype.Ka.call(this)};
function zhh(a,b,c){cS.call(this,void 0,b,!0,!0);this.L=a;this.H=c;this.setTitle("Comment limit");Sx(this,"You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy.");this.C.setContent("Make a copy");I0e(this,"Reload");this.xs=!0}r(zhh,cS);zhh.prototype.Ca=function(){cS.prototype.Ca.call(this);Dx(this.getElement(),"post-limit-error-dialog")};
zhh.prototype.dA=function(){var a=fz(bz(new az,12));(Mt(),av).qb(!0,a);this.H.C(30066);cS.prototype.dA.call(this)};zhh.prototype.zY=function(){OE(this.L,!0);this.H.C(30065)};
function Ahh(a,b,c,d,e,f,h,k,l){f=void 0===f?!1:f;h=void 0===h?new Zo:h;k=void 0===k?(Mt(),w4a):k;Uo.call(this);this.F=null;this.ma=!1;this.hb=h;this.C=a;this.Qa=e;this.Ra=new zhh(b,this.hb,this.Qa);this.Va=c;this.Sa=d;this.Na=f;this.D=new yhh(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.hb);this.Oa=new Vo(this);this.V=new Uz(this);this.Ba=new Wz(void 0,void 0,!0,MB.getInstance());this.J=k;this.va=
!1;this.Ea=z(y(),"docs-edll");this.O=(this.H=oy())&&z(y(),"docs-ehspc");this.Ja=l||null;this.L=null;this.R=!1;this.C.onReady(u(this.jac,this))}r(Ahh,Uo);m=Ahh.prototype;m.render=ba();
m.jac=function(){var a=this;if(!this.H||this.O)var b=Bhh(this);this.V.yb((Mt(),Ov),mt,this.sgc);b=this.H?ap("docs-chrome"):b.parentNode.parentNode;this.D.render(b);P(this.D.getElement(),!1);Ov.Pa(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.ub());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Ea);this.Va&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
Chh(this)?Dhh(this):this.C.isLinkedDocoDeleted()&&Ehh();this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.fXa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,u(this.fXa,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(this.R=!0,Fhh(this,this.C.hasUnseenDocos()),this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){a.R&&Fhh(a,a.C.hasUnseenDocos())}));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.hbc,
this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.V.yb(this.J,kt,this.R_a);this.R_a(new rYa("enabled",this.J.isEnabled(),!1));this.Na||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.dVb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.X$b,this));this.Oa.listen(this.D,["show","hide"],this.z8b)};
function Bhh(a){var b=a.hb.getElement("docs-docos-commentsbutton");a.F=DT(null);Ry(a.F,16,!1);a.F.Wa(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.L=a.hb.Ca("SPAN","docs-docos-commentsbutton-badge"),Fhh(a,!1),a.hb.appendChild(b,a.L));Yz(a.Ba,a.F,(Mt(),Ov),$z);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}m.fXa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
m.hbc=function(a){if(!this.H||this.O)a=a.getArgs(),this.MCa(a.getDisplay(),!1),this.Ja&&this.Ja(Iw(this.D.ub()))};m.R_a=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function Chh(a){if(a.H||!a.Ea)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}m.sgc=function(){this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(Fhh(this,!1),this.R=!1);Dhh(this);var a=this.D;a.C&&!Bab(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.dVb=function(){if(!this.ma&&Hq(this.Sa,0)){if(this.C.hasPendingContent()){var a=nA("Failed to post comment due to a network error.","warning",!0);lA.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason");this.ma=!0}};
m.X$b=function(){var a=this.Ra;a.setVisible(!0);a.H.C(30064);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason")};function Ehh(){var a=nA("This comment has been deleted.","info",!0);lA.getInstance().postMessage(a)}m.z8b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a||this.O);this.F&&this.F.Jb(a);a||this.dispatchEvent("activity-box-closed")};
m.MCa=function(a,b){b=void 0===b?!0:b;a&&Dhh(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function Fhh(a,b){a.L&&P(a.L,b)}function Dhh(a){a.va||(a.va=!0,a.C.renderPaneSurface())}m.Ka=function(){Tf(this.F);Tf(this.Oa);Tf(this.D);Tf(this.Ba);Tf(this.V);Uo.prototype.Ka.call(this)};function w4(a,b,c){Go.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}r(w4,Go);function Ghh(){Uo.call(this);this.F=new lm;this.D=this.H=this.J=null;this.L=this.C=!1}r(Ghh,Uo);
function Hhh(a,b,c){x4(a);a.D=b;a.H=c;a.dispatchEvent(new w4("De",[b],c))}Ghh.prototype.R=function(a,b){x4(this);this.D=a;this.H=b;this.dispatchEvent(new w4("Be",[a],b))};function Ihh(a){a.C||a.D||x4(a);a.dispatchEvent("Le")}Ghh.prototype.O=function(){x4(this);this.dispatchEvent("Ge")};Ghh.prototype.reset=function(){x4(this);this.dispatchEvent("Je")};function x4(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}
Ghh.prototype.Ka=function(){delete this.J;delete this.F;delete this.H;delete this.D;Uo.prototype.Ka.call(this)};function Jhh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function Khh(a){var b=new iua,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new iDd(b)}function Lhh(a,b){return(a=ZH(a,b))?a.Fc():null}
function Mhh(a,b){return b?(b=rDd(b))&&sDd(tDd(b))?Lhh(a,b.gb()):null:null}var Nhh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,Ohh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function Phh(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Oe(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(Nhh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,t){return Nd(n[2],t)&&bha(n[1],q)>bha(n[1],t)},l||(e="http://"),l=h.match(Ohh),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Qe("a",b,h));d.push(l);return""});return Re(d)}function Qhh(a){this.Eb=Nn(a,-1,0)}r(Qhh,Rn);Qhh.prototype.fc=function(){return new Rhh(this)};Qhh.prototype.rl=function(){return ao(this,1)};Qhh.prototype.getRange=function(){return this.qg(2,lo)};function Rhh(a){bo.call(this,a)}r(Rhh,bo);Rhh.prototype.rl=function(){return this.message.rl()};Rhh.prototype.getRange=function(){return this.message.getRange()};function Shh(a,b,c){pJ.call(this,35);this.jd=a;this.C=b;this.F=c}r(Shh,pJ);Shh.prototype.Ld=function(){var a=void 0===a?Tn(Qhh):a;a=new Rhh(a);a=ko(a,1,this.jd);var b=fG(this.F,this.C);a=jo(a,2,b);return co(a)};Shh.prototype.Fg=ea(!1);function y4(){}y4.prototype.getType=ea("ApiEventArgs");y4.prototype.getType=y4.prototype.getType;function Thh(a){this.C=a}v(Thh,y4);ra("docos.api.FindSelectionArgs",Thh,void 0);function Uhh(a){return"FindSelectionArgs"===a.getType()}Thh.isFindSelectionArgs=Uhh;Thh.prototype.getType=ea("FindSelectionArgs");Thh.prototype.getVerticalOffset=g("C");Thh.prototype.getVerticalOffset=Thh.prototype.getVerticalOffset;function Vhh(a){this.F=a}Vhh.prototype.C=function(){if(!gI(this.F.C))return[];var a=jI(this.F.C),b=QI(a);if(vhc(KK(this.F.Na,a),b).length){var c=pI(a,b);a=a.Kb();var d=b.x;b=b.y;c=[lM(this.F)?d0b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};Vhh.prototype.D=ea(0);function Whh(a,b){this.F=a;this.J=b;this.H=uCd()}Whh.prototype.C=function(){if(!gI(this.F.C))return[];var a=jI(this.F.C),b=QI(a);a=vhc(KK(this.F.Na,a),b);if(!a.length)return["Not on a comment"];a=this.H.sb(a[0]);b=this.J;b.C.verbalizeDoco(VQ(b.D,a));return[]};Whh.prototype.D=ea(0);function Xhh(a,b,c,d,e,f,h,k,l,n,q,t,w){A.call(this);this.D=a;this.V=b;this.va=c;this.Sa=d;this.H=e;this.Xa=f;this.Qa=h;this.Va=k;this.C=l;this.L=n;this.J=b.Na;this.F=b.C;this.O=uCd();this.ma={};this.Ea=new lm;this.Ba=new KIa(0);a=[this.Ba];ud(q.F,a);skb(q,a);q.C=qkb(q.F);rkb(q);this.Ja=t;this.Na=new Mtf(w,this.Ja.F);this.qa(this.Na);this.R=new Vo(this);this.qa(this.R);this.Ra=!1;Yhh(this)}r(Xhh,A);
function Yhh(a){var b=bd(gSb,function(d){return!whh[d]});a.R.listen(a.Sa,"activity-box-closed",a.xDb).listen(a.H,"mouseover",z4(a,a.bOb)).listen(a.H,"click",z4(a,a.A1b)).listen(a.H,"selectionChange",z4(a,a.cOb)).listen(a.H,"inputBoxActivate",z4(a,a.ZNb)).listen(a.H,"hide_docos",z4(a,a.aOb)).listen(a.F,"qa",z4(a,a.z1b)).listen(a.Qa,"Kd",a.pKb).listen(a.Qa,"Ld",a.nKb).listen(a.Qa,"Md",a.mKb).listen(a.H,"insert_doco",a.x1b).listen(new kP(a.Va),uOc(),a.fOb).listen(a.V,"docos_change",a.nOb).listen(a.L,
"$i",a.lrb).listen(a.F,"pa",a.XSa).listen(a.H,"overlay-redraw",a.MFb);var c=nG(a.F);a.R.listen(c,b,a.$Nb);a.R.listen(c,["hc"],z4(a,a.y1b));WQ(a.D,Docos.EventType.HOVER,z4(a,a.Ewb));WQ(a.D,Docos.EventType.SELECTED,z4(a,a.w1b));WQ(a.D,Docos.EventType.CREATED,a.KQa,a);WQ(a.D,Docos.EventType.UNRESOLVED,a.KQa,a);WQ(a.D,Docos.EventType.DELETED,a.LQa,a);WQ(a.D,Docos.EventType.RESOLVED,a.LQa,a);WQ(a.D,Docos.EventType.POSTED,a.gxb,a);WQ(a.D,Docos.EventType.PENDING,a.qGb,a);WQ(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.vAb,a);wD.yb(kt,u(a.rBb,a));(Mt(),Ov).yb(kt,u(a.Pqb,a));Pv.subscribe("action",u(a.fEb,a));Qv.subscribe("action",u(a.mEb,a));Rv.subscribe("action",u(a.nEb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Ja.C(yv,new fw(b));a.Na.bind(yv.getId(),new Whh(a.V,a.D));a.Ja.C(zv,new fw(b));a.Na.bind(zv.getId(),new Vhh(a.V));a.XSa()}m=Xhh.prototype;m.XSa=function(){var a=gI(this.F);(Mt(),Pv).Pa(a);Qv.Pa(a);Rv.Pa(a)};m.MFb=function(){Zhh(this.L)};
m.rBb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.V.kQ())};function z4(a,b){return function(c){a.Ra||b.call(a,c)}}m.x1b=function(){var a=jI(this.F),b=QI(a);if(b&&!v4(this.D)&&!$hh(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new Shh(c,a.Kb(),tn(b));b=u(this.sBb,this,c,b);a.D=b;this.Xa.C(a)}};m.sBb=function(a,b,c){c&&(a=aih(this,this.O.sb(new rCd(a))))&&(this.C.dispatchEvent(new w4("Fe",[a],b)),this.va.Db(2))};
function $hh(a,b,c){b=vhc(KK(a.J,b),c);return b.length?(lhh(a.D,a.O.sb(b[0]),!0),!0):!1}m.KQa=function(a){var b=this;$c(a.D,function(c){bih(b,!0,c);b.Ea.add(c)})};m.LQa=function(a){var b=this;$c(a.D,function(c){bih(b,!1,c);b.Ea.remove(c)})};
function bih(a,b,c,d,e){c=aih(a,c);d=d||Mhh(a.F,c);e=e||iS(c);if(c&&d&&e){var f=KK(a.J,d);if(b){var h=f.C.dg(e.y,e.x)||new lm;h.add(c);f.J++;zSb(f.C,e.y,e.x,h)}else(h=f.C.dg(e.y,e.x))&&h.remove(c)&&f.J--;zSb(f.D,e.y,e.x,!0);f.H.Gb()||f.H.start();a.F.getActiveGrid()&&(d=d==jI(a.F),b?(a=a.C,(b=d?e:null)&&Wm(b,a.J)&&a.F.add(c),a.dispatchEvent(new w4("xe",[c],b))):(a=a.C,(b=d?e:null)&&Wm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new w4("Ie",[c],b))))}else a.C.dispatchEvent("Ke")}
function aih(a,b){if(!b)return null;if(!a.ma[b]){var c=a.O.D(b);c&&(a.ma[b]=c)}return a.ma[b]}m.z1b=function(){this.C.reset()};m.Ewb=function(a){a=cih(this,a);var b=iS(a);this.C.dispatchEvent(new w4("Ce",[a],b))};m.gxb=ba();m.qGb=function(){HXe(this.Ba,this.D.C.hasPendingContent())};m.vAb=function(a){this.Sa&&(a.J||this.C&&!this.C.D)&&this.Sa.MCa(!0)};m.xDb=function(){this.va.Db(3)};
m.w1b=function(a){if(!(a.C&&Uhh(a.C)||v4(this.D))){var b=cih(this,a),c=iS(b);b&&c?(this.Ra=!0,Hhh(this.C,b,c)):b||a.J?this.C.reset():b||this.va.Db(3)}};m.lrb=function(){this.Ra=!1};m.aOb=function(){this.C.dispatchEvent("Ee")};m.cOb=function(){if(!this.L.isEmpty()&&!v4(this.D)){this.va.Db(3);var a=this.C,b=QI(jI(this.F));Wm(a.H,b)||!a.D&&!a.C&&Wm(a.J,b)||(x4(a),a.dispatchEvent(new w4("Ae",[],b)))}};
m.A1b=function(){var a=jI(this.F);if(!v4(this.D)&&a){var b=KK(this.J,a),c=(a=QI(a))?vhc(b,a):[];c.length&&(b=this.C,c=c[0],Wm(b.H,a)?(x4(b),b.dispatchEvent(new w4("ye",[],a))):b.dispatchEvent(new w4("ye",[c],a)))}};m.ZNb=function(){v4(this.D)||this.C.reset()};m.y1b=function(){Ihh(this.C)};m.$Nb=function(){Ihh(this.C)};
m.nOb=function(a){a=a.O||[];wd(a);for(var b=0;b<a.length;b++){var c=this.O.sb(new rCd(a[b]));if(c){var d=aih(this,c);(d=t_e(this.J,d))?(bih(this,!1,c,d.model,d.Gpa),bih(this,!0,c),this.C.dispatchEvent("Ke")):this.Ea.contains(c)&&bih(this,!0,c)}}};m.bOb=function(a){var b=jI(this.F);if(b){if((a=a.ck)&&Iqc(a)){var c=QH(b,a.y,a.x);a=c?Gn(c):a}else a=null;b=KK(this.J,b);b=a?vhc(b,a):[];c=this.C;c.F.clear();c.F.addAll(b);c.J=a;c.dispatchEvent(new w4("ze",b,a))}};
m.pKb=function(){if(!v4(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;x4(a);a.C=b;a.dispatchEvent("He")}}};m.nKb=function(){if(!v4(this.D)){var a=this.C;a.C||(x4(a),a.L=!0,a.C=!0,a.dispatchEvent("He"))}};m.mKb=function(){if(!v4(this.D)){var a=this.C;a.C&&a.L&&(x4(a),a.dispatchEvent("He"))}};m.fOb=function(a){a.stopPropagation()};function cih(a,b){b=b.D;return aih(a,b.length?b[0]:null)}
m.v1b=function(a){var b=aih(this,a);a=Mhh(this.F,b);if(!b||!a)return"";b=iS(b);a=wI(pI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.Pqb=function(){var a=this.D;if(a=Mtd(a.D,a.C.getLinkedDoco())||"")if(a=aih(this,a)){var b=iS(a);Hhh(this.C,a,b)}else(Mt(),Ov).qb()};m.fEb=function(){var a=jI(this.F);$hh(this,a,QI(a))};m.mEb=function(){dih(this,!1)};m.nEb=function(){dih(this,!0)};
function dih(a,b){var c=eih(a,b),d=bI(a.F),e=jI(a.F),f=QI(e),h=KK(a.J,e);f=jhh(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Fc(),h=KK(a.J,e),f=jhh(h,null,b),k=k.Ag(),k!=d););f&&null!==k&&(b=vhc(h,f)[0],eI(a.F,k,u(a.B1b,a,e,b,f)))}function eih(a,b){var c=b?u(a.F.UNa,a.F):u(a.F.dta,a.F);return function(d){return c(d,0,!0,!0)}}m.B1b=function(a,b,c){Hhh(this.C,b,c);TI(a,c)};
m.Ka=function(){delete this.H;delete this.Va;delete this.O;delete this.ma;delete this.D;delete this.J;delete this.R;delete this.Xa;delete this.F;delete this.V;Tf(this.Ba);delete this.Ba;Tf(this.L);delete this.L;Tf(this.C);delete this.C;A.prototype.Ka.call(this)};var fih={VDc:"docos-insert-discussion",Boc:"docos-cancel-insert-discussion",oLc:"docos-new-doco",pLc:"docos-new-reply",jsc:"docos-delete-doco",lsc:"docos-delete-reply",Nvc:"docos-edit-doco",Pvc:"docos-edit-reply",Ovc:"docos-edit-draft",Gnc:"docos-before-highlight-doco",tBc:"docos-highlight-doco",wTc:"docos-speak-doco",EQc:"docos-resolve-doco",xnc:"docos-back-to-document",jlc:"docos-accept-suggestion",tQc:"docos-reject-suggestion",jqc:"docos-convert-doco",ksc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",AXc:"docos-update-sort",$Xc:"docos-vote-doco",aYc:"docos-vote-reply",QKc:"mouse-hover-doco-view"};function gih(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.L=void 0===c?!1:c;this.J=void 0===d?!0:d;this.O=void 0===e?null:e;this.H=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.cU=void 0===k?!1:k}function A4(){return new gih("")}function B4(a){return new hih(a)}function hih(a){this.L=a;this.J=void 0;this.D=!1;this.F=this.H=!0;this.C=void 0;this.cU=!1}function C4(a,b){a.J=b;return a}function iih(a){a.H=!1;return a}function jih(a,b){a.F=b;return a}
function kih(a){a.cU=!0;return a}function D4(a){return new gih(a.L,a.J,a.D,a.H,void 0,a.F,a.C,a.cU)};function E4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}ra("docos.Event",E4,void 0);ra("docos.api.Event",E4,void 0);E4.prototype.getType=g("type");E4.prototype.getType=E4.prototype.getType;E4.prototype.getAnchors=g("anchors");E4.prototype.getAnchors=E4.prototype.getAnchors;
E4.prototype.getDocos=g("docos");E4.prototype.getDocos=E4.prototype.getDocos;E4.prototype.isNonAnchored=g("nonAnchored");E4.prototype.isNonAnchored=E4.prototype.isNonAnchored;E4.prototype.isUserInitiated=g("userInitiated");E4.prototype.isUserInitiated=E4.prototype.isUserInitiated;E4.prototype.getArgs=g("args");E4.prototype.getArgs=E4.prototype.getArgs;E4.prototype.canPreventDefault=ea(!1);E4.prototype.canPreventDefault=E4.prototype.canPreventDefault;
E4.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};E4.prototype.preventDefault=E4.prototype.preventDefault;E4.prototype.getAnchorIds=g("D");E4.prototype.getAnchorIds=E4.prototype.getAnchorIds;E4.prototype.getDocoHandles=g("F");E4.prototype.getDocoHandles=E4.prototype.getDocoHandles;function lih(a){return new F4(a)}E4.builder=lih;function F4(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}ra("docos.api.Event.Builder",F4,void 0);
F4.prototype.addAnchorId=function(a){this.C.push(a);return this};F4.prototype.addAnchorId=F4.prototype.addAnchorId;F4.prototype.setAnchorIds=function(a){this.C=a;return this};F4.prototype.setAnchorIds=F4.prototype.setAnchorIds;F4.prototype.addDocoHandle=function(a){this.D.push(a);return this};F4.prototype.addDocoHandle=F4.prototype.addDocoHandle;F4.prototype.setDocoHandles=function(a){this.D=a;return this};F4.prototype.setDocoHandles=F4.prototype.setDocoHandles;
F4.prototype.setNonAnchored=function(a){this.F=a;return this};F4.prototype.setNonAnchored=F4.prototype.setNonAnchored;F4.prototype.setUserInitiated=function(a){this.H=a;return this};F4.prototype.setUserInitiated=F4.prototype.setUserInitiated;F4.prototype.setApiEventArgs=function(a){this.args=a;return this};F4.prototype.setApiEventArgs=F4.prototype.setApiEventArgs;F4.prototype.isEmpty=function(){return ld(this.C)&&ld(this.D)&&!this.args};F4.prototype.isEmpty=F4.prototype.isEmpty;
F4.prototype.build=function(){return new E4(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new y4)};F4.prototype.build=F4.prototype.build;function mih(a,b){E4.call(this,a,[],[],!1,!1,new y4);this.interval=this.interval=b}v(mih,E4);ra("docos.api.TimedEvent",mih,void 0);function nih(){this.C={};this.D={}}function oih(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Mo(c,"end",function(){delete f[b];delete h[b];e()})}function pih(a,b){(a=a.C[b])&&a.stop()}nih.prototype.getDuration=function(a){return this.D[a]};function qih(a){var b=a.Ti,c=a.gC,d=a.Ge;a=a.OS;return T('<div class="'+U("docos-icon")+" "+U("goog-inline-block")+(d?" "+U(d):"")+" "+U(c)+'"><div class="'+U("docos-icon-img")+" "+U("docos-icon-img-container")+" "+U(b)+(a?" "+U("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function rih(a){var b=a.size,c=a.Ge,d=a.ofb,e=a.jqa;a=a.e3;return T('<img class="'+U("docos-avatar")+(c?" "+U(c):"")+'" width="'+U(b)+'" height="'+U(b)+'" alt=""'+(d?' src="'+U(lx(d))+'"':"")+(e?' data-hovercard-id="'+U(e)+'"':"")+(a?' data-name="'+U(a)+'"':"")+"/>")};function sih(a,b){var c=a.HHa,d=a.wj,e=a.Eo;a='<div class="'+U("docos-assigneeview")+'"><table><tr><td class="'+U("docos-assigneeview-avatar-container")+'">'+R(rih({size:32,Ge:"docos-assigneeview-avatar"}))+'</td><td class="'+U("docos-assigneeview-assigneeinfo")+'"><div class="'+U("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+U("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+U("hide-on-readonly")+'">';e=e={wj:d,Eo:e};d=e.wj;e=e.Eo;var f='aria-label="'+
jx("Mark as done and hide discussion.");b=""+R(bA({hd:"docos-mark-done-button",title:"Mark as done and then hide discussion",attributes:ix(f+'"'),style:e?4:0,content:hx(""+R(qih({Ti:"docos-icon-accept-checkmark-black",gC:"docos-icon-accept-checkmark-size",Ge:"docos-icon-checkmark jfk-button-img"}))),kK:d},b));b=T(b);return T(a+(c+b+"</td></tr></table></div>"))};function tih(a,b){return a?uih(G4(a),b):!1}function vih(a,b){return a?tih(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function wih(a,b){a=G4(a);return xih(a,b)}function yih(a,b,c){a=xih(a,b,!0);return c?(new VA("Reassign to {user}")).format({user:a}):(new VA("Assign to {user}")).format({user:a})}function xih(a,b,c){return uih(a,b)?c?"you":"You":H4(a)}function uih(a,b){return null!=a.getEmail()&&null!=b.Xg().getEmail()&&a.getEmail()==b.Xg().getEmail()};function I4(a,b){Q.call(this,b);this.$c=zih(a);this.C=J4(a)}v(I4,Q);I4.prototype.Id=!1;I4.prototype.Ia=function(){I4.Ya.Ia.call(this);this.Id&&(this.Zd(),Aih(this))};function Bih(a){a.Id||(a.Id=!0,a.getHandler().listen(a.C,"r",a.Zd),a.Zd(),Aih(a))}I4.prototype.Zd=function(){if(this.tb()){var a=this.getElement(),b=this.C.D;Hx(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));Hx(this.getElement(),"docos-offline",this.C.J)}};
function K4(a,b,c,d){a.$c&&(d=a.$c.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function Aih(a){a.tb()&&K4(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.gh)}I4.prototype.gh=function(a){a.stopPropagation()};function Cih(a,b,c,d){this.C=a;this.D=b;this.H=c;this.F=(void 0===d?null:d)||null};function Dih(a,b,c,d){I4.call(this,a,b);this.H=a;this.Ic(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new cA(null);this.qa(this.R)}r(Dih,I4);m=Dih.prototype;
m.Ca=function(){var a=this.oa(),b=L4(Eih(this)),c=ny(sih,{HHa:wih(b,this.C),wj:this.C.wj(),Eo:"legacy"!=this.C.F});this.pb(c);this.L=a.cb("docos-icon-checkmark",c);this.O=a.cb("docos-icon-img-container",c);this.J=a.cb("docos-mark-done-button",c);this.R.Wa(this.J);K4(this,this.R,"action",this.xTb);this.F=a.cb("docos-assigneeview-assignee-text",c);this.D=qV(a,"IMG","docos-assigneeview-avatar",c);a=G4(b);Fih(M4(this.H),this.D,a.D,H4(a));Gih(this,b)};
m.Ia=function(){I4.prototype.Ia.call(this);var a=L4(Eih(this));a=G4(a);Hih(this,a,this.F);Hih(this,a,this.D)};
function Gih(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!tih(b,a.C)||"black"==Ez()&&Hf||"material_light_background"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=vih(b,a.C);Gx(a.getElement(),["docos-assignee-you","docos-assignee-other"]);Gx(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);Gx(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
Gx(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);Dx(a.L,d);Dx(a.O,e);Dx(a.J,c);Dx(a.getElement(),b)}function Eih(a){return N4(a.H).ld(a.getId())}m.update=function(){var a=L4(Eih(this)),b=wih(a,this.C)||"";Cp(this.F,b);O4(M4(this.H),this.D);b=G4(a);Fih(M4(this.H),this.D,b.D,H4(b));Gih(this,a);Hih(this,b,this.F);Hih(this,b,this.D)};
function Hih(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.xTb=function(a){a&&a.stopPropagation();(a=Eih(this))&&!a.isResolved()&&(a=P4(this.H),this.dispatchEvent("br"),a.yf("docos-resolve-doco").qb(new Cih(this.getId(),!0,Iih(this.V))),this.dispatchEvent("ar"))};m.zd=function(){I4.prototype.zd.call(this)};
m.Ka=function(){I4.prototype.Ka.call(this);delete this.F;delete this.D;delete this.L};function Q4(a){J(this,a,0,-1,null,null)}v(Q4,I);m=Q4.prototype;m.ea=function(){var a=new E;Jih(this,a);return Y(a)};function Jih(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function Kih(a){J(this,a,0,1,null,null)}v(Kih,I);var Lih={};Kih.prototype.ea=function(){var a=new E;Mih(this,a);return Y(a)};function Mih(a,b){Kj(a,b,Lih,Kih.prototype.getExtension)};function Nih(a){J(this,a,0,-1,null,null)}v(Nih,I);m=Nih.prototype;m.ea=function(){var a=new E;Oih(this,a);return Y(a)};function Oih(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,Kih,3);null!=c&&b.Aa(3,c,Mih);c=K(a,4);null!=c&&b.Ha(4,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};
m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function Pih(a){J(this,a,0,-1,null,null)}v(Pih,I);Pih.prototype.ea=function(){var a=new E;Qih(this,a);return Y(a)};function Qih(a,b){a=N(a,gY,1);null!=a&&b.Aa(1,a,jof)};function Rih(a){J(this,a,0,-1,null,null)}v(Rih,I);Rih.prototype.ea=function(){var a=new E;Sih(this,a);return Y(a)};function Sih(a,b){var c=N(a,gY,1);null!=c&&b.Aa(1,c,jof);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&Bj(b,4,c)}Rih.prototype.D=function(a){L(this,2,a)};function Tih(a){J(this,a,0,-1,Uih,null)}v(Tih,I);var Uih=[5];Tih.prototype.ea=function(){var a=new E;Vih(this,a);return Y(a)};function Vih(a,b){var c=K(a,1);null!=c&&Bj(b,1,c);c=K(a,2);null!=c&&Bj(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Xj(a,Rih,5);0<c.length&&Gj(b,5,c,Sih)};function Wih(a){J(this,a,0,-1,null,null)}v(Wih,I);Wih.prototype.ea=function(){var a=new E;Xih(this,a);return Y(a)};function Xih(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)};function Yih(a){J(this,a,0,-1,null,null)}v(Yih,I);m=Yih.prototype;m.ea=function(){var a=new E;Zih(this,a);return Y(a)};function Zih(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&Aj(b,2,c);c=K(a,3);null!=c&&Aj(b,3,c)}m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function $ih(a){J(this,a,0,-1,null,null)}v($ih,I);m=$ih.prototype;m.ea=function(){var a=new E;ajh(this,a);return Y(a)};function ajh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,Yih,3);null!=c&&b.Aa(3,c,Zih);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.Ha(5,c);c=K(a,9);null!=c&&b.Ha(9,c);c=K(a,6);null!=c&&b.Ha(6,c);c=N(a,Wih,7);null!=c&&b.Aa(7,c,Xih);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,10);null!=c&&b.Ha(10,c);c=K(a,12);null!=c&&b.Ha(12,c)}
m.getName=function(){return K(this,1)};m.Zc=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Ic=function(a){return L(this,9,a)};function bjh(a){J(this,a,0,-1,cjh,null)}v(bjh,I);var cjh=[8];m=bjh.prototype;m.ea=function(){var a=new E;djh(this,a);return Y(a)};
function djh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=a.getContent();null!=c&&b.Aa(3,c,Jih);c=N(a,Q4,4);null!=c&&b.Aa(4,c,Jih);c=N(a,gY,5);null!=c&&b.Aa(5,c,jof);c=N(a,$ih,14);null!=c&&b.Aa(14,c,ajh);c=K(a,6);null!=c&&Bj(b,6,c);c=K(a,7);null!=c&&Bj(b,7,c);c=R4(a);0<c.length&&Gj(b,8,c,djh);c=S4(a);null!=c&&b.Aa(9,c,Oih);c=N(a,zT,21);null!=c&&b.Aa(21,c,Wpe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Bj(b,13,c);
c=K(a,15);null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.Ha(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,Pih,18);null!=c&&b.Aa(18,c,Qih);c=N(a,Tih,19);null!=c&&b.Aa(19,c,Vih);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Ic=function(a){return L(this,1,a)};m.getContent=function(){return N(this,Q4,3)};m.setContent=function(a){return Yj(this,3,a)};m.kq=function(){return null!=K(this,3)};function R4(a){return Xj(a,bjh,8)}
function S4(a){return N(a,Nih,9)}m.getOrigin=function(){return K(this,17)};function ejh(a,b){void 0!==b.getId()&&a.Ic(b.getId());var c=T4(b);if(void 0!==c){var d=T4(a);c?d?fjh(d,c):Yj(a,2,c):Yj(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.iq();if(void 0!==d)if(c=a.iq(),d)if(c){void 0!==d.getId()&&c.Ic(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?gjh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,U4,3);void 0!==d&&(e=N(c,U4,3),d?e?ejh(e,d):Yj(c,3,d):Yj(c,3,void 0))}else a.bv(d);else a.bv(void 0);void 0!==Mj(b,
6)&&(c=Mj(b,6),L(a,6,c));void 0!==Mj(b,7)&&(c=Mj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Mj(b,9)&&(b=Mj(b,9),L(a,9,b))}
function fjh(a,b){void 0!==b.getId()&&a.Ic(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?gjh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,Q4,4);void 0!==c&&(d=N(a,Q4,4),c?d?gjh(d,c):Yj(a,4,c):Yj(a,4,void 0));c=N(b,gY,5);void 0!==c&&(c?Yj(a,5,c):Yj(a,5,void 0));d=N(b,$ih,14);if(void 0!==d)if(c=N(a,$ih,14),d)if(c){void 0!==d.getName()&&c.Zc(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,Yih,3);if(void 0!==e){var f=
N(c,Yih,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else Yj(c,3,e);else Yj(c,3,void 0)}void 0!==Mj(d,4)&&(e=Mj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,Wih,7);void 0!==f&&(e=N(c,Wih,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):Yj(c,7,f):Yj(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else Yj(a,14,d);else Yj(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));R4(b)&&(c=sd(R4(a),R4(b)),bk(a,8,c));d=S4(b);void 0!==d&&(c=S4(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,Kih,3)&&(e=N(d,Kih,
3),Yj(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):Yj(a,9,d):Yj(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Mj(b,12)&&(c=Mj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Mj(b,15)&&(c=Mj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,Pih,18);void 0!==c&&(e=N(a,Pih,18),c?e?(d=N(c,gY,1),void 0!==d&&(c=N(e,gY,1),d?c?
(void 0!==d.getName()&&c.Zc(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Ic(d.getId()),void 0!==Mj(d,5)&&(e=Mj(d,5),L(c,5,e)),void 0!==Mj(d,7)&&(e=Mj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):Yj(e,1,d):Yj(e,1,void 0))):Yj(a,18,c):Yj(a,18,void 0));d=N(b,Tih,19);void 0!==d&&(c=N(a,Tih,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,
4)&&(e=K(d,4),L(c,4,e)),void 0!==Xj(d,Rih,5)&&(d=Xj(d,Rih,5),bk(c,5,d))):Yj(a,19,d):Yj(a,19,void 0));void 0!==N(b,zT,21)?(c=N(b,zT,21),Yj(a,21,c)):void 0!==b.getContent()&&Yj(a,21,void 0);void 0!==Mj(b,22)&&(c=Mj(b,22),L(a,22,c));void 0!==Mj(b,23)&&(b=Mj(b,23),L(a,23,b))}function gjh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function hjh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Ld(b)?Md(b.toLowerCase()):null;this.L=c;this.D=d;this.jd=e;this.H=f;this.C=h}hjh.prototype.getName=g("J");hjh.prototype.getEmail=g("F");hjh.prototype.getId=g("jd");function H4(a){a=Ld(sf(a.getName()))?a.getEmail():a.getName();return sf(a)}hjh.prototype.equals=function(a){return this.J==a.J&&this.F==a.F&&this.L==a.L&&this.jd==a.jd&&this.H==a.H&&this.C==a.C};
function ijh(a){var b=jjh(kjh(ljh(mjh((new V4).Zc(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Ic(a.getId()||""),!!Mj(a,5));a=!!Mj(a,7);b.D=a;return njh(b)}function ojh(a){var b=(new gY).Ic(a.getId()||""),c=a.getName();null!==c&&b.Zc(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function V4(){}V4.prototype.Zc=function(a){this.H=a;return this};function mjh(a,b){a.C=b&&!Ld(b)?Md(b.toLowerCase()):null;return a}
function ljh(a,b){a.L=b;return a}function kjh(a,b){a.J=b;return a}V4.prototype.Ic=function(a){this.jd=a;return this};function jjh(a,b){a.F=b;return a}function njh(a){return new hjh(a.H,a.C,a.L,a.J,a.jd,a.F,a.D)};function pjh(a){N(a,gY,1);this.C=a}function G4(a){a=N(a.C,gY,1);return ijh(a)}pjh.prototype.ye=g("C");pjh.prototype.equals=function(a){return ek(this.C,a.C)};function qjh(a){var b=new Pih;a=ojh(a);b=Yj(b,1,a);return new pjh(b)};function rjh(a){N(a,gY,1);K(a,2);this.C=a}rjh.prototype.ye=g("C");function sjh(a){this.C=a}function tjh(a,b){var c=[];a=Xj(a.C,Rih,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new rjh(e))}return c}function W4(a){return null!=K(a.C,4)?K(a.C,4):0}sjh.prototype.ye=g("C");function ujh(){var a=vjh;this.C=[];this.D={};this.F=a}ujh.prototype.text=function(a){this.C.push(a)};function wjh(a,b){if(a.D[b])a.C.push(b);else{var c=new xjh(b,a.C.length);a.C.push(c);a.D[b]=c}}function yjh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=bd(Xd(a.D),function(e){return e.D>c.D});zd(d,function(e,f){return yd(e.D,f.D)});a.C.push(new zjh(a.F[b].close,d,a.F))}else a.C.push(b)}ujh.prototype.getResult=function(){return this.C.join("")};
function xjh(a,b){this.F=a;this.D=b;this.C=null}xjh.prototype.getName=g("F");xjh.prototype.toString=function(){return null!==this.C?this.C:this.F};function zjh(a,b,c){this.F=a;this.C=b;this.D=c}zjh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function Ajh(a){a=Ne(Phh(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new Bjh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new Cjh(a.substring(0,c))),a=a.substring(c);b.push(new Bjh(a));return new Djh(b)}function Ejh(a){var b=new ujh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=Fjh.test(d);d=Gjh.test(d);f?d?b.D[e]?yjh(b,e):wjh(b,e):wjh(b,e):d?yjh(b,e):b.text(e)}return new Bjh(b.getResult())}
function Hjh(a){return new Bjh(a.replace(Ijh,"<br>"))}var Ijh=/\r\n|\n|\r/g,vjh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},Fjh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,Gjh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function Bjh(a){this.ef=a}Bjh.prototype.C=function(a){return a(this.ef)};Bjh.prototype.toString=g("ef");function Cjh(a){this.ef=a}Cjh.prototype.C=function(){return this};Cjh.prototype.toString=g("ef");
function Djh(a){this.ai=a}Djh.prototype.C=function(a){var b=cd(this.ai,function(c){return c.C(a)});return new Djh(b)};Djh.prototype.toString=function(){return this.ai.join("")};function Jjh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=Jjh.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),Yj(a,4,void 0),Yj(a,9,void 0));if(void 0!==N(a,zT,21)||void 0!==a.getContent())this.D=null;fjh(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return ek(this.C,a.C)};
m.nx=function(){var a=N(this.C,gY,5)||new gY;return ijh(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.Nu=function(){this.H||(this.H=YV(K(this.C,6)));return this.H};m.AH=function(){if(void 0===K(this.C,7))return this.Nu();this.J||(this.J=YV(K(this.C,7)));return this.J};function Kjh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=YV(K(a.C,13))),b=a.F;if(!b||a.AH()>b)b=a.AH();return b}
function Ljh(a){if(void 0!==S4(a.C)&&("text/html"==S4(a.C).getType()||"text/plain"==S4(a.C).getType())){var b=S4(a.C).getValue();b="text/html"==S4(a.C).getType()?b:kf(b)}return b||""}m.Z4=function(){if(void 0!==S4(this.C)){var a=N(S4(this.C),Kih,3);if(a)return a.Jf()}return null};m.dia=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};
m.eia=function(){if(null!=N(this.C,zT,21)&&!this.D){var a=N(this.C,zT,21);a=K(a,2)||"";this.D=Te(a,null)}return this.D};m.by=function(){return null!=N(this.C,Q4,4)?N(this.C,Q4,4).getValue()||"":""};m.Bs=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.JS=function(){return!!Mj(this.C,12)};m.Rq=function(){return!!K(this.C,13)};m.My=function(){var a=N(this.C,Pih,18);return null!=a?new pjh(a):null};m.qA=function(){var a=N(this.C,Tih,19);return null!=a?new sjh(a):null};
m.Vj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};m.UE=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function Mjh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.cxa=function(){return!!Mj(this.C,22)};m.Ywa=function(){return 2==this.getOrigin()};function X4(a,b){this.C=new bjh;L(this.C,11,a);b&&b!=a&&this.C.Ic(b)}
function Njh(a,b){var c=R4(a.C);c.push(b.C);bk(a.C,8,c);return a}function Ojh(a,b){L(a.C,16,b);return a}function Y4(a){L(a.C,12,!0);return a}function Pjh(a,b){L(a.C,6,b);return a}function Qjh(a){var b=Oa();L(a.C,13,b);return a}function Rjh(a){L(a.C,13,0);return a}function Sjh(a,b){Yj(a.C,18,b.ye());L(a.C,10,4);return a}function Tjh(a,b){b=ojh(b);Yj(a.C,5,b);return a}function Ujh(a,b){Yj(a.C,19,b.ye());return a}function Vjh(a){L(a.C,20,1);return a}
function Z4(a,b,c){b=Md(b);var d=(new Q4).setType("text/plain").setValue(b);Yj(a.C,4,d);b=(new Q4).setType("text/html").setValue(Ajh(b).C(Ejh).C(Hjh).toString());a.C.setContent(b);L(a.C,7,c);return a};function Wjh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Xjh(a,b){return a.F.getId()==b.nx().getId()}function Yjh(a,b){return Xjh(a,b)&&!!b.by()&&("suggest"==a.C||"full"==a.C)}function Zjh(a,b){return b instanceof Jjh&&void 0!==b.dia()?!1:(a.H||Xjh(a,b))&&(!!b.by()||b.Vj())&&("suggest"==a.C||"full"==a.C)}function $jh(a,b){return a.D&&!b.Vj()&&("suggest"==a.C||"full"==a.C)}Wjh.prototype.vxa=g("D");function akh(a){return"suggest"==a.C||"full"==a.C};function bkh(a){J(this,a,0,-1,null,null)}v(bkh,I);bkh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);return Y(a)};function ckh(a,b){this.D=a;this.C=b||null}ckh.prototype.jp=function(a,b,c){this.D(a,b,c)};ckh.prototype.$Ca=function(a){this.C&&this.C(a)};function dkh(a,b,c,d,e){d=d?d.Jf():void 0;e=e?e.Jf():void 0;a(b,c,d,e)};function ekh(a){Uo.call(this);this.t3(a)}v(ekh,Uo);m=ekh.prototype;
m.t3=function(a){var b=a.kd;this.hh=b;if(void 0===b.Xg())throw Error("Invalid or missing user.");var c=b.Xg();this.uKa=njh(jjh(kjh(ljh(mjh((new V4).Zc(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Ic(c.getId()||""),!!Mj(c,5)));this.vga=!!Mj(b,40);this.Zba=!Mj(b,20);this.$ba=K(b,11);this.pMa=!!Mj(b,12);this.Gqa=K(b,6);this.tKa=void 0!==a.l?!!a.l:!!Mj(b,25);this.I0a=K(b,21);this.Iqa=K(b,23);this.vKa=K(b,24);this.NUa=K(b,31);void 0!==a.i?this.Hqa=a.i:this.Hqa=void 0;if(a=hY(b))this.u3=K(a,1);this.dispatchEvent("r")};
m.Gqa=null;m.NUa=null;m.Hqa=void 0;m.$ba=null;m.tKa=!1;m.vga=!1;m.I0a=null;m.Iqa=null;m.vKa=null;m.Zba=!0;m.pMa=!1;m.uKa=null;m.u3=null;m.hh=null;m.Xg=g("uKa");function fkh(a,b,c){function d(f){return c?td(f):f}var e=null;a&&za(a)&&(e=d(a),za(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function gkh(a){this.C=a};function hkh(){}hkh.prototype.install=function(a){a=a&&Yo(a);$cb(a)};hkh.prototype.C=function(a,b){Cz(a,b,void 0)};hkh.prototype.kf=function(a){a=a&&Yo(a);edb(a)};hkh.prototype.D=function(a,b){VV(a,b)};function ikh(a,b){b=void 0===b?function(){return Wre()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));za(c)&&(c=fkh(c,"kd",!0),c.unshift("kd"),a.kd=new qof(c));ekh.call(this,a);this.Kj=b}r(ikh,ekh);m=ikh.prototype;
m.t3=function(a){ekh.prototype.t3.call(this,a);this.L=this.L||g5b("disco");var b;if(!(b=this.Ra)){b=g5b("usp_dm");var c=new oSd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Ra=b;this.pj=a["anchor-is-orphaned-fn"]||qe;this.Ba=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new gkh(a.containerdiv));this.jr=b;this.Pb=a.storage||null;this.Ad=!!a["storage-ro"];this.$d=!!a["disable-focus"];this.tD=!!a.so;this.eg=a.docscroller||null;this.To=a["inactive-doco-indent"]||10;this.Xa=
a["instant-docos-div"]||null;this.rb=a["enable-new-delete-ui"]||!1;this.ob=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new ckh(b,c));this.Bm=a["memory-monitor-fn"]||null;this.bb=a.layout||null;this.Bl=!!a.layoutrtl;this.H=a.listeners||{};this.O=a.panediv||null;this.va=a.panekbdiv||null;this.N3()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.jb=
b;this.Rc=a.quotefn||null;this.Id=a["user-color-provider-fn"]||null;this.uD=a["user-color-provider-from-name-fn"]||null;this.Ys=a.quoterenderfn||null;this.Kh=!!a["hide-notification"];this.J=!!a.offline;this.Cc=!!a.nocss;this.Oc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Zd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Mj(this.hh,8);this.D=new Wjh(this.Xg(),c?c:d?"readonly":"full",!!Mj(this.hh,
3),b);this.Va=!!a.iph;this.Xp=a.maxheight||0;this.$c=!!a.showerrors;this.qd=a["stream-button"]||null;this.Xe=!!a["disable-spfw"];this.Sa=a["anchor-mutate-fn"]||null;jkh(this)||(this.Sa=null);this.Tg=!!a["enable-comment-button"];this.Na=!!a["enable-gsuite-embedding"];this.ah=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.wn=a["acl-fix-fn"]||null;this.Yl=a["load-acl-fixer-fn"]||null;this.nf=a["intercept-docos-edit-fn"]||null;this.dj=a["is-an-illegal-write-fn"]||null;this.Sd=
!!a["defer-first-sync"];this.Bb=!!a["enable-lazy-loading"];this.Ja=!!a["enable-all-docos-in-anchored-stream"];this.jw=a["stream-pane-banner-message"]||null;this.$s=a["stream-pane-banner-learn-more-url"]||null;this.Pn=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Qa=(b=a["impression-recorder-fn"])?La(dkh,b):null;this.uj=a.hidepromofn;this.Zs=a.showpromofn;this.Cm=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new hkh;this.On=a["browser-app-clipboard"]||
null;this.fb=a["modal-dialog-z-index"]||null;this.Of=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Ea=a["static-input-pane-message"]||null;this.lca=a["drive-id"]||null;this.wb=!!a["enable-roving-tabindex"];this.gh=a["auto-complete-factories"]||[];this.Ao=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Hb=a["link-opener"]||null;this.Zj=a["last-viewed-timestamp"]||null;this.dispatchEvent("r")};
function kkh(a){return null!=K(a.hh,44)&&null!=K(hY(a.hh),51)&&!!Mj(hY(a.hh),51)}m.dL=function(){if(this.Kh)return!1;var a=Mj(this.hh,26);return null!=a?!!a:!0};m.Zga=function(){return!!Mj(this.hh,43)};m.kxa=function(){var a=!1,b=hY(this.hh);b&&(a=Mj(b,2));return!!Mj(this.hh,43)&&!!a};function lkh(a){return!!hY(a.hh)&&!!Mj(hY(a.hh),32)}m.Jsa=g("lca");function jkh(a){return a.hh&&!!Mj(a.hh,18)}m.wj=function(){return!!Mj(this.hh,39)};
m.N3=function(){return null!=K(this.hh,44)&&!!Mj(hY(this.hh),53)&&!this.Xg().C};m.kH=function(){return null!=K(this.hh,44)&&!!Mj(hY(this.hh),54)&&!this.Xg().C};function $4(a){return null!=K(a.hh,44)&&null!=K(hY(a.hh),55)&&!!Mj(hY(a.hh),55)}function mkh(a){return null!=K(a.hh,44)&&!!Mj(hY(a.hh),56)}function nkh(a){return null!=K(a.hh,44)&&!!Mj(hY(a.hh),57)}function okh(a){return a.Kj()&&!!Mj(a.hh,10)&&!a.$d}function pkh(a){return Mj(a.hh,10)?a.gh:[]}
function qkh(a){return!!hY(a.hh)&&!!Mj(hY(a.hh),50)};function rkh(a,b,c,d,e,f){I4.call(this,a,c);this.D=J4(a);this.Qa=Pm(Vc(y(),"docs-seu")||this.D.Of||window.location.href);this.Tc=new sz(c,new skh(d));this.F=new Bz("",this.Tc,void 0,c);this.F.zO=!0;this.Ga(this.F);this.J=null;kd(e,"edit")&&(this.J=new nz("Edit"),this.J.Mc("docos-edit-menuitem"),this.Tc.Ga(this.J,!0));this.H=null;kd(e,"delete")&&(this.H=new nz("Delete"),this.H.Mc("docos-delete-menuitem"),this.Tc.Ga(this.H,!0));this.R=null;kd(e,"reanchor")&&lkh(this.D)&&(this.R=new nz("Re-anchor comment"),
this.R.Mc("docos-reanchor-menuitem"),this.Tc.Ga(this.R,!0));this.va=null;kd(e,"disable")&&(this.va=new nz("Turn off suggested action items"),this.va.Mc("docos-disable-menuitem"),this.Tc.Ga(this.va,!0));this.Ja=null;kd(e,"help")&&(this.Ja=new nz("Learn more"),this.Ja.Mc("docos-help-menuitem"),this.Tc.Ga(this.Ja,!0));d=N4(a).ld(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Na=f?a5(d,f):null;this.V=null;J4(a).D.vxa()&&kd(e,"resolve")&&(this.V=new nz(""),this.Tc.Ga(this.V,
!0));this.O=this.Ba=this.ma=null;kd(e,"link")&&(this.Ba=new nz("Link to this comment..."),this.Ba.Mc("docos-link-menuitem"),this.Tc.Ga(this.Ba,!0),this.O=new Atf(c,this.D.On||void 0,void 0,null===this.D.fb?void 0:this.D.fb),this.Ga(this.O),Dx(Wx(this.O),"docos"),this.O.setTitle("Link to this comment..."),tkh(this,b));this.Ea=J4(a).Ao.map(function(h){return{kbb:h,rOa:new nz(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Tc.Ga(this.Ea[a].rOa,!0)}r(rkh,I4);m=rkh.prototype;
m.Jc=function(a){I4.prototype.Jc.call(this,a);a=this.oa().cb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.$c,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Wa(a),this.F.Pa(!0),this.D.C.C(a,"More options..."),this.F.Ee("More options..."))};
m.Ia=function(){var a=this;I4.prototype.Ia.call(this);ukh(this);K4(K4(K4(this,this.Tc.getElement(),"click",this.KWa),this.F.getElement(),"click",this.KWa),this.D,"r",this.Nub);K4(this,this.F.getElement(),"keyup",this.Ohc);vkh(this,this.J,this.bjc);vkh(this,this.H,this.$ic);vkh(this,this.Ba,this.Mbc);vkh(this,this.R,this.fjc);vkh(this,this.V,this.gjc);vkh(this,this.va,this.ajc);vkh(this,this.Ja,this.ejc);for(var b={},c=0;c<this.Ea.length;b={H$:b.H$},c++)b.H$=this.Ea[c],vkh(this,b.H$.rOa,function(d){return function(){d.H$.kbb.C((a.Na||
a.L).by())}}(b))};m.Mh=function(a){this.oa().Vi(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){ukh(this)};function tkh(a,b){if(a.O){var c=a.Qa.clone();b=c.D.set("disco",b);a.O.vXa(Jm(c,b).toString())}}function vkh(a,b,c){b&&K4(a,b,"action",c)}m.gjc=function(a){$jh(this.D.D,this.L)&&(this.dispatchEvent(new wkh("r")),xkh(this,a))};m.bjc=function(a){ykh(this)&&(this.dispatchEvent(new wkh("e")),xkh(this,a))};
m.ajc=function(a){this.dispatchEvent(new wkh("i"));xkh(this,a)};m.$ic=function(a){zkh(this)&&(this.F.Cd(!1),this.dispatchEvent(new wkh("d")),xkh(this,a))};m.fjc=function(a){this.dispatchEvent(new wkh("ra"));xkh(this,a)};m.ejc=function(a){this.dispatchEvent(new wkh("h"));xkh(this,a)};m.Mbc=function(a){xkh(this,a);this.O.setVisible(!0)};function xkh(a,b){b.stopPropagation();a.F.Cd(!1)}m.Ohc=function(a){27==a.keyCode&&a.stopPropagation()};m.KWa=function(a){a.stopPropagation()};m.Nub=function(){ukh(this)};
function ykh(a){return Yjh(a.D.D,a.Na||a.L)&&!a.ma}function zkh(a){return Zjh(a.D.D,a.Na||a.L)&&!a.D.ma}function ukh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=Akh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Pa($jh(a.D.D,a.L))}a.J&&(b=ykh(a),a.J.Pa(b),a.J.setVisible(b));a.H&&(b=zkh(a),a.H.Pa(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Pa(b),a.R.setVisible(b))}function wkh(a){Go.call(this,a)}r(wkh,Go);
function skh(a){a=void 0===a?"docos-docomenu":a;qz.call(this);this.D=a}r(skh,qz);skh.prototype.Mb=function(){return(new fr("goog-menu"," ","docos"," ",this.D)).toString()};function Bkh(){DC.call(this,!1)}r(Bkh,DC);Bkh.prototype.wO=function(a){DC.prototype.wO.call(this,a)};function Ckh(){this.C=!1;this.D=new Of;this.qa(this.D)}v(Ckh,A);function Dkh(a,b,c,d,e,f,h){this.H=a;this.D=b;this.J=c;this.F=d;this.Zy=e;this.pX=f;this.C=h}Dkh.prototype.ld=g("D");function b5(){}function c5(a,b){a.F=b;return a}function d5(a,b){a.D=b;return a}function Ekh(a,b){a.Zy=b;return a}function e5(a){return new Dkh(a.F,a.D,a.J||!1,a.C||null,a.Zy||null,a.pX||null,a.H||null)};function Fkh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.hs=h}function f5(){}function g5(a,b){a.H=b;return a}function h5(a,b){a.F=b;return a}function i5(a,b){a.hs=b;return a}function j5(a){return new Fkh(a.H,a.L||!1,a.C||null,a.J||null,a.D||null,a.F||null,a.hs||null)};function U4(a){J(this,a,0,-1,null,null)}v(U4,I);function Gkh(a){J(this,a,0,-1,null,null)}v(Gkh,I);m=U4.prototype;m.ea=function(){var a=new E;Hkh(this,a);return Y(a)};function Hkh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=T4(a);null!=c&&b.Aa(2,c,djh);c=K(a,3);null!=c&&Bj(b,3,c);c=K(a,4);null!=c&&Bj(b,4,c);c=a.iq();null!=c&&b.Aa(5,c,Ikh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};
m.Ic=function(a){return L(this,1,a)};function T4(a){return N(a,bjh,2)}m.iq=function(){return N(this,Gkh,5)};m.bv=function(a){return Yj(this,5,a)};m=Gkh.prototype;m.ea=function(){var a=new E;Ikh(this,a);return Y(a)};function Ikh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=a.getTitle();null!=c&&b.Aa(2,c,Jih);c=N(a,U4,3);null!=c&&b.Aa(3,c,Hkh)}m.getId=function(){return K(this,1)};m.Ic=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,Q4,2)};m.setTitle=function(a){return Yj(this,2,a)};function Jkh(a,b,c){var d=T4(a);this.F=a;this.O=b;this.Mt=c||null;this.R=null;this.J={};this.D={};this.C=new Jjh(d);this.H=void 0;this.QS=!!N(d,Pih,18);b=this.getId();if(a=T4(a)){a=R4(a);for(c=0;c<a.length;c++)d=new Jjh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,Mjh(d)&&(this.H=Mjh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=Jkh.prototype;m.nx=function(){return this.C.nx()};m.getId=function(){return this.C.getId()};
function k5(a){return K(a.C.C,11)||""}m.AH=function(){var a=K(this.F,4);if(void 0===a)return this.Nu();this.V||(this.V=YV(a));return this.V};m.getContent=function(){return this.C.getContent()};m.Bs=function(){return this.C.Bs()};m.dia=function(){return this.C.dia()};m.by=function(){return this.C.by()};function l5(a){return K(a.F,8)||""}m.eia=function(){return this.C.eia()};m.Z4=function(){return this.C.Z4()};m.rA=function(){return void 0!==K(this.F,8)};m.isResolved=function(){return!!Mj(this.F,6)};
function m5(a,b){var c=Xd(a.D);b&&c.push(a.C);Ad(c,function(d,e){return XV(d.Nu(),e.Nu())});return c}function a5(a,b){return a.D[b]||null}m.Nu=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=YV(a)):this.L=null;return this.L};m.getNewDocoType=g("Mt");m.lx=function(){return"draft"==this.Mt||"client-integrated-draft"==this.Mt||"instant-doco"==this.Mt};function Kkh(a){return Lkh(a)}function Lkh(a){return a.lx()||"smart-todo"==a.Mt}m.uZ=function(){return"smart-todo"==this.Mt};
m.JS=function(){return!!Mj(this.F,9)};m.Rq=function(){return this.C.Rq()};m.qA=function(){return this.C.qA()};m.My=function(){return this.C.My()};function L4(a){var b=a.C.My()?a.C.My():null;a=m5(a);for(var c=0;c<a.length;c++){var d=a[c];d.My()&&(d=d.My(),b?(b=new pjh(fk(b.ye())),d=G4(d),d=ojh(d),Yj(b.C,1,d)):b=new pjh(fk(d.C)))}return b}function Akh(a){return a.C.My()?a.C:null}m.Vj=function(){return this.C.Vj()};m.isTodo=function(){return null!=this.QS?this.QS:this.QS=!!Akh(this)};m.UE=function(){return this.C.UE()};
function Mkh(a){if(void 0!==a.H)return a.H;if(!a.Vj())return a.H=null;for(var b in a.D){var c=Mjh(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.cxa=function(){return this.C.cxa()};m.Ywa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=m5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};function Nkh(a){this.C=a;this.Mt=null}
function n5(a){var b=new U4;a=a.C;Yj(b,2,a);a.getId()||K(a,11);b.Ic(a.getId()||K(a,11));return new Nkh(b)}function Okh(a,b){L(a.C,8,b);return a}function o5(a,b){L(a.C,9,b);return a}function Pkh(a,b){a.Mt=b;return a}Nkh.prototype.getNewDocoType=g("Mt");function Qkh(a,b){L(a.C,3,b);return a}Nkh.prototype.getId=function(){return T4(this.C).getId()};function Rkh(a,b,c,d,e,f,h,k){Go.call(this,a);this.Ur=b;this.C=c;this.L=d;this.hs=e;this.D=f;this.O=h;this.F=k}r(Rkh,Go);Rkh.prototype.getSource=g("Ur");function Skh(){this.hs=this.D=this.F=this.Ur=this.Dw=null;this.H=this.C=0;this.J=!1}function Tkh(a){var b=new Skh;b.Dw=a;return b}function Ukh(a,b){a.Ur=b;return a}function Vkh(a,b){a.F=b;return a}function Wkh(a,b){a.H=b;return a}function Xkh(a,b){a.J=b;return a}function Ykh(a){return new Rkh(a.Dw,a.Ur,a.F,a.D,a.hs,a.C,a.H,a.J)};function Zkh(a){A.call(this);this.C=a;this.F=J4(a);this.D=$kh(this.C);this.H={}}v(Zkh,A);function alh(a,b,c,d,e,f){var h=uf(),k=new X4(h);d&&Z4(k,d,Oa());f&&Vjh(k);e&&(d=njh(jjh(mjh(new V4,e).Ic(""),!1)),d=qjh(d),Sjh(k,d));c=Pkh(Qkh(o5(Okh(n5(k),b),!1),Date.now()),c);blh(N4(a.C),c);N4(a.C).flush();p5(a.D,j5(i5(h5(g5(new f5,43008),h),b)));return q5(N4(a.C),h)}
function clh(a,b,c,d,e){d=jjh(mjh(new V4,d).Ic(""),!1);Ld(sf(e))||d.Zc(e);e=njh(d);d=qjh(e);e=uf();var f=Oa();c=Vjh(Sjh(Z4(Tjh(new X4(e),a.F.Xg()),c,f),d));c=Pkh(o5(Okh(n5(c),b),!1),"smart-todo");blh(N4(a.C),c);N4(a.C).flush();p5(a.D,j5(i5(h5(g5(new f5,43023),e),b)));return q5(N4(a.C),e)}
function dlh(a,b,c,d,e){var f=uf(),h=Oa();c=Z4(Tjh(Pjh(Y4(new X4(f)),h),a.F.Xg()),c,h);e&&Vjh(c);d&&(d=njh(jjh(mjh(new V4,d).Ic(""),!1)),d=qjh(d),Sjh(c,d));b=Pkh(Okh(Qkh(o5(n5(c),!0),h),b),"discussion");blh(N4(a.C),b);N4(a.C).flush();h=N4(a.C).ld(f);b=d5(c5(new b5,43009),h);r5(a.D,e5(b));h=h.My();r5(a.D,e5(c5(b,h?43101:43102)));return q5(N4(a.C),f)}m=Zkh.prototype;m.igb=function(a){elh(N4(this.C),a);N4(this.C).flush()};
m.egb=function(a,b,c,d,e){e=void 0===e?null:e;if(a=N4(this.C).ld(a)){if(d&&!a.My())throw Error("Cannot reassign a doco with no existing assignment");if(a.Vj()&&d)throw Error("Cannot reassign a suggestion.");var f=uf(),h=Oa();b=Tjh(Pjh(Z4(Y4(new X4(f)),b,h),h),this.F.Xg());c&&Ojh(b,c);d&&Sjh(b,d);c=Njh(new X4(k5(a),a.getId()),b);c=o5(n5(c),!0);s5(N4(this.C),c);N4(this.C).flush();d=d5(c5(new b5,d?43020:43010),a);e&&(d.C=e);r5(this.D,e5(d))}};
m.lgb=function(a,b){if(a=N4(this.C).ld(a)){var c=new X4(k5(a),a.getId()),d=null!=a.qA()?new sjh(a.qA().ye().clone()):new sjh(new Tih);L(d.C,4,b?1:0);Y4(Ujh(c,d));c=o5(n5(c),!0);s5(N4(this.C),c);N4(this.C).flush();r5(this.D,e5(d5(c5(new b5,b?43040:43041),a)))}};
m.mgb=function(a,b,c){if(a=N4(this.C).ld(a)){var d=new X4(k5(a),a.getId());if(c=a5(a,c)){var e=null!=c.qA()?new sjh(c.qA().ye().clone()):new sjh(new Tih),f=new X4(k5(a),c.getId());L(e.C,4,b?1:0);Njh(d,Y4(Ujh(f,e)));d=o5(n5(d),!0);s5(N4(this.C),d);N4(this.C).flush();r5(this.D,e5(Ekh(d5(c5(new b5,b?43042:43043),a),c)))}}};
m.Akb=function(a,b,c,d){d=void 0===d?null:d;if(a=N4(this.C).ld(a))if(b=a5(a,b)){var e=Oa();c=Z4(Y4(new X4(K(b.C,11)||"",b.getId())),c,e);c=Njh(new X4(k5(a),a.getId()),c);c=o5(n5(c),!0);s5(N4(this.C),c);N4(this.C).flush();a=Ekh(d5(c5(new b5,43021),a),b);d&&(a.C=d);r5(this.D,e5(a))}};m.G9b=function(a,b){if(a=N4(this.C).ld(a)){var c=Oa();b=Z4(new X4(k5(a),a.getId()),b,c);b=o5(n5(b),!1);s5(N4(this.C),b);N4(this.C).flush()}};
m.jgb=function(a,b,c,d){d=void 0===d?null:d;if(a=N4(this.C).ld(a)){if(a.Vj())throw Error("Cannot resolve a suggestion.");var e=uf(),f=Oa();e=Tjh(Pjh(Y4(new X4(e)),f),this.F.Xg());L(e.C,10,b?0:1);c&&Z4(e,c,f);c=Njh(new X4(k5(a),a.getId()),e);c=o5(n5(c),!0);L(c.C,6,b);s5(N4(this.C),c);N4(this.C).flush();b?(d=d5(c5(new b5,43014),a),r5(this.D,e5(d)),b=a.My()?43103:43104,r5(this.D,e5(c5(d,b)))):(b=d5(c5(new b5,43014),a),null!=d&&(b.C=d),r5(this.D,e5(b)))}};
m.fgb=function(a,b,c){c=void 0===c?null:c;var d=N4(this.C),e=d.ld(a);e&&(this.H[q5(d,a)]=Yd(he(e.D)),a=Qjh(Y4(new X4(k5(e),e.getId()))),a=o5(n5(a),!0),e.uZ()||(e=d5(c5(new b5,43017),e),null!=b&&(e.pX=b),c&&(e.C=c),r5(this.D,e5(e))),s5(d,a),d.flush())};
function flh(a,b){var c=N4(a.C);if(t5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ja[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=Rjh(Y4(new X4(k5(d),d.getId()))),f=a.H[b];delete a.H[b];a=he(d.J);b=he(d.D);for(var h=0;h<f.length;h++){var k=f[h];Njh(e,Rjh(Y4(new X4(K((b[k]||a[k]).C,11)||"",k))))}e=o5(n5(e),!0);s5(c,e);c.flush();return q5(c,d.getId())}
m.kgb=function(a,b){if(a=t5(N4(this.C),a)){var c=a.UE();if(!a.Vj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=Y4(new X4(k5(a),a.getId()));c=(new Nih).setType("application/vnd.google-apps.docs.mds");b=Yj(c,3,b);Yj(a.C,9,b);b=o5(n5(a),!0);s5(N4(this.C),b);N4(this.C).flush()}};
m.ykb=function(a,b,c){c=void 0===c?null:c;if(a=N4(this.C).ld(a)){var d=Oa();b=Z4(Y4(new X4(k5(a),a.getId())),b,d);b=o5(n5(b),!0);s5(N4(this.C),b);N4(this.C).flush();a=d5(c5(new b5,43022),a);c&&(a.C=c);r5(this.D,e5(a))}};m.vfb=function(a,b,c){(a=N4(this.C).ld(a))&&(b=a5(a,b))&&glh(this,a,b,c)};function glh(a,b,c,d){d=void 0===d?null:d;var e=Ekh(d5(c5(new b5,43016),b),c);d&&(e.C=d);r5(a.D,e5(e));s5(N4(a.C),hlh(b,c));N4(a.C).flush()}
function hlh(a,b){b=Qjh(Y4(new X4(K(b.C,11)||"",b.getId())));a=Njh(new X4(k5(a),a.getId()),b);return o5(n5(a),!0)}m.hgb=function(a){var b=t5(N4(this.C),a,!0);a=ilh(N4(this.C),a);b&&a&&glh(this,b,a)};m.ggb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=t5(N4(this.C),d,!0);d=ilh(N4(this.C),d);e&&d&&b.push(hlh(e,d))}jlh(N4(this.C),b,"c")};function klh(a,b){if(!b)return!1;if(!b.Vj()||!b.UE())throw Error("Attempting to accept/reject a non-suggestion.");return llh(N4(a.C),b)?!0:!1}
function mlh(a,b,c,d){a=Ojh(Tjh(Pjh(Y4(new X4(c)),Oa()),a.F.Xg()),b.UE());L(a.C,10,d?2:3);b=Njh(new X4(k5(b),b.getId()),a);return o5(n5(b),!0)};function nlh(){Uo.call(this)}v(nlh,Uo);function olh(a,b){Go.call(this,a);this.zm=b||null}v(olh,Go);function plh(a){J(this,a,0,-1,null,null)}v(plh,I);plh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);b=K(this,2);null!=b&&a.Ha(2,b);b=K(this,3);null!=b&&a.Ha(3,b);b=K(this,4);null!=b&&a.Ha(4,b);return Y(a)};plh.prototype.Wf=function(){return K(this,1)};function qlh(){Oq.call(this,"",void 0,!0);this.F=new Jq(u(this.C,this));this.qa(this.F);this.H=null}r(qlh,Oq);qlh.prototype.O=function(a,b,c,d){if(this.H&&!Fd(a,"Error in protected function: ")){var e=new plh;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);rlh(this.H,"rjse",c,void 0,ua,!0,1)}};qlh.prototype.Ka=function(){Oq.prototype.Ka.call(this);delete this.F};function slh(a){Uo.call(this);var b=this;this.F=null;this.H=new Do;this.qa(this.H);this.C=a;Eo(this.H,this.C.VH(),function(){"hidden"===b.C.getState()&&(b.D=new hC);"visible"!=b.C.getState()||tpb(b.D)||(b.dispatchEvent("aj"),tlh(b))});this.D=new hC;tlh(this)}r(slh,Uo);slh.prototype.format=function(a){var b=new hC(a);b=(new hC).getTime()-b.getTime();if(15552E6<b||-864E5>b)return ulh.format(a);b=wof(a.getTime());return vlh.format(a)+(" "+b)};
function tlh(a){var b=new hC;b.add(new gC(0,0,1));b=b.getTime();bq(a.F);a.F=aq(function(){a.dispatchEvent("aj");tlh(a)},b-Oa(),a)}va(slh);var vlh=new kC(7),ulh=new kC(2);function wlh(a,b,c){this.Ey=a;this.src=b;this.C=c};function xlh(a){A.call(this);this.C=a;this.D={};this.J={};this.L=this.C.J;this.jd=0;this.H=[];this.Oa=new Vo(this);this.qa(this.Oa);this.Oa.listen(this.C,"r",this.O)}r(xlh,A);function ylh(a){return"legacy"===a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}function zlh(a,b,c,d){if(b){var e="dcs-img-"+a.jd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||Alh(a);Blh(a,e)}}
function Fih(a,b,c,d){b&&a.H.push(new wlh(b,c,d))}function Clh(a){aq(function(){for(;this.H.length;){var b=this.H.pop();zlh(this,b.Ey,b.src,b.C)}},0,a)}function O4(a,b){b&&b.id&&(a.Oa.Gc(b,Dlh,a.F),delete a.D[b.id],delete a.J[b.id])}xlh.prototype.O=function(){var a=this.C.J;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)Blh(this,b)};
xlh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.C(b,"")),this.Oa.Gc(b,Dlh,this.F),b.src=Alh(this)):O4(this,b)}};function Blh(a,b){a.Oa.listen(a.D[b],Dlh,a.F);a.D[b].src=a.J[b]}
function Alh(a){return mkh(a.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png"}var Dlh=[Af?"readystatechange":"load","abort","error"];function Elh(){QV.call(this);this.V=!1}v(Elh,QV);function J4(a){return a.get("config")}function P4(a){var b=RV(a,"action_registry");if(!b){b=new Bkh;for(var c=Xd(fih),d=0;d<c.length;d++){var e=c[d];e=O((new Dt(e)).Jj("label",e).Jj("visible",!0).Jj("hint",e).Jj("enabled",!0));b.Ts(e);b.qa(e)}a.Ff("action_registry",b)}return b}function N4(a){return a.get("stream")}function M4(a){return a.get("imageManager")}function Flh(a){return a.get("subscriptionManager")}
function $kh(a){return a.get("impressionRecorder")}function zih(a){return RV(a,"errorReporter")}function Glh(a){var b=RV(a,"batchEventTracker");b||(b=new Ckh,a.Ff("batchEventTracker",b));return b};function Hlh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=J4(a).Pn}function Ilh(a,b){a.C!=b&&(a.C=b,b={dk:a.D,DQb:a.O,JQb:b},P4(a.L).yf("mouse-hover-doco-view").qb(b))};function Jlh(a){a=a||{};var b=a.wK,c=a.L1,d=a.KQb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+SV(c)+"><span class="+SV(d)+">"+R(b)+"</span></div>":"<span class="+SV(d)+">"+R(b)+"</span>");return T(a)};function Klh(a){a=a||{};var b=a.Ti,c=a.gC;a=a.OS;return T('<div class="'+U("goog-inline-block")+" "+U("goog-menu-button")+" "+U("docos-docomenu-dropdown")+'">'+(b?R(qih({Ti:""+b,gC:""+c,OS:a})):"")+"</div>")};function Llh(a,b){a=a||{};var c=T;if(a.bl){a=a||{};var d=a.author,e=a.eh,f=a.vF,h=a.Poa,k=a.Ge,l=a.Qm,n=a.mA,q=a.Vj,t=a.lx,w=a.D8,x=a.wK,F=a.kZ,M=a.wj,V=a.Zga,S=a.kxa,ca=a.isBadgingEnabled,ma=a.timestamp,wa=a.kfb,xa=a.Eo;d='<div class="'+U("docos-anchoredreplyview")+(k?" "+U(k):"")+(q?" "+U("docos-replyview-suggest"):" "+U("docos-replyview-comment"))+'"><div class="'+U("docos-anchoredreplyview-header")+'"><div class="'+U("docos-anchoredreplyview-avatar-holder")+'">'+R(rih({size:32,ofb:wa,jqa:f?""+
f:"",e3:gx(d)&&!e?""+d:"",Ge:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+U("docos-user-presence")+'"></div>':"")+(ca?'<span class="'+U("docos-new-tag")+'" style="display:none"></span>':"")+'</div><div class="'+U("docos-anchoredreplyview-authortimestamp")+'"><div class="'+U("docos-anchoredreplyview-author")+" "+U("docos-author")+'"'+(f?' data-hovercard-id="'+U(f)+'"':"")+(gx(d)&&!e?' data-name="'+U(d)+'"':"")+">"+(d?R(d):"")+'</div><div class="'+U("docos-anchoredreplyview-timestamp")+
" "+U("docos-replyview-timestamp")+'">'+(ma?R(ma):"")+'</div></div><div class="'+U("docos-anchoredreplyview-buttonholder")+" "+U("hide-on-readonly")+'">';gx(q)&&gx(n)?(x=x={Eo:xa},x=T(Mlh({hd:"docos-accept-suggestion jfk-button-collapse-right",Eo:x.Eo},b)),xa=xa={wj:M,Eo:xa},M=xa.wj,xa=xa.Eo,b=""+R(bA({title:"Reject suggestion",style:xa?4:0,hd:"docos-reject-suggestion jfk-button-collapse-left",content:hx(""+(xa?T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(qih({Ti:"docos-icon-reject-suggestion-cross",gC:"docos-icon-reject-suggestion-cross-size",Ge:"jfk-button-img"})))),kK:M},b)),b=T(b),b=x+b):t?b="":(M=n?V?T(Mlh({hd:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},b)):T(R(bA({hd:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},b))):"",!gx(V)||!gx(F)&&x?b="":S?(V=(V=a)||{},xa=V.mA,x=V.kZ,V=V.wj,S=R(qih({Ti:"docos-icon-thumb-black",gC:"docos-icon-thumb-size",Ge:"jfk-button-img",
OS:!0}))+'<div class="'+U("like-button-text")+'">',S+="0</div>",b=""+R(bA({hd:"docos-like-button "+(gx(xa)&&!x?"jfk-button-collapse-left":""),title:"Like this",content:hx(S),kK:V},b)),b=T(b),b=R(b)):(V=(V=a)||{},xa=V.mA,x=V.kZ,V=V.wj,S='<div class="'+U("vote-button-text")+'">',S+="+1</div>",b=""+R(bA({hd:"docos-vote-button "+(gx(xa)&&!x?"jfk-button-collapse-left":""),title:"+1 this comment",content:hx(S),kK:V},b)),b=T(b),b=R(b)),b=M+b+'<div class="'+U("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
b=d+b+'</div></div><div class="'+U("docos-collapsible-replyview")+" "+(h?"":U("docos-collapsible-replyview-empty"))+'">'+(n||F?"":R(Jlh(ex({L1:""},a))))+'<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-replyview-body")+" "+U("docos-anchoredreplyview-body")+'">'+(h?R(h):"")+'</div><div class="'+U("docos-show-more")+'" role="button" tabindex="0">';b=b+'Show more</div><div class="'+(U("docos-show-less")+'" role="button" tabindex="0" style="display:none">');b+="Show less";var Da;n?
Da=R(Jlh(ex({L1:"docos-root-reply-action-text-wrapper"},a))):F?Da=R(Jlh(ex({L1:"docos-action-text-bottom-wrapper"},a))):Da="";b+="</div></div></div>"+(l?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+Da+'<div class="'+U("docos-replyview-origin")+" "+U("docos-anchoredreplyview-origin")+'">'+(w?R(w):"")+"</div></div>";b=T(b)}else n=a||{},w=n.author,F=n.eh,h=n.vF,d=n.Poa,M=n.Ge,l=n.bpa,Da=n.Qm,xa=n.mA,a=n.D8,x=n.timestamp,V=n.isBadgingEnabled,S=n.Eo,n.lx?(l=(l=ex({author:w,
vF:h,Ge:M,D8:a},n))||{},b=l.author,Da=l.vF,a=l.Ge,l=l.D8,b=T('<div class="'+U("docos-streamrootreplyview")+(a?" "+U(a):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(Da?' data-hovercard-id="'+U(Da)+'"':"")+(b?' data-name="'+U(b)+'"':"")+">"+(b?R(b):"")+'</div><div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div>")):xa?(Da=(Da=n)||{},M=Da.author,xa=Da.vF,a=Da.Poa,x=Da.Ge,l=Da.Qm,
n=Da.fdc,w=Da.vxa,F=Da.D8,h=Da.wK,d=Da.kZ,V=Da.timestamp,b='<div class="'+U("docos-streamrootreplyview")+(x?" "+U(x):"")+'"><div class="'+U("docos-streamdocoview-authorname")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(xa?' data-hovercard-id="'+U(xa)+'"':"")+(M?' data-name="'+U(M)+'"':"")+">"+(M?R(M):"")+'</div><div class="'+U("goog-inline-block")+" "+U("docos-actionmenu-outer")+'">'+R(Klh(null,b))+'</div><div class="'+U("docos-streamdocoview-details")+" "+U("goog-inline-block")+'"><div class="'+
U("docos-streamdocoview-timestamp")+" "+U("docos-replyview-timestamp")+" "+U("goog-inline-block")+'">'+(V?R(V):"")+'</div><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-streamdocoview-comments-off")+" "+U("goog-inline-block")+" "+U("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(U("docos-streamdocoview-reopen-control")+" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'" style="display: none"><div class="'+
U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+U("docos-docoview-reopen")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=jx("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',n&&(b+='<div class="'+U("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(U("docos-replyview-quote")+" "+U("docos-replyview-quote-collapsed")+'">'+R(n)+'<div class="'+U("docos-replyview-quote-collapse")+
" "+U("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(U("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamdocoview-body")+" "+U("docos-replyview-body")+'">'+R(a)+"</div>"+(h?R(Jlh(ex({L1:"docos-root-reply-action-text-wrapper"},Da))):"")+'<div class="'+U("docos-streamdocoview-controls")+" "+U("hide-on-readonly")+'"><div class="'+U("docos-streamdocoview-comment-control")+" "+
U("goog-inline-block")+'"><div class="'+U("docos-docoview-comment")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=jx("Reply to this comment"),b+='">Reply</div></div>',w&&(b+='<div class="'+U("docos-streamdocoview-resolve-control")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>',d?(b+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',
b+=jx("Mark as done and then hide discussion"),b+='">Mark as done'):(b+='<div class="'+U("docos-docoview-resolve")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',b+=jx("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(l?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(F?R(F):"")+"</div></div>",b=T(b)):(b='<div class="'+
U("docos-streamreplyview")+'">'+R(rih({size:S?32:24,jqa:h?""+h:"",e3:gx(w)&&!F?""+w:"",Ge:"docos-replyview-avatar docos-streamreplyview-avatar"}))+(gx(V)&&!xa?'<span class="'+U("docos-new-tag")+'" style="display:none"></span>':"")+'<div class="'+U("docos-streamreplyview-content")+'"><div class="'+U("docos-streamreplyview-text")+" "+U("goog-inline-block")+'"><div class="'+U("docos-streamreplyview-author")+" "+U("docos-author")+" "+U("goog-inline-block")+'"'+(h?' data-hovercard-id="'+U(h)+'"':"")+(w?
' data-name="'+U(w)+'"':"")+">"+(w?R(w):"")+"</div>"+R(Jlh(n))+' <br><span class="'+U("docos-replyview-body")+" "+U("docos-streamreplyview-body")+" "+U("docos-replyview-static")+'">'+R(d)+'</span></div><div class="'+U("docos-replyview-static")+'"><div class="'+U("docos-streamreplyview-timestamp")+" "+U("docos-replyview-timestamp")+" "+U("goog-inline-block")+'">'+(x?R(x):"")+"</div>",gx(l)||gx(Da)?(w=w={Wcb:!0,bpa:l,Qm:Da},l=w.bpa,n=w.Qm,w=w.Wcb,F='<div class="'+U("docos-replyview-control")+" "+U("docos-replyview-static")+
" "+U("goog-inline-block")+" "+U("hide-on-readonly")+'">',n&&(F+=(w?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-edit")+" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',F+=jx("Make changes to your comment"),F+='">Edit</div>'),l&&(F+=(w?'<div class="'+U("docos-streamdocoview-bullet")+" "+U("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+U("docos-replyview-delete")+
" "+U("goog-inline-block")+'" role="button" tabindex="0" title="',F+=jx("Permanently delete your comment"),F+='">Delete</div>'),l=T(F+"</div>"),l=R(l)):l="",b=b+l+"</div>"+(Da?'<div class="'+U("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+U("docos-replyview-origin")+" "+U("docos-streamreplyview-origin")+'">'+(a?R(a):"")+"</div></div></div>"),b=T(b);return c(b)}
function Nlh(){return T('<div class="'+U("docos-showrepliesbutton")+'" style="display:none"><div class="'+U("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function Mlh(a,b){a=a||{};var c=a.hd;a=a.Eo;var d=T,e;a?e=T('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(qih({Ti:"docos-icon-accept-checkmark-black",gC:"docos-icon-accept-checkmark-size",Ge:"jfk-button-img"}));return d(R(bA({hd:c?""+c:"",style:a?4:0,content:hx(""+e)},b)))};function Olh(a,b){a=a||{};var c=a.lba,d=a.hd,e=a.ILa;a=a.JLa;return T('<div class="'+U("goog-inline-block")+(d?" "+U(d):"")+'">'+R(tA({gm:c,hd:e},b))+(c?"<label"+(a?' class="'+U(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function Plh(a,b){a=a||{};var c=a.Ge,d=a.eba,e=a.vhc,f=a.gpa,h=a.KLa,k=a.HHa,l=a.wj,n=a.wK,q=a.gD,t=a.lH,w=a.mH,x=a.Fv;c='<div class="'+U("docos-input")+(c?" "+U(c):"")+'" style="display: none">'+(x?'<div class="'+U("docos-input-textarea")+" "+U("docos-input-contenteditable")+(h?" "+U(h):"")+'" contenteditable="true"></div>':'<textarea class="'+U("docos-input-textarea")+(h?" "+U(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>');t?(t=t={wj:l},t=t.wj,t=""+R(bA({title:"Mention a person",
style:4,hd:"docos-at-mention-icon docs-material",content:hx('<div class="'+U("docs-icon")+" "+U("goog-inline-block")+'"><div class="'+U("docs-icon-img-container")+" "+U("docs-icon-img")+" "+U("docs-icon-at-mention-20")+'" aria-hidden="true">&nbsp;</div></div>'),tabIndex:0,kK:t},b)),t=T(t)):t="";a=c+t+(n?R(Jlh(ex({L1:"docos-edit-pane-action-text-wrapper",KQb:!0},a))):"")+(e?'<div class="'+U("docos-input-sidearrow-outer")+'"></div><div class="'+U("docos-input-sidearrow-inner")+'"></div>':"")+'<div id="docos-input-assignment-panel" class="'+
U("docos-input-assignment-panel")+'" style="display: none">'+R(tA({hd:"docos-input-assignment-box"},b))+'<div class="'+U("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+U("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+U("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+U("docos-input-at-reply-message")+'" style="display: none">';a=(w?a+"Your @mention will add people to this discussion and send an email.":a+"Your +mention will add people to this discussion and send an email.")+
('</div><div class="'+U("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+"Making sure that people you've mentioned have access\u2026</div><div class=\""+(U("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as completed.</div><div class="'+(U("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+U("docos-focusedpresenceindicator-container")+'"></div><div class="'+
U("docos-input-buttons")+'">'+R(bA({style:2,hd:"docos-input-post docos-input-buttons-post"},b)));w="";w=f?w+(""+f):w+"Discard comment";f="";f=d?f+R(d):f+"Cancel";a+=R(bA({hd:"docos-input-cancel",title:w,content:hx(f),kK:l},b));return T(a+"</div></div>")};function Qlh(a,b){a=a||{};var c=T;if(a.bl){a=a||{};var d=a.author,e=a.uZ,f=a.kZ,h=a.wj,k=a.Eo;if(a.lx){a=(a=ex({author:d,wj:h},a))||{};d=a.author;e=a.wj;f=a.gD;h=a.lH;k=a.mH;var l=a.Fv;b=T('<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-draft")+'">'+R(Llh(ex({author:d,bl:!0,mA:!0,Ge:"docos-replyview-first"},a),b))+"</div>"+R(Plh({Ge:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",wj:e,gD:f,lH:h,mH:k,Fv:l},b)))}else e?
(a=(a=ex({wj:h,Eo:k},a))||{},d=a.gdb,e=a.wj,f=a.Eo,h=a.Fv,k='<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-smarttodoview")+'"><div class="'+U("docos-smarttodoview-container")+'"><div class="'+U("docos-smarttodoview-header")+'"><table><tr><td class="'+U("docos-icon-explore-container")+'">'+R(qih({Ti:"docos-icon-explore",gC:"docos-icon-explore-size",OS:!0}))+'</td><td class="'+U("docos-smarttodoview-headertext")+'" role="heading"><div class="'+U("docos-smarttodoview-headertext-outer")+
'"><div class="'+U("docos-smarttodoview-headertext-inner")+'">',k=k+'Suggested action item</div></div></td><td><div class="'+(U("docos-overflowmenu-outer")+'">'+R(Klh({gC:"docos-icon-overflow-three-dots-size",Ti:"docos-icon-overflow-three-dots",OS:f},b))+'</div></td></tr></table></div><div class="'+U("docos-smarttodoview-body")+'"></div>'),k+=R(Plh({Ge:"docos-docoview-input-pane",eba:"Dismiss",gpa:"Dismiss suggested action item",wj:e,Fv:h},b)),d&&(k+='<div class="'+U("docos-smarttodoview-showfeedbackdialog-container")+
'"><div class="'+U("docos-smarttodoview-showfeedbackdialog-button")+'" role="button" tabindex="0" aria-expanded="false">',k+="Bad suggestion?</div></div>"),e=k,d?(a=a||{},a=a.wj,d='<div class="'+U("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+U("docos-smarttodoview-feedback-headertext")+'" role="heading">',d=d+"Tell us why you didn't like this</div><div class=\""+(U("docos-smarttodoview-feedback-checkboxlist")+'">'),d+=R(Olh({lba:"Not an action item",hd:"docos-smarttodoview-feedback-checkbox-container",
ILa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",JLa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),d+=R(Olh({lba:"Wrong assignee",hd:"docos-smarttodoview-feedback-checkbox-container",ILa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",JLa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),d+='</div><div class="'+U("goog-inline-block")+" "+U("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',d=d+'Write feedback</div><div class="'+(U("docos-smarttodoview-feedback-buttonlist")+'">'),d+=R(bA({style:2,hd:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",kK:a},b)),d+=R(bA({hd:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",kK:a},b)),b=T(d+"</div></div>")):b="",b=T(e+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-anchoreddocoview-assigneecontainer")+
'"></div>':"")+'<div class="'+U("docos-anchoreddocoview-content")+" "+U("docos-docoview-replycontainer")+'"><div class="'+U("docos-docoview-rootreply")+'"></div></div><div class="'+U("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+U("docos-unfocusedpresenceindicator-container")+'"></div>';b=T('<div class="'+U("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+U("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.eh;var n=
e.vF;h=e.Eo;k=e.wj;l=e.lx;var q=e.kH;a=T;d='<div class="'+U("docos-docoview-tesla-conflict")+'">'+R(rih({size:h?32:48,jqa:n?""+n:"",e3:gx(f)&&!d?""+f:"",Ge:"docos-streamdocoview-avatar"}))+(gx(q)&&!l?'<span class="'+U("docos-root-new-tag")+'" style="display:none"></span>':"")+'<div class="'+U("docos-streamdocoview-content")+'">';l?(e=(e=ex({author:f,wj:k},e))||{},f=e.author,h=e.wj,k=e.gD,l=e.lH,n=e.mH,q=e.Fv,b=T('<div class="'+U("docos-streampane-draft")+'">'+R(Llh(ex({author:f,bl:!1,mA:!0,lx:!0,
Ge:"docos-replyview-first"},e),b))+"</div>"+R(Plh({Ge:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",wj:h,gD:k,lH:l,mH:n,Fv:q},b)))):b='<div class="'+U("docos-docoview-rootreply")+'"></div><div class="'+U("docos-streamdocoview-replycontainer")+" "+U("docos-docoview-replycontainer")+'"></div><div class="'+U("docos-streamdocoview-inputcontainer")+" "+U("hide-on-readonly")+'">'+R(rih({size:h?32:24,Ge:"docos-streamreplyview-avatar"}))+'<div class="'+U("docos-input-pane-placeholder")+
'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};function u5(){this.C=y()}function Rlh(a){return"PLACEHOLDER_TEXT"===Vc(a.C,"docs-edpme")}function Slh(a){return"PLUS_MENTION_ICON"===Vc(a.C,"docs-edpme")};function Tlh(a,b){Go.call(this,a);this.dk=b}r(Tlh,Go);function R5(a){Tlh.call(this,"rd",a)}r(R5,Tlh);function S5(a,b,c,d,e){I4.call(this,a,d);this.R=a;this.fb=c;this.jb=[];this.O=null;this.Sa=new Hlh(this.R,b,this.bl());this.Ic(b);this.Qa=null;this.Sd=e;this.wb=this.va=null;this.Jd=!0;this.Cc=!1}r(S5,I4);m=S5.prototype;m.iB=ba();m.Ic=function(a){I4.prototype.Ic.call(this,a);this.Sa.D=a};m.getContext=g("R");m.ld=function(){return N4(this.R).ld(this.getId())||null};m.yl=function(){var a=this.getId();return Ulh(this.Sd,a)};m.gT=ea(null);m.Eya=ea(!1);
m.Ca=function(){var a=this.ld(),b=a.nx();a=L4(a);var c="Unknown"===b.getName();c=ny(Qlh,{author:b.getName(),eh:b.C,vF:this.C.V&&!c?b.getId():null,bl:this.bl(),kZ:!!a,wj:this.C.wj(),Eo:"legacy"!=this.C.F,kH:this.C.kH(),lH:Slh(new u5),mH:nkh(this.C),Fv:$4(this.C)});this.bl()||kkh(this.C)||Dx(c,"docos-streampanemargin-legacy");this.pb(c);this.Ee(b,a||void 0)};
m.Ee=function(a,b){b=b?wih(b,this.C):void 0;a=a.getName();var c=Wd(this.ld().D),d=this.ld().isResolved()?"Resolved":"Open";b=a&&b?(new VA("{numReplies,plural, =1{Comments dialogue. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other{Comments dialogue. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new VA("{numReplies,plural, =1{Comments dialogue. {state} comment. Author {author}. 1 reply.}other{Comments dialogue. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new VA("{numReplies,plural, =1{Comments dialogue. {state} comment. 1 reply.}other{Comments dialogue. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});zx(this.getElement(),b)};m.Ia=function(){I4.prototype.Ia.call(this);K4(K4(this,this.getElement(),["click","keypress","keyup"],this.uTb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.B$b);Dp(this.getElement(),!0)};m.zd=function(){I4.prototype.zd.call(this);Ilh(this.Sa,!1)};m.bba=ea(!1);
m.GBa=ba();m.Sha=function(){if("legacy"==this.C.F&&this.bl()&&(!this.va||!this.wb)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");Dx(c,"docos-anchoreddocoview-arrow-inner");this.va=c;c=a.createElement("DIV");Dx(c,"docos-anchoreddocoview-arrow-outer");this.wb=c;a.Js(b,this.va,0);a.Js(b,this.wb,0)}};m.Xc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Jd;a||this.setVisible(!0);this.O=new an(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Xc();return this.O.height};m.uTb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.JWa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.B$b=function(a){var b=this.Sa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||Ilh(b,"mouseenter"==a.type);a.stopPropagation()};m.ZZ=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new R5(this.getId()))};m.setVisible=function(a){this.Jd=a;P(this.getElement(),a)};m.isVisible=g("Jd");m.c6a=ba();
function Vlh(a){var b=["docos-docoview-tesla-conflict"],c=[];oy()&&z(y(),"docs-ehspc")?(Wlh(a,"docos-anchoreddocoview",!1,b,c),Wlh(a,"docos-streamdocoview",!0,b,c)):(Wlh(a,"docos-anchoreddocoview",a.bl(),b,c),Wlh(a,"docos-streamdocoview",!a.bl(),b,c));Wlh(a,"docos-docoview-active",a.yl(),b,c);kkh(a.C)&&Wlh(a,"docos-docoview-active-experiment",a.yl(),b,c);var d=a.ld();Wlh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)Ex(a.getElement(),b),Gx(a.getElement(),c),a.jb=Ax(a.getElement())}
function Wlh(a,b,c,d,e){c&&!kd(a.jb,b)?d.push(b):!c&&kd(a.jb,b)&&e.push(b)}m.BU=da("Qa");function Xlh(a){return a.Qa?a.Qa:a.C.Xp}m.getDocoMaxHeight=g("Qa");m.Ka=function(){I4.prototype.Ka.call(this);delete this.R};function Ylh(a,b){this.C=a;this.hb=b}
function Zlh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+U("docos-contact-row")+'" title="';f+=jx("Contact information.");f+='">'+R(rih({size:32,Ge:"docos-contact-row-avatar"}))+'<div class="'+U("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+U("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=T(f);d=cx(d);Ve(c,d);d=b.getEmail();d=Ld(sf(b.getName()))?d:b.getName()+" "+d;zx(c,d);c=qV(a.hb,"IMG","docos-contact-row-avatar",c);O4(a.C,c);zlh(a.C,c,b.D,H4(b));
return c};function $lh(a,b,c,d){d=void 0===d?null:d;Iz.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new Ylh(M4(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.bl());this.D=null}r($lh,Iz);m=$lh.prototype;m.Ia=function(){Iz.prototype.Ia.call(this);this.D=fp("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.QTb).listen(this.getElement(),"focus",this.Vy).listen(this.getElement(),["mousedown","blur"],this.K1a)};
m.QTb=function(a){this.C&&this.C.ld()==N4(this.L).R||(this.Cd(!this.rf()),this.K1a());a.stopPropagation()};m.Vy=function(){Dx(this.D,"docos-assignee-select-focus")};m.K1a=function(){Fx(this.D,"docos-assignee-select-focus")};m.bf=function(a){return this.Ab()&&2>this.Ab().tc()?!1:Iz.prototype.bf.call(this,a)};m.og=function(a){this.C&&this.C.ld()==N4(this.L).R&&(this.Ab()&&2>this.Qh()||Iz.prototype.og.call(this,a))};function amh(a){return(a=a.vf())?a.Xg():null}
m.Je=function(a){Iz.prototype.Je.call(this,a);var b=a.getElement();b&&(Dx(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&Dx(b,"docs-gm"),this.O&&a.render(this.H.O))};m.Am=function(){var a=this.Ab().getElement();nw(a,"width",this.J.offsetWidth+"px");Iz.prototype.Am.call(this);var b=parseInt(l9a(a,"top"),10)||0,c=tw(this.J).x;this.O?(c-=tw(this.H.O).x,b+=-2):b+=-1;qw(a,c,b)};function bmh(a){var b=new lm;if(!a.Ab())return b;a.Ab().Ye(function(c){b.add(c.Xg())});return b}
m.update=function(a,b){if(!bmh(this).equals(new lm(a))||amh(this)!=b){for(var c=new sz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new cmh(f,this.R,this.oa());f.equals(b)&&(d=h);c.Ga(h,!0)}this.Je(c);Kz(this,d);P(this.getElement(),1<this.Qh())}};m.reset=function(){this.Ab().yd();Kz(this,null)};function cmh(a,b,c){var d=c.createElement("div");nz.call(this,d,void 0,c);this.D=a;this.C=b;this.F=Zlh(this.C,this.D,d)}r(cmh,nz);m=cmh.prototype;
m.Ca=function(){nz.prototype.Ca.call(this);Dx(this.getElement(),"docos-assignee-select-item")};m.Ia=function(){nz.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.PTb)};m.Xg=g("D");m.Wg=ea("");m.PTb=function(a){a.stopPropagation()};m.Ka=function(){nz.prototype.Ka.call(this);var a=this.F;a&&O4(this.C.C,a)};function dmh(){emh(this)}r(dmh,Ra);m=dmh.prototype;m.sx=function(a){ic(a);lda(this.D.add(a),a);this.C=null;return a};m.OA=function(a){jda(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};m.RY=function(a){return this.D.contains(a)};m.cleanup=function(){this.D.clear();this.C=null};function fmh(a){if(!a.C){var b=new dhh,c=a.D;b.C=[];c=c.Jf();lgh(c,b.C,0,c.length);a.C=b}return a.C.mj()}m.mj=function(){return fmh(this)};
function emh(a){var b=new ohh,c=new bhh;Lgh(c);b.C=c;a.D=b;a.C=null};function gmh(a){emh(this);this.F=a}r(gmh,dmh);gmh.prototype.set=function(a){this.F=a;for(a=fmh(this);a.C();){var b=a.D();hmh(b,this.F)}};gmh.prototype.get=g("F");function imh(a,b,c){return new jmh(a,b,c)}function jmh(a,b,c){this.C=kmh(a,b);this.Vd=c;this.F=!1;this.D=-1;lmh(this,0)}jmh.prototype.M6=g("F");jmh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function kmh(a,b){for(var c=[],d={},e=0;e<b.length;d={tV:d.tV,K$:d.K$},e++){d.K$=b[e];var f=d;var h=new gmh(null);f.tV=h;d.K$.H(a.token,a.hba,a.C,function(k){return function(l,n,q,t,w){t=void 0===t?!0:t;w=void 0===w?!1:w;0<l.length?k.tV.set(new mmh(l,n,t,k.K$.getType(),w,q)):t&&k.tV.set(nmh())}}(d))||d.tV.set(nmh());c.push(d.tV)}return c}function lmh(a,b){a.F||(b>=a.C.length?(a.Vd(nmh()),a.close()):(a.D=b,a.C[b].sx(a),b=a.C[b].get(),null!==b&&hmh(a,b)))}
function hmh(a,b){b.isEmpty()?(a.C[a.D].OA(a),lmh(a,a.D+1)):(a.Vd(b),b.complete&&a.close())}function omh(a,b,c){this.token=a;this.hba=b;this.C=c}function mmh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}mmh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function nmh(){return new mmh([],new ICd(!1),!0,0,!1,void 0)};function pmh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function qmh(a){this.lcc=a}r(qmh,Whb);function rmh(a){this.C=a};function smh(){this.className="docos-ac-highlighted"}smh.prototype.lwa=function(a,b,c){Ld(b)||c.C&&/^\W/.test(b)?c=null:(b=pf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Dy(a,c)};
smh.prototype.Dy=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Dy(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Yo(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Mp(b,f)),f=h,h=Mp(b,""),b.ix(f,a),b.ix(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function tmh(a,b,c,d,e,f,h,k,l){var n=this;l=void 0===l?5E3:l;eB.call(this,this,new umh(h,f,k,this),new vmh("\n",null,!0));this.boa=!0;this.L.Gh=this;this.Na=c.map(function(q){return new wmh(n,q)});this.Sa=new smh;this.Zta(ap(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Ra=l;this.Ja=!1;this.Ba=null;this.Ea=!1}v(tmh,eB);var xmh=/[\n]$/;m=tmh.prototype;
m.CJ=function(a,b,c){var d=this,e=Oa(),f=this.L.D;this.R&&this.R.jp("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=ymh(this.L,a),l=zmh(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,t,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new qmh(new pmh(e,f,n.getType(),h,x,F,w)),w.rBa=!h,w.Wea=t.Eoa,c(a,q,w),h=!1)})}else b=imh(new omh(a,k,b),l,function(q){if(!d.isDisposed()){var t=new qmh(new pmh(e,f,q.type,
h,q.complete,q.F,q.D));t.rBa=!h;q.C&&(t.Wea=q.C.Eoa);c(a,q.rows,t);h=!1}}),this.C=new Amh(b,this.Ra)}else c(a,[])};function zmh(a,b,c){return a.Na.filter(function(d){return d.F(b,c)})}
m.zx=function(a,b){b||(b=new Whb);tmh.Ya.zx.call(this,a,b);if(b instanceof qmh){this.Ba=b.lcc;var c=Bmh(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=Oa()-b.startTime,f=Oa()-b.J;this.R&&(b.C&&(this.R.jp("dac",e,d.sb()),this.R.jp("dact",f,d.sb())),b.D&&(this.R.jp("dacfr",e,d.sb()),this.R.jp("dacfrt",f,d.sb())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=this.Ea?5:0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=Cmh[a])&&h.x0;b.C=a}else b.C&&0==d&&(h=(h=Cmh[b.C])&&h.K0,b.C=null);h&&
Dmh(b,h,c)}};function Bmh(a,b,c,d){var e=new sSd;e=L(e,1,c).setType(Emh(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,fB(a,a.J)),L(c,6,b.L));return ehh(c)}function Emh(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 8;default:return 0}}m.Qr=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.rR()&&this.Sa.lwa(c,a.data.rR().D,new rmh(a.data.rR().C)))};
m.aC=function(){var a=cib(this)?this.F[fB(this,this.J)]:null,b;this.Ba&&(b=Bmh(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=Cmh[a.getType()])&&Dmh(c,a.j0,b);c.C=null}this.Ja=!0;return tmh.Ya.aC.call(this)};m.Bh=function(){this.Ea=!1;if(!this.Ja&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&Cmh[a.C];b&&Dmh(a,b.VW);a.C=null}this.Ja=!1;tmh.Ya.Bh.call(this)};function Fmh(a){return cib(a)?a.F[fB(a,a.J)].getId():null}
m.Ka=function(){tmh.Ya.Ka.call(this);Uf(this.Na);this.C&&(this.C.cancel(),this.C=null)};function vmh(a,b,c,d){hB.call(this,a,b,c,d);this.D=0;this.y6a=this.L2a=this.M2a=!1;this.R=this.V=null}v(vmh,hB);vmh.prototype.og=function(){this.Gh.rf()&&this.Gh.Bh()};vmh.prototype.Sg=function(a){this.D=Oa();return(37===a.keyCode||39===a.keyCode)&&this.Gh.rf()||38===a.keyCode&&this.Gh.rf()&&-1===this.Gh.J?(this.Gh.Bh(),!0):vmh.Ya.Sg.call(this,a)};
vmh.prototype.KF=function(a,b){var c=null;if(a){c=a.WX();var d=Gmh(this,a.getToken());c={start:c.ul()+d,end:c.Pw()+d}}b=vmh.Ya.KF.call(this,a,b);if(a){d=c.end;var e=this.$l;e&&(gB(e,c.start),iib(e,d));a.r8()}return b};function Gmh(a,b){var c=a.Vo();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function ymh(a,b){return a.Vo()-Gmh(a,b)}function wmh(a,b){this.C=a;this.D=b}
wmh.prototype.H=function(a,b,c,d){var e=this,f=a.replace(xmh,"");return this.D.H(f,b,c,function(h,k,l,n,q){d(h.map(function(t){return new Hmh(e.C,t,a)}),k,l,n,q)})};wmh.prototype.getType=function(){return this.C.Ea?5:this.D.getType()};wmh.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function Hmh(a,b,c){this.F=a;this.C=b;this.D=c}m=Hmh.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.F.Ea?5:this.C.getType()};m.rR=function(){return this.C.rR()};
m.WX=function(){return this.C.WX()};m.render=function(a){this.C.render(a)};m.r8=function(){this.C.r8()};m.getToken=g("D");m.toString=function(){var a=xmh.test(this.D)?"\n"[0]:"";return this.WX().C+a};function Amh(a,b){var c=this;this.D=a;this.C=aq(function(){c.C=null;c.D.close()},b)}Amh.prototype.cancel=function(){null!==this.C&&(bq(this.C),this.C=null);this.D.close()};
function umh(a,b,c,d){tB.call(this,b,d);this.Na=!!c;this.V=!0;this.QEa=!1;this.O=!0;this.className="docos-ac";a&&(this.R=a)&&(this.Qa=a)}v(umh,tB);umh.prototype.Yc=function(){umh.Ya.Yc.call(this);zx(this.getElement(),"Showing contact suggestions");if(!this.F){var a=rw(this.getElement()),b=this.Na?-2:-1;qw(this.getElement(),a.x,a.y+b)}};function Imh(a){this.C=null;this.D=a}function Dmh(a,b,c){if(c){var d=new uk;Yj(d,11,c)}a.D&&a.D(b,void 0,d)}var Jmh={},Cmh=(Jmh[1]={x0:43002,K0:43004,VW:43006,j0:43E3},Jmh[2]={x0:43003,K0:43005,VW:43007,j0:43001},Jmh[3]={x0:43068,K0:43069,VW:43066,j0:43067},Jmh[4]={x0:43072,K0:43073,VW:43070,j0:43071},Jmh[5]={x0:43088,K0:43090,VW:43091,j0:43089},Jmh[6]={x0:43098,K0:43100,VW:43097,j0:43099},Jmh);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function Kmh(a,b,c,d){Uo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new xB(a);Lo(this.F,"input",this.L,!1,this);Lmh(this)}v(Kmh,Uo);Kmh.prototype.L=function(){Lmh(this)};function Lmh(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Cp(a.H,String(1==a.J?b:a.D-b))}Kmh.prototype.Ka=function(){Kmh.Ya.Ka.call(this);delete this.C;this.F.dispose();this.F=null};function Mmh(a,b){return Nmh(a,b,!1)}function Omh(a,b){return Nmh(a,b,!0)}function Nmh(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?Hd(n,h):Kd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function Pmh(a,b,c,d,e,f,h){b.getEmail();this.Dc=a;this.D=b;this.jd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(Pmh,A);m=Pmh.prototype;m.Xg=g("D");m.getId=g("jd");m.getType=g("L");m.rR=g("H");m.WX=g("J");m.render=function(a){this.C=Zlh(this.Dc,this.D,a)};m.r8=ba();m.Ka=function(){var a=this.C;a&&O4(this.Dc.C,a)};function Qmh(a,b,c){this.D=a;this.C=b;Rmh(this.C);this.F=c}function Smh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Tmh.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(Tmh.has(a[b])){d=b;break}return{text:a.slice(c,d),dw:c,pH:d}}function Umh(a,b){for(var c=0,d=b-1;0<=d;d--)if(Vmh.has(a[d])&&(0==d||Tmh.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(Tmh.has(a[b])){d=b;break}return{text:a.slice(c,d),dw:c,pH:d}}
function Wmh(a,b,c,d,e,f,h,k,l){return a.C.No(d,f,function(n,q){n=n.map(function(t){var w;if(w=t)t.getEmail()?(w=null,QX(rhh(t))?w=(new YX(rhh(t))).setSize(96).pB():w=rhh(t)||null,w=njh(kjh(mjh(new V4,t.getEmail()).Zc(t.getName()),w).Ic(""))):w=null;return{yeb:t,sD:w}}).filter(function(t){return t.sD}).map(function(t,w){var x=t.sD;w=h+w;t=t.yeb.getType();var F=new dS(d,!0),M=c;x.getName()&&(M=Xmh(x.getName(),b,M));var V=(nkh(a.D)?"@":"+")+x.getEmail(),S=Tmh.has(b[M.pH]);return new Pmh(a.F,x,w,k,F,
new eS(b.slice(0,M.dw)+V+(S?"":" ")+b.slice(M.pH),M.dw+V.length+1,M.dw+V.length+1),t)});l(n,!q.Bk(),a.C.C)},e)}
function Xmh(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Ymh).filter(function(l){return!!l}),e=b.slice(0,c.pH).split(Ymh);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.pH-a,{text:b.slice(a,c.pH),dw:a,pH:c.pH};f++}return c}
var Tmh=new Set([" ","\t","\n"]),Vmh=new Set(["@","+"]),Ymh=/[ ]/;var Zmh="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
$mh=new lm(["everybody","nobody"]);function anh(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(anh,A);anh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Smh(a,b);var f=bnh(this,b.text);a=Wmh(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,cnh,f.query.length,k,l)});this.C=a.Bk()?a:null;return!0};
anh.prototype.F=function(a,b){a=Smh(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||kd(Zmh,a.text.trim().toLowerCase())||$mh.contains(a.text.trim().toLowerCase())?!1:!0};function bnh(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:re}:null!=a[2]?{query:a[2],filter:Omh}:null!=a[3]?{query:a[3],filter:Mmh}:null}anh.prototype.getType=ea(2);anh.prototype.Ka=function(){delete this.C};var cnh=new ICd(!1);function dnh(a){A.call(this);this.L=a;this.J=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null;this.D=0}r(dnh,A);dnh.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=Umh(a,b);var f=enh(this,b.text);a=Wmh(this.L,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",this.getType(),function(h,k,l){k&&(e.C=null);d(h,fnh,f.query.length,k,l)});this.C=a.Bk()?a:null;return!0};
dnh.prototype.F=function(a,b){a=Umh(a,b);"@"==a.text.charAt(0)?this.D=6:"+"==a.text.charAt(0)&&(this.D=1);return this.J.test(a.text)};function enh(a,b){a=b.match(a.J);return null===a?null:null!=a[1]?{query:a[1],filter:re}:null}dnh.prototype.getType=g("D");dnh.prototype.Ka=function(){delete this.C};var fnh=new ICd(!0);function gnh(a){var b=[];for(a=a.firstChild;a;){switch(a.nodeType){case 3:b.push(Ep(a));break;case 1:b=b.concat(hnh(a));break;default:throw Error("Unexpected NodeType in inputpane: "+a.nodeType);}a=a.nextSibling}return b}function hnh(a){var b=[];switch(a.tagName){case "BR".toString():a.previousSibling&&3===a.previousSibling.nodeType||b.push("");break;case "P".toString():case "DIV".toString():b=b.concat(gnh(a));break;default:throw Error("Unexpected TagName in inputpane: "+a.tagName);}return b}
function inh(a){a=a.split("\n");for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(0===c?d:Qe("DIV",null,d||Ue))}return Re(b)};function jnh(a){var b=Ia(a).toString();YO.call(this,b,void 0);this.D=a;this.D.id=this.id;this.ob=new pL(new qL)}r(jnh,hNc);function knh(a){var b=a.ob;if(a.queryCommandValue("usinglorem"))a="\u00a0";else if(a.Zf()){var c=a.getElement(),d=c.cloneNode(!1);c=c.innerHTML;Af&&c.match(/^\s*<script/i)&&(c="\u00a0"+c);d.innerHTML=c;a.QUa(11,d);a=a.tka(10,d.innerHTML)}else a=a.D.innerHTML;b.D=Ikc(b);b=mkc.prototype.L.call(b,a);return gnh(b).join("\n")}
jnh.prototype.bT=function(a,b,c){hNc.prototype.bT.call(this,a,b,c);this.dispatchEvent("dom_manipulated")};function lnh(a){WO.call(this);this.D=a;this.Oa=new Vo(this);this.C=null}r(lnh,WO);lnh.prototype.bM=ea("MaxCharacterPlugin");lnh.prototype.X8=function(a){var b=this;WO.prototype.X8.call(this,a);this.Oa.Nc(a,"load",function(){b.C=new xB(a.getElement());b.Oa.listen(b.C,"input",b.F).listen(a,"dom_manipulated",b.F)})};lnh.prototype.F=function(){var a=this.Lf,b=knh(a);b.length>this.D&&(s0e(a,inh(b.substring(0,this.D).trim())),kMc(a))};var mnh=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,nnh=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function onh(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Md(a[b]).replace(/^\W+/,"").toLowerCase();return a};function pnh(a){this.C=new VK(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");Rmh(this.J)}function qnh(a,b){var c=njh(jjh(mjh(new V4,b).Ic(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.No(b,1,u(a.L,a,b)))}pnh.prototype.L=function(a,b){if(null!==b&&0<b.length&&this.C.Yg(a)){b=b[0];var c=null;QX(rhh(b))?c=(new YX(rhh(b))).setSize(96).pB():c=rhh(b)||null;b=njh(kjh(mjh(new V4,a).Zc(b.getName()),c).Ic(""));this.C.set(a,b)}delete this.H[a]};
function rnh(a){return a.C.C.next.value||null}function snh(a){return a.F?a.D:null};function tnh(){WO.call(this);this.Oa=new Vo(this)}r(tnh,WO);tnh.prototype.bM=ea("PastePlugin");tnh.prototype.X8=function(a){WO.prototype.X8.call(this,a);this.Oa.Nc(a,"load",this.D)};tnh.prototype.D=function(){this.Oa.listen(this.Lf.getElement(),"paste",this.C)};tnh.prototype.C=function(a){a.preventDefault();(a=a.Ae().clipboardData.getData("text/plain"))&&unh(this,a)};
function unh(a,b){var c=a.Lf;c.bT(function(){var d=op(inh(b)),e=vnh(a,d);c.getRange().EO(d);XM(e,e.nodeValue?e.nodeValue.length:0).select()})}function vnh(a,b){return b.hasChildNodes()?vnh(a,b.childNodes[b.childNodes.length-1]):b};function wnh(a,b,c){Go.call(this,c)}r(wnh,Go);function xnh(a){a=a.TPb;return T('<div class="'+U("docos-presenceindicator")+" "+U(a)+'">Someone is typing...</div>')};function ynh(a,b,c){I4.call(this,a,b);this.D=c}r(ynh,I4);ynh.prototype.Ca=function(){this.pb(ny(xnh,{TPb:this.D}))};ynh.prototype.Ia=function(){I4.prototype.Ia.call(this);this.setVisible(!1)};ynh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function znh(){WO.apply(this,arguments)}r(znh,WO);znh.prototype.bM=ea("SuppressKeyboardShortcutPlugin");znh.prototype.wRa=function(a){return Anh(a)};znh.prototype.yRa=function(a){return Anh(a)};function Anh(a){return(a.ctrlKey||a.metaKey)&&Bnh.has(a.keyCode)?(a.preventDefault(),!0):!1}var Bnh=new Set([66,85,73]);function Cnh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;I4.call(this,a,b);this.Va=a;this.ma=new cA("",b);var e=this.C.wj();this.ma.wP=e;this.Ga(this.ma);this.V=new cA("",b);this.Ga(this.V);this.Ba=b.Ib().body;this.F=c;this.H=new pnh(this.Va);this.Qa=this.rb=null;this.Ja=new $lh(b,this.C,this.Va,this.F);this.L=(this.Xe="legacy"!=this.C.F)?new IQ(b):new uA(!1,b);this.wb=!1;this.Ra=!d;c=Sw.getInstance();this.qd=Tw(c);this.Rc=Tw(c);this.Ad=Tw(c);this.Cc=null;z(y(),"docs-edp")&&(this.Cc=new ynh(a,
b,"focused-presenceindicator"));this.Oc=0;this.va="";this.fb="Comment draft";this.ob=this.Xa=this.Sd=null;this.Bb=!0;this.Ea=!1;this.Pb=this.Hb=this.O=this.jb=this.bb=null;this.Sa=!1;this.J=this.Na=null;$kh(a);this.R=null}r(Cnh,I4);m=Cnh.prototype;m.Ca=function(){var a=Slh(new u5);this.Jc(ny(Plh,{wj:this.C.wj(),gD:this.C.Ea,lH:a,mH:nkh(this.C),Fv:$4(this.C)},void 0,this.oa()))};
m.Jc=function(a){I4.prototype.Jc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.D=b.cb("docos-input-textarea",a);$4(this.C)&&(this.R=new jnh(this.D),$O(this.R,new znh),$O(this.R,new INc),$O(this.R,new tnh),$O(this.R,new lnh(2048)));this.Xa=new yB;this.Xa.Wa(this.D);this.qa(this.Xa);Rlh(new u5)&&this.D.setAttribute("placeholder",this.va);if(Slh(new u5)){this.Na=b.cb("docos-at-mention-icon",a);null!=this.Na&&(this.J=new cA(null,b),this.J.Wa(this.Na),this.J.setVisible(!1));
var c=this.Xa.Qe()?"left":"right";nw(this.D,"padding-"+c,"36px")}this.Ra||P(this.D,this.Ra);this.ob=b.cb("docos-input-at-reply-message",a);this.ob.setAttribute("id",this.qd);this.bb=b.cb("docos-input-acl-fixer-message",a);this.bb.setAttribute("id",this.Rc);this.jb=b.cb("docos-input-assignment-message",a);this.jb.setAttribute("id",this.Ad);this.Qa=b.cb("docos-input-assignment-panel",a);c=this.Ja;var d=this.Qa;c.J=d;zz(c,new Hcb(d,9));this.rb=b.cb("docos-input-assignee-text",a);c=b.cb("docos-input-assignee-select",
a);this.Ja.Wa(c);this.Ja.Pa(!0);if(c=b.cb("docos-input-assignment-box",a))this.L.Wa(c),sA(this.L,this.rb);c=Dnh(this);if(0<c.length){d=!this.F||!this.F.bl();var e;d?e=this.C.O:this.F&&(e=this.F.getElement());this.O=new tmh(this.C,this.D,c,new Imh(this.C.Qa),this.C.R||void 0,e||void 0,this.D||void 0,d);this.qa(this.O)}if(e=b.cb("docos-input-cancel",a))this.V.Wa(e),zx(e,this.V.Pl());(a=b.cb("docos-input-post",a))&&this.ma.Wa(a);this.Cc&&this.F.bl()&&(a=this.oa().cb("docos-focusedpresenceindicator-container",
this.getElement()),this.Cc.render(a))};function Dnh(a){var b=[],c=new Ylh(M4(a.Va),a.oa());c=okh(a.C)?new Qmh(a.C,a.Va.get("contactStore"),c):null;if(okh(a.C)){var d=new dnh(c);a.qa(d);b.push(d)}d=pkh(a.C).map(function(e){return e.F()});ud(b,d);okh(a.C)&&(c=new anh(a.C.ah,c),a.qa(c),b.push(c));return b}
m.Ia=function(){I4.prototype.Ia.call(this);V0e(this.getElement(),!1);$4(this.C)||(this.Hb=new Kmh(this.D,null,2048),this.qa(this.Hb));this.Pb=new xB(this.D);this.qa(this.Pb);K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(this,this.Pb,"input",this.rRa),this.D,"keydown",this.pF),this.D,"keyup",this.UTb),this.D,"keypress",this.TTb),this.V,"action",this.STb),this.ma.getElement(),["click","keypress","keyup"],this.R4a),this.ma,"action",this.OWa),this.Qa,"click",this.J8b),this.L,"change",this.L8b),this.L.tm(),"keypress",
this.M8b),this.Qa,["keyup","keypress"],this.K8b),this.Ja,"action",this.I8b),this.D,"pointerdown",this.RTb);$4(this.C)&&K4(this,this.R,"dom_manipulated",this.rRa);this.J&&(K4(this,this.J,"action",this.n9b),K4(this,this.J.getElement(),"blur",this.V8b));this.O&&(K4(this,this.O,"update",this.Vrb),K4(this,this.O,"suggestionsupdate",this.Q5a));this.D[Enh]=u(this.blur,this);this.D[Fnh]=u(this.V9b,this);this.V.getElement()&&(K4(this,this.V.getElement(),["click","keypress","keyup"],this.R4a),this.V.Pa(!0));
if(this.F&&L4(this.F.ld())&&Lkh(this.F.ld())){var a=this.H,b=G4(L4(this.F.ld())).getEmail();b&&!a.C.Yg(b)&&qnh(a,b);a.C.isEmpty();a=this.H;b=rnh(this.H);kd(a.C.Hd(),b);a.D=b;a.F=!0;this.L.Jb(!0)}Rlh(new u5)?(this.setValue(""),this.Ee(this.fb+". "+this.va)):this.setValue(this.va);this.Sa=!0;wx(this.D,"label",this.fb);qkh(this.C)&&(Dp(this.getElement(),!0),zx(this.getElement(),"This is the input pane."))};m.RTb=function(a){nj&&Jf(73)&&a.target.setPointerCapture(a.pointerId)};
m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return $4(this.C)?this.R?knh(this.R):"":this.D?this.D.value:""};m.setValue=function(a){$4(this.C)?s0e(this.R,inh(a.trim())):this.D.value=a};m.isEmpty=function(){return Ld(this.getValue())};function T5(a){return!Ld(a.getValue())&&!a.Sa}m.Ee=da("fb");
m.reset=function(a){this.Ea||this.isDisposed()||(Rlh(new u5)?(this.D.setAttribute("placeholder",this.va),this.setValue("")):this.setValue(this.va),this.Sa=!0,this.J&&this.J.setVisible(!1),wx(this.D,"label",this.fb),Af?aq(this.MTa,0,this):this.MTa(),U5(this,a),this.D&&(this.D.style.height=""),a||Gnh(this),Hnh(this,"none"))};
function Hnh(a,b){if(a.ob&&a.bb&&a.jb){P(a.ob,"atReplyMessage"==b);P(a.bb,"aclFixerMessage"==b);P(a.jb,"assignmentMessage"==b);var c=a.L.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.qd;break;case "assignmentMessage":d=a.Ad;break;case "aclFixerMessage":d=a.Rc}null!=d?wx(c,"describedby",d):xx(c,"describedby")}}}
m.ready=function(a,b,c){this.isDisposed()||(this.R&&!this.R.Zf()&&lMc(this.R),this.Sa&&(this.Sd=!b&&a||"",this.setValue(a||""),this.Sa=!1),Dx(this.getElement(),"docos-input-typing"),c||this.focus(),U5(this))};m.blur=function(a){this.F&&this.dispatchEvent(new Go("b",this.F));if(this.J){var b=this.J.Gb();a=a&&a.relatedTarget==this.J.getElement();b||a||this.J.setVisible(!1)}};m.V8b=function(a){a.relatedTarget!=this.D&&this.J.setVisible(!1)};m.focus=function(){Af||aq(this.NWa,0,this);this.NWa()};
m.NWa=function(){!this.isDisposed()&&Kw(this.D)&&(this.D.focus(),this.J&&!this.C.J&&(this.J.setVisible(!0),Inh(this)))};m.MTa=function(){this.isDisposed()||Fx(this.getElement(),"docos-input-typing")};
function U5(a,b){var c=Md(a.getValue());c=!a.Sa&&c!=a.Sd;a.ma.Pa(!a.Ea&&(!a.Ra||c&&!a.isEmpty()));a.Q5a();var d=Jnh(a),e=a.H.D,f=a.H.C.Hd().length;if(a.Ra){var h=a.H;var k=a.getValue(),l=d?G4(d):void 0;d=onh(nnh,k);k=h.C;h.C=new VK(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];k.Yg(q)?h.C.set(q,k.get(q)):qnh(h,q)}l&&(l=sf(l.getEmail()),!Ld(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=rnh(h))?k.getEmail():null;(h.F||l==n)&&l&&h.C.Yg(l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
Knh(a,!1);e=a.C;0!=f||!h||a.Ea||!Mj(e.hh,33)||e.J||e.ma||(f=e.Yl,e=rnh(a.H)?rnh(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.wb&&a.F&&!a.F.ld().isResolved()&&a.Ra&&(a.F.Eya()||!!Akh(a.F.ld()));Mj(a.C.hh,38)&&(f?(a.L.Pa(!a.Ea),a.Ja.Pa(!a.Ea),a.Ja.update(a.H.C.Hd(),d),f=yih(d,a.C,!!Jnh(a)),e=a.Ja.getElement(),Cp(a.rb,f),zx(e,f+". Choose an assignee."),Hx(a.rb,"docos-input-assignee-text-no-chevron",!Kw(e)),P(a.Qa,!0),Lnh(a,!0)):(Knh(a,!1),a.L.Pa(!1),a.Ja.reset(),P(a.Qa,!1),Lnh(a,!1)));a.Ea&&okh(a.C)&&
!a.H.C.isEmpty()?Hnh(a,"aclFixerMessage"):a.Bb&&okh(a.C)&&!a.H.C.isEmpty()?a.L.isChecked()?Hnh(a,"assignmentMessage"):a.Bb?Hnh(a,"atReplyMessage"):Hnh(a,"none"):Hnh(a,"none");(f=snh(a.H))&&a.F?(e=!!Jnh(a),f=yih(f,a.C,e),e=e?"Reassign":"Assign"):a.wb?(f="Save changes",e="Save"):!a.F||a.F.ld().lx()?(f="Post Comment",e="Comment"):a.F.ld().uZ()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.ma.getElement()&&J4(a.Va).C.C(a.ma.La(),f);Cp(a.ma.getElement(),e);c?(Mnh.contains(a)||
(Mnh.add(a),a.dispatchEvent(new wnh(a.F.getId(),1,"pr"))),Dx(a.getElement(),"docos-input-nohide")):(Nnh(a),Fx(a.getElement(),"docos-input-nohide"));Onh(a);b||a.dispatchEvent("s")}function Nnh(a){Mnh.contains(a)&&(Mnh.remove(a),a.dispatchEvent(new wnh(a.F.getId(),0,"pr")))}
m.Q5a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.O&&this.O.rf()&&(this.getElement().setAttribute("aria-autocomplete","list"),cib(this.O)&&this.getElement().setAttribute("aria-activedescendant",Fmh(this.O)))};function Lnh(a,b){if(b=b&&a.F)b=a.F,b=b.bl()&&b.Cc;b?(a.C.Zs||qe)("docosTodos",u(a.eac,a)):(a.C.uj||qe)("docosTodos")}m.eac=function(){this.dispatchEvent("ph")};function Knh(a,b){a.L.Jb(b);a.H.F=b}
function Jnh(a){return a.F&&!a.F.ld().lx()&&Akh(a.F.ld())?L4(a.F.ld()):null}m.R4a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.STb=function(){this.dispatchEvent("c");this.reset()};m.OWa=function(){if(this.ma.isEnabled()){var a=this.H.C.jf(),b=this.C;if(Mj(b.hh,33)&&!b.J&&!b.ma&&!ld(a)&&(b=this.C.wn)){Hnh(this,"aclFixerMessage");this.Ea=!0;U5(this);this.V.getElement()&&this.V.Pa(!1);b(a,u(this.Dqb,this));return}Pnh(this)}};
m.J8b=function(){this.Ea||(Knh(this,!this.L.isChecked()),U5(this))};m.L8b=function(){var a=this.L.isChecked();this.H.F=a;U5(this)};m.M8b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.L,a.Jb(a.nE?!1:!0),this.L.dispatchEvent("change"),this.ma.focus())};m.K8b=function(a){a.stopPropagation()};m.I8b=function(){this.L.Jb(!0);var a=this.H,b=amh(this.Ja);kd(a.C.Hd(),b);a.D=b;a.F=!0;U5(this)};
m.Dqb=function(a){this.Ea&&(this.Ea=!1,"continue"==a?Pnh(this):Hnh(this,"atReplyMessage"),this.F.getContext()&&(U5(this),this.V.getElement()&&this.V.Pa(!0)))};function Pnh(a){Af&&a.F&&a.F.ld().lx()&&Tf(a.Hb);a.dispatchEvent("p");a.reset()}m.V9b=function(){this.ready(void 0,void 0,!0);this.F&&this.dispatchEvent(new Go("f",this.F));this.J&&!this.C.J&&(this.J.setVisible(!0),Inh(this))};
function Onh(a){if(!a.D)return!1;var b=a.D.clientHeight,c=a.D.scrollHeight,d=Hw(a.D).height;return b!=c&&0<d?(Gw(a.D,d+c-b),Inh(a),!0):!1}function Inh(a){if(null!=a.Na){var b=rw(a.D),c=Hw(a.D),d=Hw(a.Na).height;if(a.Xa.Qe())a.Na.style.left=b.x+"px";else{var e=Qw(a.D.parentElement).right;a.Na.style.right=e+"px"}a.Na.style.top=b.y+c.height-d+"px"}}
m.pF=function(a){Onh(this)&&this.dispatchEvent("s");this.Oc=a.keyCode;if(13==a.keyCode)Qnh?a.metaKey&&Gf&&nj&&Rnh(this,a):Rnh(this,a);else if(27==a.keyCode){Df&&a.preventDefault();if(this.O&&this.O.rf())return;this.isEmpty()&&this.reset();this.F&&this.dispatchEvent(new Go("e",this.F));Gnh(this)}a.stopPropagation()};
m.UTb=function(a){Onh(this)&&this.dispatchEvent("s");var b=this.Oc;this.Oc=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.$d){Gd(this.getValue(),"\n")?this.pF(a):a.preventDefault();return}this.$d=!1}a.stopPropagation()};m.TTb=function(a){if(13==a.keyCode&&Qnh)Rnh(this,a);else if(27==a.keyCode){if(this.O&&this.O.rf())return;this.blur();Gnh(this)}a.stopPropagation()};function Rnh(a,b){if(b.ctrlKey||b.metaKey)a.$d=!0,a.ma.getElement().focus(),a.OWa()}
function Gnh(a){a.Ba&&(Af&&!Jf("9")?a.Ba.focus():aq(function(){return a.Ba.focus()}))}m.rRa=function(){U5(this)};m.Vrb=function(){U5(this)};m.n9b=function(){this.O.Ea=!0;this.focus();Snh(this,nkh(this.C)?"@":"+");var a=hib(this.D,!0)[0];Tnh(this,a-1)&&(Snh(this," ",a-1),a+=1,I1e(this.D,a));Tnh(this,a+1)&&(Snh(this," ",a),I1e(this.D,a));this.O.update(!0)};
function Snh(a,b,c){c&&I1e(a.D,c);c=a.D;if(dib(c)){var d=c.value,e=c.selectionStart;c.value=d.substr(0,e)+b+d.substr(c.selectionEnd);c.selectionStart=e;c.selectionEnd=e+b.length}else if(eib())d=fib(c),c=d[1],d[0].inRange(c)&&(d=c.duplicate(),c.text=b,c.setEndPoint("StartToStart",d),c.select());else throw Error("Cannot set the selection end");b=hib(a.D,!1)[1];I1e(a.D,b)}function Tnh(a,b){a=a.getValue();return 1>b||b>a.length?!1:" "!=a[b-1]}
m.Ka=function(){I4.prototype.Ka.call(this);Nnh(this);this.D&&(this.D[Enh]=null,this.D[Fnh]=null);delete this.D;delete this.Hb;delete this.Pb};var Mnh=new lm,Enh=Af?"onfocusout":"onblur",Fnh=Af?"onfocusin":"onfocus",Qnh=Gf||zf||Df;Ef&&Jf("530");function Unh(a,b,c,d,e,f,h,k){d=void 0===d?0:d;Tlh.call(this,a,b);this.yn=c||null;this.$p=d;this.C=e||null;this.j2=h;this.bl=k}r(Unh,Tlh);function Vnh(a){this.C=J4(a)};function Wnh(a,b){b.uZ()?a.V+=1:b.lx()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Vj()?(b=Mkh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Xnh(a,b,c,d,e){this.dk=a;this.C=b||null;this.yn=c||null;this.$p=d||null;this.flags=e||null};function Ynh(a,b,c,d){Go.call(this,b,a);this.source=c;this.C=d}r(Ynh,Go);function Znh(a,b){this.D=a;this.Ur=b;this.C=[]}function $nh(a){return new Ynh(a.D,"bu",a.Ur,a.C)};function aoh(){this.D={};this.C={};this.F=0}function boh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function coh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new doh(c,d);a.C[c][d||"$"]=b}aoh.prototype.bind=function(a,b){if(null!==boh(this,a,b))return!1;this.F++;coh(this,this.F,a,b);return!0};function eoh(a,b,c){var d=boh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function foh(a,b,c,d,e){var f=boh(a,b,c);if(null===f||null!==boh(a,d,e))return!1;eoh(a,b,c||void 0);coh(a,f,d,e);return!0}
function goh(a,b,c){return boh(a,b,c)||0}aoh.prototype.getDocoHandles=function(){for(var a=Yd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function doh(a,b){this.C=a;this.D=b||null};function hoh(){this.D={}}hoh.prototype.C=function(a){Lkh(a)||(this.H(a),a.JS()&&(this.D[a.getId()]=!0))};hoh.prototype.H=function(a){delete this.D[k5(a)];delete this.D[a.getId()]};hoh.prototype.F=function(){return!ce(this.D)};function ioh(a){this.J=a;this.D=new hoh}ioh.prototype.C=function(a){this.D.C(a);a=this.J.dj;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};ioh.prototype.H=function(a){this.D.H(a)};ioh.prototype.F=function(){return this.D.F()};function joh(a){Uo.call(this);this.L=a;this.C={};this.R=null;this.F={};this.J=[];this.Na=[];this.Ja={};this.V={};this.H=new Map;this.D=new aoh;this.Qa=[];this.va=!1;this.Ba=this.O=null;this.Sa=!1;this.Ea=new ioh(this.L)}v(joh,Uo);function koh(a,b){a.Vj();var c="<i>Made a suggestion</i>";(a=a.Z4())&&(b=b.Ys)&&(b=b(a).C())&&(c=b);return c}function loh(a,b){return"n"!=b&&!Lkh(a)&&a.JS()}
function moh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Znh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=l5(d);h.C.push(new Xnh(b,c,d,e,f));k&&a.dispatchEvent($nh(h))}
function s5(a,b,c,d){c=c||"c";var e=noh(a),f=ooh(a,b.getId(),K(T4(b.C),11)||"");if(f){var h=f.getId(),k=f.Rq();b=b.C;var l=fk(f.F);T4(b);var n=T4(b),q=b.getId(),t=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.Rq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.Rq(),x=R4(n),F=!1,M=0;M<x.length;M++){var V=x[M],S=f.D[V.getId()||""]||f.D[K(V,11)||""];F=!1;S||(S=f.J[V.getId()||""]||f.J[K(V,11)||""],F=!!S);if(S){var ca=S.getId();S.update(V);if(ca!=S.getId()&&(delete f.D[ca],f.D[S.getId()]=S,goh(f.O,
t,ca)&&!foh(f.O,t,ca,t,S.getId())))throw Error("Error updating ID from "+t+", "+ca+" to "+t+", "+S.getId());S.Rq()?(delete f.D[S.getId()],f.J[S.getId()]=S,eoh(f.O,t,S.getId())):F&&!S.Rq()&&(delete f.J[S.getId()],f.D[S.getId()]=S,f.O.bind(t,S.getId()))}else S=new Jjh(V),S.Rq()?(f.J[S.getId()]=S,eoh(f.O,t,S.getId())):(f.D[S.getId()]=S,delete f.J[S.getId()],f.O.bind(t,S.getId())),S=R4(T4(f.F)),S.push(V),V=T4(f.F),bk(V,8,S)}t=0;void 0!==Mj(b,6)&&Mj(b,6)!=f.isResolved()&&(t=Mj(b,6)?t|2:t|4);q&&!F?t|=16:
w&&(t|=8);bk(n,8,[]);q&&(n.setContent(void 0),Yj(n,4,void 0),Yj(n,9,void 0));ejh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.QS=null;ek(f.F,l)||(t|=1);b=t;a.Ea.C(f);poh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.H.delete(h),l=goh(a.D,h),delete a.Ja[l],a.C[f.getId()]=f,l&&!foh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=goh(a.D,f.getId());f.Rq()?(delete a.C[f.getId()],a.H.delete(h),eoh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ja[l]=f),loh(f,
c)&&(nd(a.J,f.getId()),nd(a.Na,f.getId())),d=Vkh(Ukh(Tkh("dd"),c),f.getId()),k=l5(f),d.hs=k,d.C=l,d=Wkh(d,b),h!=f.getId()&&(d.D=h),a.dispatchEvent(Ykh(d))):(k&&(delete a.F[f.getId()],delete a.Ja[l],a.C[f.getId()]=f,(a.L.Ja||l5(f))&&a.D.bind(f.getId()),l=goh(a.D,f.getId())),0!=b&&(loh(f,c)&&nd(a.J,f.getId()),moh(a,c,h,f,l,b,d)))}else f=new Jkh(b.C,a.D,b.Mt?b.Mt:void 0),a.Ea.C(f),f.Rq()?a.F[f.getId()]=f:qoh(a,f,c,d);noh(a)!=e&&(e=noh(a)?32:0,c=Ykh(Wkh(Ukh(Tkh("p"),c),e)),a.dispatchEvent(c))}
function jlh(a,b,c){for(var d=new Znh(a,c),e=0;e<b.length;e++)s5(a,b[e],c,d);a.dispatchEvent($nh(d))}function blh(a,b){b.getNewDocoType()||Pkh(b,"draft");b=new Jkh(b.C,a.D,b.Mt?b.Mt:void 0);a.Ea.C(b);qoh(a,b)}
function qoh(a,b,c,d){if(Mj(a.L.hh,38)||!b.isTodo()){c=c||"c";var e=null;b.rA()&&(e=roh(a,l5(b)));e&&Lkh(e)?(foh(a.D,e.getId(),null,b.getId(),null),elh(a,e.getId(),c)):(a.L.Ja||b.rA())&&a.D.bind(b.getId());a.C[b.getId()]=b;poh(a,b);e=8|(b.isResolved()?2:0);loh(b,c)&&nd(a.J,b.getId());var f=goh(a.D,b.getId());moh(a,c,void 0,b,f,e,d)}}
function elh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.rA()){var e=l5(d);delete a.V[l5(d)]}a.Ea.H(d);d=goh(a.D,b);delete a.C[b];eoh(a.D,b);b=Vkh(Ukh(Tkh("dd"),c),b);b.C=d;b=Wkh(b,16);void 0!=e&&(b.hs=e);a.dispatchEvent(Ykh(b))}}function V5(a,b){if(!b)a.R=null;else if(!b||a.ld(b)){if(a.L.kH()){var c=!0;c=void 0===c?!1:c;a.H.delete(b);a.dispatchEvent(Ykh(Vkh(Ukh(Tkh("sd"),"c"),b)));c&&soh(a)}a.R=a.ld(b)}}function llh(a,b){b=b.getId();return kd(a.Qa,q5(a,b))}
joh.prototype.ma=function(a){return(this.L.Ja||a.rA())&&(!a.isResolved()||this.va)};function toh(a){var b=he(a.C);je(b,a.F);return b}function uoh(a){var b=new Jhh;a=Xd(toh(a));for(var c=0;c<a.length;c++)Wnh(b,a[c]);return Khh(b)}function voh(a){function b(d){return d.JS()}var c=bd(Xd(a.C),b);a=bd(Xd(a.F),b);return c.concat(a)}function woh(a,b,c){var d=!1;d=void 0===d?!1:d;a.H.set(b,new Set(c));a.dispatchEvent(Ykh(Vkh(Ukh(Tkh("ud"),"c"),b)));d&&soh(a)}
function soh(a){(a=a.L.H["unseen-docos-updated"])&&a((new F4("unseen-docos-updated")).setNonAnchored(!0).build())}function noh(a){return a.Sa?a.Ea.F():!1}function xoh(a){for(var b=0;b<a.J.length;b++){var c=a.J[b],d=a.ld(c);d||(d=a.F[c]);if(d&&d.JS())return!0}return!1}joh.prototype.ld=function(a){return this.C[a]};function ooh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function poh(a,b){l5(b)&&(b.Rq()?delete a.V[l5(b)]:a.V[l5(b)]=b)}
function roh(a,b){var c=a.V[b]||null;return c&&l5(c)!=b?(delete a.V[b],null):c}function t5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function ilh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?a5(a,b):null:null}joh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function q5(a,b,c){return goh(a.D,b,c)}
joh.prototype.flush=function(a){this.dispatchEvent(Ykh(Xkh(Ukh(Tkh("f"),"c"),!!a)));this.dispatchEvent(Ykh(Ukh(Tkh("af"),"c")))};function yoh(a,b){a=a.Ba;if(!a)return null;b=b.Hc(a.getKey());if(!b)return null;a=b.cb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new jn(b,b+a.height)}function zoh(a,b){return(a=Aoh(a,b))?new fY(a.getKey().getId(),a.getValue()):null}
function Aoh(a,b){var c=a.O;if(!c)return null;var d=a.Ba;if(!d)return null;var e=d.getKey();e=he(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=m5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+Boh(h,c,b);if(k>d)return new fY(h,d-a);a=k}return null}function Coh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Sq('<span class="%s">%s</span>',d,h));c+=h}return c}
function Boh(a,b,c){a=Doh(a,c);if(!a)return 0;a=op(a).textContent.toLowerCase();return bha(a,b.toLowerCase())}function Doh(a,b){var c=a.eia();if(!c){var d=Eoh();a.Vj()?c=rL(d,koh(a,b)):a.getContent()?c=rL(d,a.getContent()):c=null}return c}function Eoh(){var a=zkc(new qL);a.F=re;return new pL(a)};function Foh(a,b){this.C=a;this.D=b};function Goh(a,b,c){this.C=a;this.D=b;this.F=c};function Hoh(a,b,c,d){I4.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new cA(null);this.F=this.J=this.H=null;this.qa(this.D)}r(Hoh,I4);m=Hoh.prototype;m.Jc=function(a){I4.prototype.Jc.call(this,a);this.H=this.oa().cb("like-button-text",a);this.J=this.oa().cb("docos-icon",a);this.F=this.oa().cb("docos-icon-img",a);this.D.Wa(this.getElement())};m.Ia=function(){K4(this,this.D,"action",this.FTb);K4(this,this.getElement(),["click","keypress","keyup"],this.ETb);this.update()};m.LWa=da("L");
m.ETb=function(a){a.stopPropagation()};function Ioh(a){var b=N4(a.R).ld(a.L);return null!=a.O?a5(b,a.O):b}m.FTb=function(a){a.stopPropagation();a=P4(this.R);var b=Ioh(this).qA();b=!b||1!=W4(b);null!=this.O?a.yf("docos-vote-reply").qb(new Goh(this.L,b,this.O)):a.yf("docos-vote-doco").qb(new Foh(this.L,b))};
m.update=function(){var a=Ioh(this).qA(),b=!a||0==tjh(a,1).length&&1!=W4(a);Fx(this.H,"no-votes");!b||Dx(this.H,"no-votes");Gx(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);Gx(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?Dx(this.F,"docos-icon-thumb-black"):1==W4(a)?(Dx(this.J,"current-user-has-up-vote"),Dx(this.F,"docos-icon-thumb-green")):0<tjh(a,1).length&&(Dx(this.J,"post-has-votes-no-current-user-vote"),Dx(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=tjh(a,1),b=W4(a),c=c.length,1==b&&c++);Cp(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==W4(a))&&(b="Unlike this"),a=tjh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=tf(b,"\n",H4(ijh(N(a[c].C,gY,1))));this.D.getElement()&&J4(this.R).C.C(this.D.La(),b)};function Joh(a,b){a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+U("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+U("docos-shadow-prompt")+'"><td class="'+U("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+U("docos-shadow-contents")+'">';a+=R(bA({id:"docos-shadow-confirm",
content:hx("Delete")},b));a+=R(bA({id:"docos-shadow-cancel",content:hx("Cancel")},b));return T(a+"</td></tr></table></td></tr></table></div></div></div>")};function Koh(a,b){I4.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.Vd=null;this.H=new cA(null,b);this.Ga(this.H);this.F=new cA(null,b);this.Ga(this.F);this.Ng=this.O=null;this.ma=!1;this.va=new Uz(this);this.qa(this.va);a=P4(a);this.va.yb(a.Ta("docos-highlight-doco"),mt,this.A2)}r(Koh,I4);function Loh(a,b){Moh||(Moh=new Koh(a,b),Moh.render());return Moh}m=Koh.prototype;m.Ca=function(){this.pb(ny(Joh,{},void 0,this.oa()))};
m.Ia=function(){I4.prototype.Ia.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Wa(a.getElement("docos-shadow-cancel"));this.H.Pa(!0);this.F.Wa(a.getElement("docos-shadow-confirm"));this.F.Pa(!0);this.O=new JB(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);KB(this.O);this.Ng=new Nx(a.Ib());this.qa(this.Ng);this.ma=!0}K4(K4(K4(K4(this,this.H,"action",this.YTb),this.F,"action",this.ZTb),this.getElement(),
["keyup","keydown"],this.$Tb),this.Ng,"focusin",this.Vy)};m.prompt=function(a,b,c,d,e,f){this.tb()&&this.zd();if(c!=this.V){var h=Noh[c];h&&this.oa().De(this.L,h);this.V=c}this.Vd=b;this.R=a;this.J=e||null;b=Hw(a);Ew(this.D,b);b=ow(a,"paddingLeft");c=ow(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?Uw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.aUb))};
m.zd=function(){I4.prototype.zd.call(this);this.J=this.R=this.Vd=null};m.A2=function(){Ew(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();tp(this.getElement());this.tb()&&this.zd()};m.ZTb=function(){this.Vd&&this.Vd();this.A2()};m.$Tb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.A2())};m.YTb=function(){this.A2()};m.aUb=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
m.Vy=function(a){a=a.target;Ap(this.getElement(),a)||this.A2()};var Moh=null,Ooh={},Noh=(Ooh["delete-discussion"]="Delete this comment thread?",Ooh["delete-reply"]="Delete this comment?",Ooh);function Poh(a,b){return 1==b&&!a.C&&!a.getId()};function Qoh(a,b,c,d){I4.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new cA(null);this.F=null;this.qa(this.D)}r(Qoh,I4);m=Qoh.prototype;m.Jc=function(a){I4.prototype.Jc.call(this,a);this.F=this.oa().cb("vote-button-text",a);this.D.Wa(this.getElement())};m.Ia=function(){K4(this,this.D,"action",this.OTb);K4(this,this.getElement(),["click","keypress","keyup"],this.NTb);this.update()};m.LWa=da("H");m.NTb=function(a){a.stopPropagation()};
function Roh(a){var b=N4(a.L).ld(a.H);return null!=a.J?a5(b,a.J):b}m.OTb=function(a){a.stopPropagation();a=P4(this.L);var b=Roh(this).qA();b=!b||1!=W4(b);null!=this.J?a.yf("docos-vote-reply").qb(new Goh(this.H,b,this.J)):a.yf("docos-vote-doco").qb(new Foh(this.H,b))};
m.update=function(){var a=Roh(this).qA();Gx(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==W4(a)?Dx(this.F,"current-user-has-up-vote"):0<tjh(a,1).length&&Dx(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=tjh(a,1);b=W4(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Cp(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==W4(a))&&(b="Remove your +1"),a=tjh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=
tf(b,"\n",H4(ijh(N(a[c].C,gY,1))));this.D.getElement()&&J4(this.L).C.C(this.D.La(),b)};function Soh(a,b,c,d,e,f,h){I4.call(this,a,d);this.F=a;this.rb=J4(this.F).R;this.Tg=new Vnh(a);this.O=b;this.H=e;this.ah=h||"";this.Xe=u(this.GTb,this);this.D=null;this.Ic(f||"root");this.va=c;this.Bb=!0;this.bb=2;this.$d=!1;this.nf=this.F.get("relativeDateFormatter");this.Rc=this.Qa=this.Va=this.Ja=this.Ra=this.Sd=this.Xa=this.fb=this.jb=this.qd=this.Cc=this.Ad=this.Pb=this.Ba=this.eg=this.Hb=this.wb=this.Ea=this.Of=this.R=this.L=this.J=this.V=this.ma=this.Sa=this.Oc=this.Na=null;this.ob=new pL(vkc(zkc(new qL),
["data-rawHref"]));K4(this,this.nf,"aj",u(this.uWa,this,!0))}r(Soh,I4);m=Soh.prototype;m.ld=function(){return N4(this.F).ld(this.O)};function Toh(a){return a5(a.ld(),a.getId())}function W5(a){return X5(a)?a.ld():Toh(a)}
m.Ca=function(){var a=this.oa(),b=W5(this),c=b.nx(),d=Uoh(this),e=Voh(this);if(X5(this)&&Ljh(this.ld().C)){var f=Md(Ljh(this.ld().C));f=f.replace(Woh,"<br>").replace(Xoh," ");f=rL(this.ob,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=ny(Llh,{author:c.getName(),eh:c.C,vF:this.C.V&&!k?c.getId():null,Poa:e||"",Ge:this.ah,bl:this.va,bpa:Yoh(this),Qm:Y5(this),vxa:d,mA:X5(this),Vj:b.Vj(),fdc:h?h:"",D8:Zoh(this),wK:$oh(this),kZ:!!W5(this).My(),wj:this.C.wj(),Zga:this.C.Zga(),
kxa:this.C.kxa(),isBadgingEnabled:this.C.kH(),timestamp:aph(this),kfb:mkh(this.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Eo:f},void 0,a);this.pb(b);d=a.cb("docos-accept-suggestion",b);h=a.cb("docos-reject-suggestion",b);this.Pb=a.cb("docos-body-action-text",b);this.Cc=a.cb("docos-anchoredreplyview-buttonholder",b);this.Ra=a.cb("docos-author",b);d&&h&&(this.ma=new cA(null,a),k=this.C.wj(),this.ma.wP=k,this.qa(this.ma),this.V=
new cA(null,a),this.qa(this.V),this.ma.Wa(d),this.V.Wa(h));if(k=a.cb("docos-replyview-resolve-button",b)){this.J=new cA(null,a);var l=this.C.wj();this.J.wP=l;this.qa(this.J);this.J.Wa(k)}(k||d&&h)&&bph(this);d=this.oa();h=d.cb("docos-vote-button",b);k=d.cb("docos-like-button",b);if(h||k)h?(this.R=new Qoh(this.F,this.O,d,X5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(h)):k&&(this.R=new Hoh(this.F,this.O,d,X5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(k));d=a.cb("docos-overflowmenu-outer",
b);(Y5(this)||Yoh(this)||X5(this))&&d&&(f=ny(Klh,{Ti:"docos-icon-overflow-three-dots",gC:"docos-icon-overflow-three-dots-size",OS:f}),a.appendChild(d,f),nw(d,"visibility",""),f=[],Y5(this)&&(f=f.concat(["edit"])),Yoh(this)&&(f=f.concat(["delete"])),X5(this)&&(this.C.Oc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new rkh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Wa(d));this.Na=a.cb("docos-replyview-body",b);this.Of=a.cb("docos-streamreplyview-text",b)||
this.Na;this.Ea=a.cb("docos-collapsible-replyview",b);this.wb=a.cb("docos-replyview-timestamp",b);X5(this)&&Ljh(this.ld().C)&&(this.Ba=a.cb("docos-replyview-quote",b),this.jb=a.cb("docos-replyview-quote-expand",b),this.Xa=a.cb("docos-replyview-quote-collapse",b));(this.Hb=a.cb("docos-show-less",b))&&cph(this);this.eg=a.cb("docos-show-more",b);this.Sd=a.Vf("docos-replyview-static",b);Y5(this)&&this.D&&dph(this);(Y5(this)||Yoh(this))&&(this.fb=a.cb("docos-replyview-control",b))&&P(this.fb,!this.ld().isResolved());
this.Ja=qV(a,"IMG","docos-replyview-avatar",b);if(f=a.cb("docos-user-presence",b))d=this.C,c=(h=d.Id)&&c.getId()?h(c.getId()):(d=d.uD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Va=a.cb("docos-replyview-origin",b);eph(this);this.C.kH()&&(!this.va&&X5(this)?this.Qa=this.H.Ad:this.Qa=a.cb("docos-new-tag",b),a=N4(this.F),c=this.O,a=a.H.has(c)?a.H.get(c):new Set,c=W5(this))&&(a=a.has(c.getId()),this.Qa&&P(this.Qa,a));e&&(this.Sa=e,fph(this,Ne(e)),gph(this),hph(this));iph(this)};
function iph(a){if(qkh(a.C)){var b={AUTHOR_NAME:W5(a).nx().getName(),CREATION_TIME:aph(a)};if(a.Na.textContent)if($oh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Na.textContent;b.ACTION_TEXT=$oh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Na.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=$oh(a);c=(new VA(c)).format(b);zx(a.getElement(),c)}}
function jph(a){var b=a.ld();if(b)if(b.isResolved()){if(a.H.HCa(!1),b=a.ld())b.Vj(),kph(a,!1,Iih(a.H))}else a.aw()}function lph(a){a.D||(a.D=new Cnh(a.F,a.oa(),a.H),a.qa(a.D),a.Ga(a.D),a.D.va="Edit your comment...",a.D.Bb=!1,K4(K4(K4(a,a.D,"p",a.Vhc),a.D,"c",a.vIa),a.D,"s",a.HTb),a.getElement()&&dph(a))}
function dph(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.va?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):X5(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard changes",f=$oh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard changes");var h=Slh(new u5);d=ny(Plh,{Ge:c,KLa:d,gpa:e,wK:f,wj:a.C.wj(),gD:a.C.Ea,lH:h,mH:nkh(a.C),Fv:$4(a.C)});c=a.getElement();e=b.cb("docos-edit-pane-placeholder",c);b.ZC(d,e);a.D.Wa(d);a.D.setVisible(!1);d=a.H.getElement();a.D.Ba=d;a.Ad=
b.cb("docos-edit-pane-action-text",c)}m.wac=function(a){a&&a.stopPropagation();jph(this)};m.aw=function(){this.dispatchEvent("br");this.H.HCa(!1);var a=this.ld();a&&(a.Vj()?mph(this):kph(this,!0,Iih(this.H)));this.dispatchEvent("ar")};
m.Ia=function(){I4.prototype.Ia.call(this);K4(this,this.getElement(),["click","keypress","keyup"],this.ITb);this.Ba&&(K4(K4(this,this.Xa,"click",this.v5a),this.jb,"click",this.v5a),nph(this));this.J&&K4(this,this.J,"action",this.wac);this.ma&&this.V&&K4(K4(K4(this,this.ma,"action",this.y8b),this.V,"action",this.vac),this.C,"r",this.JTb);this.L&&K4(K4(K4(this,this.L,"d",this.q9b),this.L,"e",this.KTb),this.L,"ra",this.nac);var a=W5(this).nx();oph(this,a);this.Ra&&pph(this,a);qph(this,a);this.D&&(a=
this.H.getElement(),this.D.Ba=a);this.collapse();qkh(this.C)&&Dp(this.getElement(),!0)};m.JTb=function(){bph(this)};
function bph(a){var b=a.ld();if(b){var c=W5(a);if(c){var d=c.Vj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.UE())return;d=a.C.D;d=c.Vj()&&"full"==d.C&&llh(N4(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Vj()&&(Xjh(e,c)||"full"==e.C)&&llh(N4(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&J4(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&J4(a.F).C.C(a.V.getElement(),f);a.ma.Pa(d);a.V.Pa(b)}else Akh(b)?
(c=!0,a.J.Pa(!1),P(a.J.getElement(),!1)):(c=Uoh(a),a.J.Pa(c),d=b.isResolved()?"Reopen":"Resolve",b=b.isResolved()?"Mark as open":N4(a.F).va?"Mark as resolved":"Mark as resolved and hide discussion",a.C.Zga()||Cp(a.J.getElement(),d),a.J&&a.J.getElement()&&J4(a.F).C.C(a.J.La(),b));!a.Cc||null!==a.qd&&a.qd==c||(P(a.Cc,c),a.qd=c)}}}}function rph(a){var b=D4(C4(B4(a.H.getId()),a.H.fb)),c=P4(a.F);c.yf("docos-before-highlight-doco").qb(b);V5(N4(a.F),a.H.getId());c.yf("docos-highlight-doco").qb(b)}
m.KTb=function(){rph(this);sph(this)};m.q9b=function(){rph(this);X5(this)?this.H.i4a():tph(this)};m.nac=function(a){rph(this);this.dispatchEvent(new Tlh("ra",this.O));a.stopPropagation()};function oph(a,b){var c=b.D,d=M4(a.F);a.Ja&&Poh(b,W5(a).getOrigin())&&(c=ylh(d),Dx(a.Ja,"docos-avatar-unverified"),a.C.C.C(a.Ja,"Author from imported document"));Fih(d,a.Ja,c,H4(b))}function pph(a,b){(b=b.getName())?(b=rL(a.ob,b),Ve(a.Ra,b)):(b=rL(a.ob,""),Ve(a.Ra,b))}
function qph(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ra&&a.C.C.C(a.Ra,c),a.Ja&&a.C.C.C(a.Ja,c))}function uph(a,b){a.J&&a.oa().Vi(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Vi(a.ma.getElement(),b),a.oa().Vi(a.V.getElement(),b));a.L&&a.L.Mh(b);a.R&&a.oa().Vi(a.R.getElement(),b)}function vph(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.yl()&&this.Bb&&nph(this);var a=this.D&&Y5(this)&&T5(this.D),b=Voh(this),c=Ne(b),d=!this.Sa||Ne(this.Sa)!=c;d&&(this.Sa=b,Ve(this.Na,b),hph(this));gph(this);fph(this,c);X5(this)||this.dispatchEvent(new R5(this.getId()));Y5(this)&&this.fb&&!a&&P(this.fb,!this.ld().isResolved());b=W5(this).nx();oph(this,b);this.Ra&&pph(this,b);qph(this,b);eph(this);if(this.va&&!a){switch(this.bb){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.yl()?this.expand():this.collapse()}cph(this)}this.uWa();
d&&(this.D&&this.D.tb()&&this.D.reset(!0),this.vIa());bph(this);this.R&&this.R.update();this.L&&this.L.update();iph(this)};m.iB=function(){if(this.Oc){var a=wph(this,this.Oc);a.Zo()!=this.Sa.Zo()&&(this.Sa=a,Ve(this.Na,this.Sa),hph(this))}};function Voh(a){var b=W5(a),c=b.eia();if(!c){c=b.getContent();var d=b.Bs();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Vj()&&(c=koh(b,a.C));c=rL(a.ob,c)}a.Oc=c;return wph(a,c)}
function wph(a,b){var c=N4(a.F),d=c.O;if(!d)return b;a=(c=zoh(c,a.C))&&c.getKey()==W5(a).getId()?c.getValue():void 0;c=Eoh();var e=mp("DIV");e.appendChild(op(rL(c,kf(d))));d=e.innerHTML;e.replaceChild(op(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],t=0;t<b.length;t++){var w=b[t],x=0<l;">"==w?(k=!1,x?q.push(new jn(f,t+1)):h+=b.slice(f,t+1),f=t+1):"<"==w?(k=!0,x&&q.push(new jn(f,t)),f=t):k||((w=Kd(w,d[l]))&&0==l&&(n=t),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new jn(f,t+1)),h=Coh(q,b,h,x),f=t+1,l=0,e++):(f=t,l=1):(q=(x?n:t)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(t=n)),q=[]))}h=Coh(q,b,h);h+=b.slice(f,b.length);return rL(c,h)}m.uWa=function(a){if(this.wb){var b=aph(this);b&&(a&&(this.wb.textContent=b),a=W5(this),X5(this)||this.va||a.Nu().equals(a.AH())||(this.wb.textContent=b))}};function aph(a){var b=a.nf,c=W5(a),d=c.Nu();return d?a.va||X5(a)||!(a=c.AH())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return Kw(this.getElement())};m.HTb=function(a){this.dispatchEvent(new R5(this.O));a.stopPropagation()};function tph(a){var b=a.getElement();b&&(a.C.rb?(b=a.C.ob,b(function(){return a.Xe()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):Loh(a.F,a.oa()).prompt(b,a.Xe,"delete-reply",a,a.H.getElement(),!a.va))}
m.ITb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!X5(this)&&Cx(c,"docos-replyview-delete")&&b?(tph(this),a.stopPropagation(),a.preventDefault()):Cx(c,"docos-replyview-edit")&&b?(sph(this),a.stopPropagation(),a.preventDefault()):Cx(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new R5(this.O)),this.Hb.focus()):Cx(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new R5(this.O)),this.eg.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Ap(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function xph(a,b){var c=a.ld();if(!c||llh(N4(a.F),c)){var d=W5(a);d&&d.UE()&&(c=a.C.H[b])&&(a=q5(N4(a.F),a.O))&&(d=d.rA&&d.rA()&&!d.isResolved()?l5(d):void 0,b=(new F4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function mph(a){var b=a.ld();b&&b.Vj()&&xph(a,"before-suggestion-accepted")}m.y8b=function(){var a=Date.now();mph(this);this.rb&&this.rb.jp("dsabb",Date.now()-a)};function kph(a,b,c){var d=a.ld(),e=a.H;e.D&&T5(e.D)&&e.D.setValue("");d&&!d.Vj()&&d.isResolved()!=b&&P4(a.F).yf("docos-resolve-doco").qb(new Cih(a.O,b,c||null,a.va?null:105))}m.vac=function(){var a=Date.now();xph(this,"before-suggestion-rejected");this.rb&&this.rb.jp("dsrbb",Date.now()-a)};
m.expand=function(){W5(this).Vj()||(Fx(this.Ea,"docos-collapsed-replyview"),this.bb=150>=this.Ea.offsetHeight?2:1,cph(this))};m.collapse=function(){!W5(this).Vj()&&this.va&&(Fx(this.Ea,"docos-collapsed-replyview"),150>=this.Ea.offsetHeight?this.bb=2:(this.bb=0,Dx(this.Ea,"docos-collapsed-replyview")),cph(this))};function cph(a){if(!W5(a).Vj()){var b=1==a.bb;b!=a.$d&&(a.Hb.style.display=b?"block":"none",a.$d=b)}}function X5(a){return"root"==a.getId()}
function Yoh(a){var b=W5(a);return b?Zjh(a.C.D,b)&&!a.C.ma:!1}function Y5(a){var b=W5(a);return b?Yjh(a.C.D,b):!1}function Uoh(a){var b=a.ld();return b?$jh(a.C.D,b):!1}m.GTb=function(){if(this.isDisposed())return!1;P4(this.F).yf("docos-delete-reply").qb({dk:this.O,VBa:this.getId(),zf:this.va?null:105});return!0};function sph(a){Y5(a)&&(lph(a),yph(a,!1),a.Ea&&a.expand(),a.D.setVisible(!0),a.D.wb=!0,a.D.ready(W5(a).by()))}
m.vIa=function(){Y5(this)&&(yph(this,!0),this.Ea&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.wb=!1))};m.Vhc=function(){if(Y5(this)){lph(this);var a=P4(this.F),b=this.D.getValue(),c=this.va?null:105;Ld(b)||(X5(this)?a.yf("docos-edit-doco").qb({id:this.O,text:b,hra:this.D,zf:c}):(b={dk:this.O,VBa:this.getId(),text:b,hra:this.D,zf:c},a.yf("docos-edit-reply").qb(b)))}};function yph(a,b){for(var c=0;c<a.Sd.length;++c)P(a.Sd[c],b)}
m.v5a=function(){var a=Cx(this.Ba,"docos-replyview-quote-collapsed");P(this.jb,!a);P(this.Xa,a);this.Bb=!a;a?Jx(this.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):Jx(this.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function nph(a){!a.Ba||0>=Hw(a.Ba).height||(Jx(a.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<Hw(a.Ba).height?(P(a.jb,!0),P(a.Xa,!1),Jx(a.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.jb,!1),P(a.Xa,!1)),a.Bb=!0)}m.zd=function(){I4.prototype.zd.call(this);O4(M4(this.F),this.Ja)};function eph(a){var b=Zoh(a);b?(b=rL(a.ob,b),Ve(a.Va,b),P(a.Va,!0)):P(a.Va,!1)}
function Zoh(a){var b=W5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=hY(a.hh)&&Mj(hY(a.hh),33)&&b.cxa()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function $oh(a){var b=a.Tg;var c=W5(a),d=a.ld();c&&d?(a=c.dia(),0==a&&L4(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.My(),c=(d=Akh(d))&&d.getId()!=c.getId(),a=G4(a),b=xih(a,b.C,!0),b=c?(new VA("Reassigned to {user}")).format({user:b}):(new VA("Assigned to {user}")).format({user:b})):b=""):b="";return b}function fph(a,b){b=-1==ze(b,!0);if(null===a.Rc||b!=a.Rc)V0e(a.Of,b),a.Rc=b}
function gph(a){var b=$oh(a);a.Pb&&Cp(a.Pb,b);a.Ad&&Cp(a.Ad,b)}function hph(a){if(a.C.Hb)for(var b=cp("A",a.Na),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Sf(d,Oo,a.W8b)}}m.W8b=function(a){Q0e(this.C.Hb,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Xoh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Woh=/[\n-\x0B]/g;function zph(a,b){I4.call(this,a,b);this.D=!1;this.F=null}r(zph,I4);zph.prototype.Ca=function(){var a=this.oa();this.pb(ny(Nlh,{},void 0,a));this.F=a.cb("docos-showrepliesbutton-collapsed",this.getElement())};zph.prototype.setVisible=function(a){a!=this.D&&this.tb()&&(P(this.getElement(),a),this.D=a)};zph.prototype.isVisible=g("D");function Z5(a,b,c,d,e){S5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new Soh(a,b,this.bl(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Oc=u(this.yTb,this);this.Rc=$kh(a);this.Ja="docos-docoview-input-pane";this.Pb="";this.Ad=this.Bb=this.qd=null;this.rb=!1;this.J=null;this.bb=new u5;qkh(this.C)&&(a=new AA(this),this.qa(a),a.yj("up",38),a.yj("down",40),this.getHandler().listen(a,"shortcut",this.Hwb))}r(Z5,S5);
function Aph(a){if(!a.D){a.D=new Cnh(a.getContext(),a.oa(),a);a.qa(a.D);var b=Bph(a);a.D.va=b;a.D.Ee("Reply");a.bDa();a.getElement()&&Cph(a)}}m=Z5.prototype;m.Hwb=function(a){switch(a.identifier){case "down":a=Dph(this);var b=Eph(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=Dph(this),b=Eph(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function Dph(a){var b=m5(a.ld(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ia(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function Eph(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Pp(e);if(d==f||e.contains(d,f))return c}return-1}
function Cph(a){var b=a.oa(),c=Slh(a.bb);c=ny(Plh,{Ge:a.Ja,KLa:"",gpa:a.Pb,wK:"",wj:a.C.wj(),gD:a.C.Ea,lH:c,mH:nkh(a.C),Fv:$4(a.C)});var d=a.getElement(),e=b.cb("docos-input-pane-placeholder",d);b.ZC(c,e);a.D.Wa(c);a.D.Ba=d}m.bDa=function(){this.D&&K4(K4(K4(K4(K4(K4(this,this.D,"p",this.DTb),this.D,"c",this.BTb),this.D,"b",this.ATb),this.D,"e",this.CTb),this.D,"s",this.ZZ),this.D,"f",this.DSb)};
m.Ca=function(){S5.prototype.Ca.call(this);var a=this.getElement(),b=this.oa();this.D&&Cph(this);ux(a,"listitem");this.Bb=b.cb("docos-docoview-replycontainer",a);this.qd=b.cb("docos-docoview-rootreply",a);this.C.kH()&&(this.Ad=b.cb("docos-root-new-tag",a));this.F.render(this.qd);Fph(this)};m.Ia=function(){S5.prototype.Ia.call(this);K4(this,this.getElement(),["keydown","keypress","keyup"],this.zTb);if(this.D){var a=this.getElement();this.D.Ba=a}Dp(this.getElement(),!0)};m.ub=g("Bb");
m.Ic=function(a){S5.prototype.Ic.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&tkh(b.L,a);b.R&&b.R.LWa(a)}};m.JWa=function(a){if(!Cx(a.target,"docos-noclick")){var b=P4(this.getContext()),c=C4(B4(this.getId()),this.fb);b.yf("docos-before-highlight-doco").qb(D4(c));V5(N4(this.R),this.getId());b.yf("docos-highlight-doco").qb(D4(kih(c)));this.ma=!0;this.L_a(a)}};m.L_a=ba();
m.zTb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&bab(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&akh(this.C.D)&&this.ma&&(Aph(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.i4a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.ld().Vj())this.Oc("suggestion");else if(b){var c=function(){return a.Oc("discussion")};this.C.rb?(0,this.C.ob)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):Loh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function Fph(a){for(var b=m5(a.ld()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new Soh(a.getContext(),a.getId(),a.bl(),a.oa(),a,e);a.Kf(f,Yw(a,c)+1,!0);c=a.H[e]=f}}}m.DTb=function(){if(this.D){var a=this.D.getValue(),b=snh(this.D.H);b=b?qjh(b):void 0;if(!Ld(a)){var c=q5(N4(this.getContext()),this.getId());this.dispatchEvent(new Unh("sr",this.getId(),l5(this.ld()),c,a,void 0,b,this.bl()))}}};
m.BTb=function(){var a=i5(h5(g5(new f5,43012),this.ld().getId()),l5(this.ld()));this.bl()||(a.C=105);p5(this.Rc,j5(a))};m.ATb=function(){this.yl()&&(this.ma=!0)};m.CTb=function(){this.yl()&&(this.ma=!0)};m.c6a=function(){var a=N4(this.getContext()),b=this.ld().getId();a=a.H.has(b)?a.H.get(b):new Set;var c=this.F;b=a.has(b);c.Qa&&P(c.Qa,b);for(var d in this.H)b=this.H[d],c=a.has(d),b.Qa&&P(b.Qa,c)};
m.DSb=function(){if(Slh(this.bb)||Rlh(this.bb)&&null==Iih(this)){var a=i5(h5(g5(new f5,43095),this.ld().getId()),l5(this.ld()));this.bl()||(a.C=105);p5(this.Rc,j5(a))}};m.focus=function(){Aph(this);var a=this.yl();a&&Kw(this.getElement())&&akh(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=Pp(b);(Af&&!a||!b.contains(this.getElement(),a))&&aq(function(){this.tb()&&!b.contains(this.getElement(),Pp(b))&&this.getElement().focus()},0,this)}};
function Gph(a){var b=a.ld();if(b){var c=null,d;b:{for(d=Yw(a,a.F);d<a.tc();d++){var e=a.Bc(d);if((e=e==a.J?null:e)&&2==(Toh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.tc();d++)if(e=a.Bc(d),e=e==a.J?null:e){if(2!=(Toh(e)||b).getOrigin())break;P(e.Va,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Va,!0)}}
m.update=function(){var a=this.ld();this.F.update();this.Ee(a.nx(),L4(a)||void 0);Fph(this);for(var b in this.H){var c=this.H[b];a5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.rb&&(this.rb=a.isResolved(),Aph(this),this.rb?(this.D.va="Adding a comment will re-open this discussion...",this.D.Ee("Adding a comment will re-open this discussion")):(b=Bph(this),this.D.va=b,this.D.Ee("Reply")),!a.isResolved()&&T5(this.D)||this.D.reset(!0));Vlh(this);!this.yl()&&
this.D&&this.D.blur();Gph(this);a=this.Sa;b=this.getElement();a.C&&b&&a.F&&(Iw(b).contains(new Vm(a.H,a.J))||Ilh(a,!1))};m.yTb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");P4(this.getContext()).yf("docos-delete-doco").qb({yn:l5(this.ld()),dk:this.getId(),$p:q5(N4(this.getContext()),this.getId()),dU:a,zf:0==this.bl()?105:null});return!0};function Bph(a){return Rlh(a.bb)?"Reply or add others with @":"Reply..."}
function Hph(a){var b=P4(a.getContext()),c=a.bl()?null:105;b.yf("docos-resolve-doco").qb(new Cih(a.getId(),!1,null,c))}function Iih(a){return a.D&&T5(a.D)?a.D.getValue():null}function Iph(a){var b=a.getContext(),c=a.ld();c&&r5($kh(b),e5(d5(c5(new b5,43045),c)));a=a.getId();P4(b).yf("docos-speak-doco").qb(a)}m.HCa=ba();m.Ka=function(){S5.prototype.Ka.call(this);this.J&&delete this.J;delete this.Bb;delete this.H;delete this.D};function Jph(a,b,c,d,e){Z5.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ea=new Dih(a,d,b,this);this.Na=this.ob=this.Ra=null;this.Va=new AA(this);this.qa(this.Va);b=this.Va;b.yj("backToDocument",85);b.yj("resolve",69);b.yj("blur",27);b.yj("next",74);b.yj("next",zt(["N","C"]));b.yj("prev",75);b.yj("prev",zt(["P","C"]));b.yj("speakComment",zt(["A","C"]));b.yj("reply",82);this.getHandler().listen(this.Va,"shortcut",this.vTb);this.getHandler().listen(this,"rd",this.wTb);this.Xa=!1;this.Ja+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Hb=null;z(y(),"docs-edp")&&(this.Hb=new ynh(a,d,"unfocused-presenceindicator"));this.$d="legacy"!=this.C.F;this.Ba=null}r(Jph,Z5);m=Jph.prototype;m.setVisible=function(a){!this.isVisible()&&a&&N4(this.R).O&&this.iB();Z5.prototype.setVisible.call(this,a)};m.iB=function(){this.F.iB();for(var a in this.H)this.H[a].iB()};m.Ic=function(a){Z5.prototype.Ic.call(this,a);this.Ea&&this.Ea.Ic(a)};m.bl=ea(!0);m.gT=function(){return this.ld()?l5(this.ld()):null};
m.Ca=function(){Z5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Ra=a.cb("docos-replyview-control",b);this.ob=a.cb("docos-anchoreddocoview-internal",b);this.Na=a.cb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.ld(),d=!!c&&$jh(J4(this.getContext()).D,c);Hx(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=L4(c))a=a.cb("docos-anchoreddocoview-assigneecontainer",b),this.Ea.render(a),Kph(this,c);this.D&&(a=this.getElement(),
this.D.Ba=a);this.Hb&&(a=this.oa().cb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Hb.render(a))};m.Ia=function(){Z5.prototype.Ia.call(this);var a=this.ld();a&&L4(a)&&this.Kf(this.Ea,Yw(this,this.F));Vlh(this);2<=Wd(this.ld().D)&&(a=Lph(this))&&Mph(this,a);this.M0(!0);Gph(this);Nph(this);K4(K4(this,this,"show",this.T_a),this,"hide",this.S_a)};
m.zd=function(){var a=this.ld();if(a)if(this.D&&T5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().Gc(this,"show",this.T_a);this.getHandler().Gc(this,"hide",this.S_a);Z5.prototype.zd.call(this)};m.Mh=function(a){this.oa().Vi(this.getElement(),a)};function Oph(a,b){uph(a.F,b);for(var c in a.H)uph(a.H[c],b)}m.U9b=function(){var a=new gih(this.getId(),this.fb),b=P4(this.getContext());b.yf("docos-before-highlight-doco").qb(a);V5(N4(this.R),this.getId());b.yf("docos-highlight-doco").qb(a)};
m.wTb=function(){this.O=null;if(Xlh(this)){var a=this.Na.scrollHeight>this.Na.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new UJ(b),K4(this,this.Ba,"mousewheel",this.eOb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?I9a():0;b=this.$d?282:240;Fw(this.getElement(),b+a);Fw(this.Na,b+a)}};m.T_a=function(a){a.target instanceof sz&&(Dx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.S_a=function(a){a.target instanceof sz&&(Fx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.HCa=function(a){this.Ra&&P(this.Ra,a)};m.bba=ea(!0);m.update=function(){Z5.prototype.update.call(this);var a=this.yl();this.yl()?this.L||this.C.wb||(this.L=new JB(this.getElement(),this.oa()),this.qa(this.L),KB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Xa&&Pph(this);this.Xa=a;Nph(this);if(a=L4(this.ld()))this.Ea.update(),Kph(this,a);this.V&&this.GBa()};
function Nph(a){var b=a.ld();null!=b.R&&(Aph(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.M0(!0);Gph(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=Lph(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.ub().style.maxHeight="",Mph(this,a),this.M0(!0),Gph(this)}};m.bDa=function(){Z5.prototype.bDa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.M0,this,!0)),this.getHandler().listen(this.D,"e",this.XQa),this.getHandler().listen(this.D,"f",this.U9b))};
function Lph(a){var b=J4(a.getContext()).jr;a=Xlh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function Mph(a,b){var c=a.getElement(),d=Wd(a.ld().D);if(!(2>d||c.offsetHeight<b)){var e=Yw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new zph(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Kf(a.J,f+e);var h=a.J;h.F&&Cp(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Bc(l+e).setVisible(!1)}}}
m.GBa=function(){var a=this.Xc();this.V&&this.expand();this.collapse();var b=this.Xc();bn(a,b)||this.dispatchEvent(new R5(this.getId()))};m.M0=function(a){var b=Xlh(this);b&&(Aph(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.ub().style.maxHeight=b+"px":this.ub().style.maxHeight="",a&&(this.ob.scrollTop=this.ob.scrollHeight))};
m.vTb=function(a){var b=P4(this.getContext());switch(a.identifier){case "backToDocument":b.yf("docos-back-to-document").qb({dk:this.getId()});break;case "resolve":jph(this.F);break;case "blur":this.XQa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":Iph(this);break;case "reply":this.D.focus()}};m.XQa=function(){var a=P4(this.getContext());a.yf("docos-before-highlight-doco").qb(A4());V5(N4(this.R),null);a.yf("docos-highlight-doco").qb(A4())};
m.focus=function(){Z5.prototype.focus.call(this);this.Xa=this.yl();Pph(this)};function Pph(a){Aph(a);T5(a.D)||a.Xa||a.D.reset(!0);a.yl()&&(a.expand(),a.Sha());a.M0(!0);a.dispatchEvent(new R5(a.getId()))}m.BU=function(a){Z5.prototype.BU.call(this,a);this.M0(!1)};m.Ka=function(){Z5.prototype.Ka.call(this);delete this.Va;delete this.Ra};function Kph(a,b){var c=a.va;c&&(a=vih(b,a.C),Gx(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),Dx(c,a))}m.eOb=function(a){this.yl()&&a.stopPropagation()};function Qph(a,b,c,d,e){this.Mt=a;this.ef=void 0===b?null:b;this.Lbb=void 0===c?null:c;this.Sja=void 0===d?null:d;this.pkc=void 0===e?!1:e}m=Qph.prototype;m.getNewDocoType=g("Mt");m.getText=g("ef");m.getAssigneeEmail=g("Lbb");m.getOriginatingDocoType=g("Sja");m.getWasSmartTodo=g("pkc");function Rph(a,b,c,d){return Qph.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}r(Rph,Qph);function $5(a,b,c,d,e,f,h){S5.call(this,a,b,c,e,f);this.hs=d;this.Ea=this.Va=null;this.D=new Cnh(a,this.oa(),this,h);this.Ga(this.D);this.Ic(b)}r($5,S5);m=$5.prototype;m.Ca=function(){this.Ea=new AA(this.getElement());this.qa(this.Ea);var a=this.Ea;a.yj("backToDocument",85);a.yj("blur",27);a.yj("next",74);a.yj("next",zt(["N","C"]));a.yj("prev",75);a.yj("prev",zt(["P","C"]));a.yj("reply",82)};
m.Ia=function(){S5.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.j0a).listen(this.D,"c",this.oAa).listen(this.D,"s",this.ZZ).listen(this.D,"b",this.sTb).listen(this.D,"e",this.fva).listen(this.D,"f",this.uAa);this.getHandler().listen(this.Ea,"shortcut",this.tTb);var a=this.getElement();this.D.Ba=a;this.Va=new JB(this.getElement(),this.oa());this.qa(this.Va);KB(this.Va)};m.Xlb=function(a,b,c,d,e){P4(this.getContext()).yf("docos-convert-doco").qb({dk:a,yn:b,$p:c,o_a:d,dU:e})};
m.j0a=function(){var a=this.Dya()?this.Dya().getEmail():void 0,b=this.ld().getNewDocoType()?this.ld().getNewDocoType():void 0,c=this.sda();var d=this.ld().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new Rph(c,a,b,1==d);c=q5(N4(this.getContext()),this.getId());aq(u(this.Xlb,this,this.getId(),this.gT(),c,a,b))};m.Wlb=function(a,b,c,d){P4(this.getContext()).yf("docos-delete-doco").qb({dk:a,yn:b,$p:c,dU:d})};
m.oAa=function(){var a=q5(N4(this.getContext()),this.getId()),b=this.ld().getNewDocoType()?this.ld().getNewDocoType():void 0;aq(u(this.Wlb,this,this.getId(),this.gT(),a,b))};m.gT=g("hs");m.Eya=ea(!0);m.JWa=function(a){Sph(this);a.stopPropagation()};function Sph(a){var b=P4(a.getContext()),c=kih(C4(B4(a.getId()),a.fb));b.yf("docos-before-highlight-doco").qb(D4(c));V5(N4(a.R),a.getId());b.yf("docos-highlight-doco").qb(D4(c))}
m.tTb=function(a){var b=P4(this.getContext());switch(a.identifier){case "backToDocument":b.yf("docos-back-to-document").qb({dk:this.getId()});break;case "blur":b.yf("docos-before-highlight-doco").qb(A4());V5(N4(this.R),null);b.yf("docos-highlight-doco").qb(A4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){Vlh(this);this.Sha()};m.sTb=function(a){this.ZZ(a)};
m.fva=function(){var a=P4(this.getContext());a.yf("docos-before-highlight-doco").qb(A4());V5(N4(this.R),null);a.yf("docos-highlight-doco").qb(A4())};m.uAa=function(){this.yl()||Sph(this)};m.focus=function(){this.yl()&&(Af?aq(this.x1a,0,this):this.x1a())};m.ZZ=function(a){var b=Xlh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}S5.prototype.ZZ.call(this,a)};
m.x1a=function(){this.D.ready();var a=this.oa(),b=Pp(a);(Af&&!b||!a.contains(this.getElement(),b))&&aq(function(){this.tb()&&this.getElement().focus()},0,this)};function Tph(a,b,c,d,e,f){$5.call(this,a,b,c,d,e,f);this.H=new u5;Rlh(this.H)?this.D.va="Comment or add others with @":this.D.va="Reply...";this.L=!1;this.F=this.J=null;this.Ba=$kh(a)}r(Tph,$5);m=Tph.prototype;
m.Ca=function(){var a=this.oa(),b=this.C.Xg(),c="Unknown"===b.getName(),d=Slh(this.H);c=ny(Qlh,{author:b.getName(),eh:b.C,vF:this.C.V&&!c?b.getId():null,lx:!0,bl:!0,wj:this.C.wj(),gD:this.C.Ea,lH:d,mH:nkh(this.C),Fv:$4(this.C)},void 0,a);this.pb(c);this.D.Wa(a.cb("docos-docoview-input-pane",c));oy()&&z(y(),"docs-ehspc")&&this.D.focus();this.J=a.cb("docos-author",c);this.F=qV(a,"IMG","docos-replyview-avatar",c);d=a.cb("docos-replyview-origin",c);P(d,!1);if(a=a.cb("docos-user-presence",c))if(c=this.C.Id)a.style.backgroundColor=
c(b.getId());$5.prototype.Ca.call(this)};m.Ia=function(){$5.prototype.Ia.call(this);Vlh(this);var a=this.ld().by();Ld(a)||this.D.ready(a,!0,!0);a=this.C.Xg();zlh(M4(this.getContext()),this.F,a.D,H4(a))};m.Dya=function(){return snh(this.D.H)};m.sda=function(){return this.D.getValue()};m.fva=function(a){T5(this.D)?this.ZZ(a):$5.prototype.fva.call(this,a)};
m.update=function(){$5.prototype.update.call(this);var a=this.yl();a!=this.L&&(this.yl()||T5(this.D)?this.dispatchEvent(new R5(this.getId())):this.oAa());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.L=a};m.bl=ea(!0);m.uAa=function(){$5.prototype.uAa.call(this);if(Slh(this.H)||Rlh(this.H)&&null==(this.D&&T5(this.D)?this.D.getValue():null)){var a=i5(h5(g5(new f5,43094),this.ld().getId()),l5(this.ld()));p5(this.Ba,j5(a))}};
m.zd=function(){$5.prototype.zd.call(this);P4(this.getContext()).yf("docos-edit-draft").qb({dk:this.getId(),text:this.sda(),OHa:this.F})};m.Ka=function(){$5.prototype.Ka.call(this);delete this.J;delete this.F};function Uph(a,b,c,d,e,f){Tph.call(this,a,b,c,d,e,f);this.ld()}r(Uph,Tph);function Vph(a,b,c,d,e,f){Tph.call(this,a,b,c,d,e,f);this.ld()}r(Vph,Tph);Vph.prototype.V=function(a,b,c,d,e,f){this.dispatchEvent(new Unh("sd",a,b,c,d,e,f,this.bl()))};Vph.prototype.j0a=function(){var a=q5(N4(this.getContext()),this.getId()),b=snh(this.D.H);if(null!=b){Mj(this.C.hh,38);var c=qjh(b)}aq(u(this.V,this,this.getId(),this.gT(),a,this.sda(),"instant-doco"==this.ld().Mt,c))};Vph.prototype.ma=function(a,b,c,d){P4(a).yf("docos-cancel-insert-discussion").qb({dk:b,yn:c,$p:d})};
Vph.prototype.oAa=function(){var a=q5(N4(this.getContext()),this.getId());aq(u(this.ma,this,this.getContext(),this.getId(),this.gT(),a))};function Wph(a,b,c,d,e,f){b=Qph.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.vd=a||null;return b}r(Wph,Qph);Wph.prototype.getPosition=g("vd");function Xph(a){this.Sja=a}Xph.prototype.getOriginatingDocoType=g("Sja");function Yph(a,b,c){this.Sja=a;this.QS=b;this.lRb=c;return this}r(Yph,Xph);Yph.prototype.isTodo=g("QS");Yph.prototype.isWrongAssignee=g("lRb");function Zph(a,b,c,d,e,f){$5.call(this,a,b,c,d,e,f,!0);this.Na=this.Ja=this.H=this.L=this.ma=this.J=this.F=this.Ra=this.V=this.Ba=null;this.Xa=$kh(a)}r(Zph,$5);m=Zph.prototype;
m.Ca=function(){var a=this.C,b=this.oa();a=ny(Qlh,{bl:!0,uZ:!0,gdb:!!Mj(a.hh,41),wj:a.wj(),Eo:"legacy"!=a.F,Fv:$4(a)},void 0,b);this.pb(a);this.D.Bb=!1;this.D.Wa(b.cb("docos-docoview-input-pane",a));this.Ba=b.cb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=Vw(this,"body");this.F=b.cb("docos-smarttodoview-feedback",a);this.Ja=b.cb("docos-smarttodoview-showfeedbackdialog-button",a);this.Na=b.cb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");
c.push("disable");c.push("help");this.H=new rkh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Wa(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=$ph(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=$ph(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Ra=aqh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=aqh(this,"docos-smarttodoview-feedback-submit"))&&
this.KEa());b=b.Fa("docos-smarttodoview-headertext",a);b.id=Vw(this,"headertext");wx(a,"labelledby",b.id);wx(a,"describedby",this.V.id);$5.prototype.Ca.call(this)};function $ph(a,b,c){var d=a.oa(),e=a.getElement();b=d.cb(b,e);c=d.cb(c,e);e=null;b&&(e=new uA(!1,d),c&&sA(e,c),e.Wa(b),a.qa(e));return e}function aqh(a,b){var c=a.oa();b=c.cb(b,a.getElement());var d=null;b&&(d=new cA(null,c),d.Wa(b),zx(b,d.Pl()),a.qa(d));return d}
m.Ia=function(){$5.prototype.Ia.call(this);K4(K4(K4(this,this.H,"e",this.MTb),this.H,"i",this.twb),this.H,"h",this.jAb);this.F&&(this.Ja&&this.getHandler().Sf(this.Ja,Oo,this.QKb),this.Na&&this.getHandler().Sf(this.Na,Oo,this.pOb),this.J&&K4(this,this.J,"change",this.KEa),this.L&&K4(this,this.L,"change",this.KEa),this.Ra&&K4(this,this.Ra,"action",this.Ayb),this.ma&&K4(this,this.ma,"action",this.LTb));this.D.ready(void 0,void 0,!0);this.update()};
m.Sha=function(){$5.prototype.Sha.call(this);this.va&&Dx(this.va,"docos-smarttodoview-arrow-inner")};m.update=function(){$5.prototype.update.call(this);var a=L4(this.ld());a=G4(a);a=xih(a,this.C,!0);a=(new VA("Assign to {user}?")).format({user:a});Cp(this.Ba,a);P(this.Ba,!0);a=rL(new pL(new qL),this.ld().getContent());Ve(this.V,a);this.resize()};m.bl=ea(!0);
m.MTb=function(){var a=G4(this.ld().My()).getEmail();a=new Wph(void 0,"client-integrated-draft",this.ld().by(),a,"smart-todo",!0);var b=q5(N4(this.getContext()),this.getId());P4(this.getContext()).yf("docos-convert-doco").qb({dk:this.getId(),$p:b,o_a:a,dU:"smart-todo"})};m.twb=function(){P4(this.getContext()).yf("docos-disable-smart-todo-feature").qb()};
m.jAb=function(){Zw("https://support.google.com/docs/?p=action_items&hl=en-GB",{target:"_blank",noreferrer:!0});p5(this.Xa,j5(i5(h5(g5(new f5,43029),this.ld().getId()),l5(this.ld()))))};m.QKb=function(){this.F&&P(this.F,!0);p5(this.Xa,j5(i5(h5(g5(new f5,43025),this.ld().getId()),l5(this.ld()))))};m.pOb=function(){P4(this.getContext()).yf("docos-write-feedback").qb({source:"smart-todo"})};m.Ayb=function(){this.F&&P(this.F,!1);this.focus()};
m.KEa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Pa(a||b)};m.LTb=function(){P4(this.getContext()).yf("docos-reject-doco-with-feedback").qb({dk:this.getId(),yn:this.gT(),$p:q5(N4(this.getContext()),this.getId()),dU:"smart-todo",Klb:new Yph("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.Dya=function(){return L4(this.ld())?G4(L4(this.ld())):null};m.sda=function(){return this.ld().by()};
m.Ka=function(){$5.prototype.Ka.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ja;delete this.Na};function bqh(a,b,c,d){this.C=a;this.H=b;this.hb=c;this.D=d}bqh.prototype.F=function(a){a=N4(this.C).ld(a);var b=this.H.yk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Vph(this.C,a.getId(),b,l5(a),this.hb,this.D);case "client-integrated-draft":return new Uph(this.C,a.getId(),b,l5(a),this.hb,this.D);case "smart-todo":return new Zph(this.C,a.getId(),b,l5(a),this.hb,this.D);default:return new Jph(this.C,a.getId(),b,this.hb,this.D)}};function cqh(a,b){this.C=a;this.D=b}cqh.prototype.clone=function(){return new cqh(this.C,this.D)};cqh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function a6(a,b){Uo.call(this);this.hb=b;this.L=a;this.D=null;if(a=b6(this).L)this.D=new cqh(a,!0);this.va=!a;this.Ba=!a;this.ob=this.H=null}v(a6,Uo);m=a6.prototype;m.DCa=da("O");m.yk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.iR=function(){return[]};m.rr=function(){return this.H?this.H.getId():null};m.uX=function(){return this.H?k5(this.H):null};m.vX=function(){var a=this.rr();return a?this.O.Hc(a):null};
m.oa=g("hb");function b6(a){return J4(a.L)}m.getContext=g("L");m.hH=function(){return this.yk().getId()};m.kda=g("D");m.pla=function(a,b){var c=this.rr();return a||c?b==this.hH()||this.D&&this.D.C==a?!0:!Ulh(this,a):!1};function Ulh(a,b){if(a.rr()==b)return!0;a=a.uX();return!!a&&a==b}
m.Mqa=function(a,b,c){if(this.pla(a,b)){var d=Ulh(this,a)?null:this.H;this.H=N4(this.L).ld(a)||null;var e=d&&a!=d.getId()&&(!k5(d)||a!=k5(d));if(e){var f=this.O.Hc(d.getId());f&&!d.Rq()&&f.update()}d=!d||e;b=b==this.hH()&&(void 0===c||c);a&&(d||b)&&(d&&this.Z1a(),(c=this.O.Hc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new cqh(a,b),d&&this.vAa(a))}};m.Z1a=ba();
m.UTa=function(a,b){var c=P4(this.L);c.yf("docos-before-highlight-doco").qb(a);V5(N4(this.L),b.getId());c.yf("docos-highlight-doco").qb(a);!this.va&&(this.va=!0,c=b.getId(),c==b6(this).L&&(a=b6(this).H["highlight-initial-doco"]))&&(b=(new F4("highlight-initial-doco")).addAnchorId(l5(b)).addDocoHandle(q5(N4(this.getContext()),c)).setNonAnchored(!(b.rA()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){dqh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){dqh(this,!1,void 0,a,b,c)};m.Cja=ba();m.Aja=ba();function dqh(a,b,c,d,e,f){var h=N4(a.L),k=eqh(a,h,b,!!d,!!e);k||!c||e||(k=eqh(a,h,!b,!!d,!1));b=P4(a.L);k&&(a=C4(B4(k.getId()),a.hH()),a.D=!0,f=D4(kih(jih(a,void 0!==f?f:!0))),b.yf("docos-before-highlight-doco").qb(f),V5(h,k.getId()),b.yf("docos-highlight-doco").qb(f))}
function eqh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.yk().tc();if(0==h)return null;a:{var k=a.rr();if(k){var l=a.yk();if(k=l.Hc(k)){l=Yw(l,k);break a}}l=-1}0>l&&(l=0,f=a.yk().Bc(l));for(k=l;!f||d&&!llh(b,f.ld());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.yk().Bc(l)}return f}
m.vAa=function(a){if(a==b6(this).L){var b=this.O.Hc(a);b&&b.yl()&&!this.Ba&&(this.Ba=!0,b=b6(this).H["linked-doco-highlighted"])&&(a=N4(this.L).ld(a),a=lih("linked-doco-highlighted").addAnchorId(l5(a)).setUserInitiated(!0).build(),b(a))}};m.Ida=function(a){for(var b=this.yk(),c=b.tc(),d=c,e=0;e<c;++e){var f=b.Bc(e);if(f&&0>=this.zW(a,f)){d=e;break}}return d};
function fqh(a){if(a.b5()){for(var b=a.yk(),c=[],d=b.tc(),e=0;e<d;++e)c.push(b.Bc(e));c.sort(u(a.zW,a));for(e=0;e<d;++e)b.Bc(e)!=c[e]&&b.Kf(c[e],e)}}m.Pz=function(){Clh(M4(this.getContext()))};m.IK=ba();m.ema=function(a){(a=this.O.Hc(a))&&a.c6a()};m.Lqa=function(){for(var a=this.yk().tc(),b=new Jhh,c,d=0;d<a;d++)c=this.yk().Bc(d),null!=c&&(c=c.ld(),null!=c&&Wnh(b,c));return Khh(b)};m.lL=ua;m.cca=qe;m.w3=qe;m.x3=ba();m.Ka=function(){a6.Ya.Ka.call(this);this.H=null};
m.Kqa=function(a){a=a.$W()||a;a instanceof a6&&(a.D=this.D?this.D.clone():null,a.va=this.va,a.Ba=this.Ba)};m.$W=ea(null);m.CCa=da("ob");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof a6){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.va==a.va&&this.Ba==a.Ba}else a=!1;return a};function gqh(a,b){Go.call(this,a);this.sKa=b}v(gqh,Go);function hqh(a){this.C=[];if(a)a:{if(a instanceof hqh){var b=a.jf();a=a.Hd();if(0>=this.qe()){for(var c=this.C,d=0;d<b.length;d++)c.push(new fY(b[d],a[d]));break a}}else b=Yd(a),a=Xd(a);for(d=0;d<b.length;d++)iqh(this,b[d],a[d])}}function iqh(a,b,c){var d=a.C;d.push(new fY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=hqh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)md(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function jqh(a){return a.C[0]&&a.C[0].getKey()}m.Hd=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.jf=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.Bv=function(a){return ed(this.C,function(b){return b.getValue()==a})};m.Yg=function(a){return ed(this.C,function(b){return b.getKey()==a})};m.clone=function(){return new hqh(this)};m.qe=function(){return this.C.length};m.isEmpty=function(){return ld(this.C)};m.clear=function(){md(this.C)};function kqh(){hqh.call(this)}v(kqh,hqh);kqh.prototype.enqueue=function(a,b){iqh(this,a,b)};function c6(a,b){a6.call(this,a,b);this.V=N4(this.getContext());this.C={};this.R={};this.fb=new kqh;this.J=new nih}v(c6,a6);m=c6.prototype;m.iR=function(){var a=c6.Ya.iR.call(this);a.push("docos-layout-anchored");b6(this).Zd&&a.push("docos-layout-anchored-shadows");return a};m.aqa=function(a){return(new bqh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.WP=function(a){if(this.V.ma(a)){var b=a.getId(),c=q5(this.V,b),d=this.Bsa(c,!1);if(d){var e=this.aqa(a);this.R[c]&&delete this.R[c];c=this.Ida(e);if(c<=this.yk().tc()&&-1<c)for(lqh(this,e,d,c);!this.fb.isEmpty()&&jqh(this.fb)<=this.yk().tc();)e=this.fb.remove(),lqh(this,e.view,e.position,e.index);else this.fb.enqueue(c,new mqh(e,d,c))}else this.R[c]=a;b=jih(B4(b),!a.uZ());a.Vj()||C4(b,this.hH());d&&a.lx()&&Ld(a.by())&&(d=P4(this.getContext()),d.yf("docos-before-highlight-doco").qb(D4(b)),V5(this.V,
a.getId()),d.yf("docos-highlight-doco").qb(D4(b)));(d=this.kda())&&d.C==a.getId()&&(jih(b,d.D),aq(u(this.UTa,this,D4(b),a),0))}};function lqh(a,b,c,d){var e=Oa();a.yk().Kf(b,d,!0);a.mja(c.x,c.y,b,!1);b=Oa()-e;(a=b6(a).H["doco-rendered"])&&a(new mih("doco-rendered",b))}m.pU=function(a){var b=this.yk().Hc(a);a==this.rr()&&(this.H=null);if(b){var c=this.V.ld(a);c&&c.isResolved()&&b.bl()&&b6(this).qd?nqh(this,a,b):(this.yk().removeChild(b,!0),Tf(b));this.eL(this.C)}};
function nqh(a,b,c){function d(){q||(q=!0,Tf(c),tp(e),Dx(h,"docos-resolve-highlight"),aq(function(){Fx(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=tw(e),h=b6(a).qd,k=Hw(h),l=Hw(e),n=tw(h);n.x+=(k.width-l.width)/2;a.yk().removeChild(c);Dx(e,"docos-readonly");c.zd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;Af?oqh(a,e,f,n,d,b):pqh(a,e,c.getId(),f,n,d)}
function pqh(a,b,c,d,e,f){pih(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";aq(function(){Mo(b,VEa,f);aq(f,570);Dx(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function oqh(a,b,c,d,e,f){var h=new rB(b,[c.x,c.y],[d.x,d.y],270),k=new akb(b,270);k.play();oih(a.J,f,h,270,function(){Tf(h);Tf(k);e()})}
function qqh(a){var b=[];a.yk().Ye(function(c){var d=c.ld();null!=d&&null!=l5(d)?(d=q5(this.V,c.ld().getId()),this.Bsa(d,!0)||this.R[d]||(this.R[d]=c.ld(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new gqh("rv",b))}m.bca=function(a){for(var b=he(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.eL(b)};m.v3=function(a){var b=he(this.C),c;for(c in a)b[c]=a[c];this.eL(b)};m.Bsa=function(a){return this.C[a]||null};
m.cca=function(a){a=rqh(this,a);return a?(a=a?a.getElement():null)?new Vm(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=rqh(this,a))?a.getDocoMaxHeight():null};m.Jqa=function(a,b){(a=rqh(this,a))&&a.BU(b)};function rqh(a,b){return(b=t5(a.V,b))?a.yk().Hc(b.getId()):null}m.Ka=function(){c6.Ya.Ka.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function mqh(a,b,c){this.dk=a.getId();this.view=a;this.position=b;this.index=c};function sqh(a,b){c6.call(this,a,b)}r(sqh,c6);m=sqh.prototype;m.b5=ea(!1);m.zW=ea(0);m.L0=ba();m.fL=function(){qqh(this)};m.Pz=function(){c6.prototype.Pz.call(this);this.yk().Ye(function(a){var b=a.ld();b&&null!=l5(b)&&(b=q5(N4(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.mja(b.x,b.y,a,!1))},this)};m.eL=function(a){this.C=a;qqh(this);for(var b in this.C)(a=this.R[b])&&this.WP(a);this.Pz()};m.mja=function(a,b,c){(c=c.getElement())&&Q$a(c,a,b,J4(this.getContext()).Bl)};function d6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Ld(f)?f:null}ra("docos.api.Assignee",d6,void 0);d6.prototype.getToken=g("L");d6.prototype.getToken=d6.prototype.getToken;d6.prototype.getEmail=g("F");d6.prototype.getEmail=d6.prototype.getEmail;d6.prototype.getAffinity=g("D");d6.prototype.getAffinity=d6.prototype.getAffinity;d6.prototype.getMatchingMethod=g("H");d6.prototype.getMatchingMethod=d6.prototype.getMatchingMethod;d6.prototype.O=g("C");
d6.prototype.isMatchedOnEmailUserName=d6.prototype.O;d6.prototype.getName=g("J");d6.prototype.getName=d6.prototype.getName;function tqh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function uqh(a,b,c,d){return new d6(a.C,b,d,a.L,a.D,c)}function vqh(a,b){return a.C.toLowerCase().replace(wqh,"")==b?a.D=!0:!1}tqh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&xqh(this,e)){var f=sf(e.getEmail());Ld(f)||c.push(uqh(this,f,e.getName(),0))}}a.resolve(c)};
function xqh(a,b){if(b.getEmail())var c=sf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||$mh.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(kd(Zmh,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&kd(f,d[h]))&&
1<d[h].length)return!0;return vqh(a,e)}function yqh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new tqh(a[d],"full-query",b));return c}function zqh(a,b){for(var c=[],d=0;d<a.length;d++)ud(c,Aqh(a[d],b));return c}function Aqh(a,b){return onh(mnh,a).map(function(c){return new tqh(c,"email",b)})}var wqh=/^[@+]|[@+]$/g;function Bqh(a){this.yic=a}Bqh.prototype.get=g("yic");ra("docos.api.AssigneeThenable",Bqh,void 0);Bqh.prototype.get=Bqh.prototype.get;function Cqh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new lm;this.J=d}function Dqh(a,b,c){c=void 0===c?!1:c;var d=Xp();a.C.C?Eqh(a,b,d,c||!1):Rmh(a.C).then(u(function(e,f,h){h?Eqh(this,e,f,c||!1):f.reject()},a,b,d));return new Bqh(d.C)}function Eqh(a,b,c,d){var e=La(zqh,b,a.D);b=u(a.H,a,La(yqh,b,a.D),c,function(){return c.resolve(null)},d);a.H(e,c,b,d)}
Cqh.prototype.H=function(a,b,c,d){a=a();for(var e=[],f=0;f<a.length;f++){var h=a[f];var k=this.C,l=Xp();Ld(h.C)?l.resolve([]):vqh(h,h.J)||h.C.toLowerCase()==h.F?l.resolve([uqh(h,h.F,null,Number.MAX_VALUE)]):k.No(h.C,5,u(h.O,h,l));h=l.C;ud(e,h)}Fqh(this,e,b,c,d)};function Fqh(a,b,c,d,e){Wp(b).then(function(f){for(var h=[],k=0;k<f.length;k++){var l=f[k];l.gR&&l.value&&ud(h,l.value)}ld(h)?d():Gqh(a,h,c,e)})}
function Gqh(a,b,c,d){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var e=[],f=[],h=0;h<b.length;h++){var k=b[h];k.C?f.push(k):e.push(k.getEmail())}ld(f)?(Hqh(a,e),d?Iqh(a,b,c):a.J(e).then(function(l){return Jqh(a,b,c,l)})):Iqh(a,f,c)}else Iqh(a,b,c)}function Iqh(a,b,c){b.sort(La(Kqh,a.D));c.resolve(b[0])}function Hqh(a,b){var c=a.F;rAa(b,c.contains,c)||(a.F.addAll(b),p5(a.L,j5(g5(new f5,43026))))}
function Jqh(a,b,c,d){for(var e=[],f={d1:0};f.d1<d.length;f={d1:f.d1},f.d1++){var h=id(b,function(k){return function(l){return l.getEmail()==d[k.d1]}}(f));h&&e.push(h)}ld(e)?c.resolve(null):Iqh(a,e,c)}function Kqh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function Lqh(a){this.idb=a;return this}r(Lqh,y4);Lqh.prototype.getCancelAnchorId=g("idb");Lqh.prototype.getCancelAnchorId=Lqh.prototype.getCancelAnchorId;function Mqh(a,b,c,d,e,f){a=E4.call(this,a,b,c,d,e,f||new y4)||this;a.C=!1;return a}r(Mqh,E4);Mqh.prototype.canPreventDefault=ea(!0);Mqh.prototype.preventDefault=function(){this.C=!0};function Nqh(a){return F4.call(this,a)||this}r(Nqh,F4);Nqh.prototype.build=function(){return new Mqh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new y4)};function Oqh(){this.D=!1}Oqh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};Oqh.prototype.Bk=function(){return!this.D&&(null==this.C||this.C.Bk())};function Pqh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Xp();this.L=c}v(Pqh,A);function Rmh(a){if(!Wre())return Tp(!1);if(a.C)return Tp(!0);if(!a.F){var b=he(Wtf);b.D=!0;b.L=3;b.va=!0;b.F=0;a.F=a.D.No(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.R)){var k=new sSd;h=L(k,1,h);h=ehh(h);c.jp("dacpc",Oa()-a.L,h.sb())}})}return a.H.C}
Pqh.prototype.No=function(a,b,c,d){var e=this;if(!Wre())return new Rtf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(ef(a)&&this.F&&this.F.Bk()){var k=new Oqh,l=Oa();this.H.C.then(function(){var n=e.J.R;if(k.Bk()){var q=e.D.No(h,c);n&&n.jp("dcrdtdr",Oa()-l);k.D||(k.C=q)}else n&&n.jp("dcrdc",Oa()-l)});return k}return this.D.No(h,c)};Pqh.prototype.Ka=function(){delete this.D};function Qqh(a){this.C=a}v(Qqh,y4);ra("docos.api.OriginatingDocoTypeArgs",Qqh,void 0);Qqh.prototype.getOriginatingDocoTypeArgs=g("C");Qqh.prototype.getOriginatingDocoTypeArgs=Qqh.prototype.getOriginatingDocoTypeArgs;function e6(a,b,c){this.C=c;this.hs=a;this.D=b}v(e6,Qqh);ra("docos.api.ConvertDocoArgs",e6,void 0);e6.prototype.getAnchorId=g("hs");e6.prototype.getAnchorId=e6.prototype.getAnchorId;e6.prototype.getNewDocoArgs=g("D");e6.prototype.getNewDocoArgs=e6.prototype.getNewDocoArgs;function f6(a,b,c,d){this.F=a;this.vd=void 0!==b?b:null;this.D=void 0==c?-1:c;this.C=d||null}v(f6,y4);f6.prototype.isInstantDoco=g("F");f6.prototype.getPosition=g("vd");f6.prototype.getInstantDocoSpacerIndex=g("D");f6.prototype.getEntryPoint=g("C");f6.prototype.isInstantDoco=f6.prototype.isInstantDoco;f6.prototype.getInstantDocoSpacerIndex=f6.prototype.getInstantDocoSpacerIndex;f6.prototype.getEntryPoint=f6.prototype.getEntryPoint;function Rqh(a){this.F=a}Rqh.prototype.C=function(a,b){return b?(a=this.F.ld(b.dk))?L4(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};Rqh.prototype.D=ea(0);function Sqh(a,b){this.vd=a;this.hs=b;return this}r(Sqh,y4);Sqh.prototype.getPosition=g("vd");Sqh.prototype.getAnchorId=g("hs");Sqh.prototype.getPosition=Sqh.prototype.getPosition;Sqh.prototype.getAnchorId=Sqh.prototype.getAnchorId;function Tqh(a){A.call(this);this.C=a}r(Tqh,A);function p5(a,b){var c=J4(a.C).Qa;if(c){var d=new uk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);Uqh(a,d,b.D);b.J&&(a=uoh(N4(a.C)).C.clone(),Yj(d,10,a));a=new bkh;b.hs&&L(a,1,b.hs);c(b.H,b.F||void 0,d,a)}}
function r5(a,b){var c=J4(a.C).Qa;if(c){var d=b.ld();var e=new uk;var f=d.Ywa();e=L(e,2,f);null!=d.qA()&&(f=tjh(d.qA()).length,L(e,8,f));null!=b.Zy&&(f=b.Zy.Ywa(),L(e,3,f));if(null!=b.pX){var h=b.pX;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new BOd;var k=new xOd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);Yj(f,2,h);Yj(e,5,f);break;case "suggestion":L(e,4,5);break;
default:L(e,4,0)}}null!=b.C&&L(e,7,b.C);null!=J4(a.C).Ra&&(f=J4(a.C).Ra,Yj(e,12,f));null!=J4(a.C).L&&(f=J4(a.C).L==d.getId(),L(e,13,f));f=d.UE();h=L4(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);Uqh(a,e,d.getId());b.J&&(a=uoh(N4(a.C)).C.clone(),Yj(e,10,a));a=new bkh;d=l5(b.ld());a=L(a,1,d);c(b.H,b.F||void 0,e,a)}}function Uqh(a,b,c){a=N4(a.C).R;null!=c&&b.Lg(null!=a&&c==a.getId())}Tqh.prototype.Ka=function(){A.prototype.Ka.call(this)};function Vqh(){}Vqh.prototype.C=function(){return["Comment changed"]};Vqh.prototype.D=ea(0);function Wqh(a,b,c){b=ia(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.$p&&a.addDocoHandle(d.$p),d.yn&&a.addAnchorId(d.yn));return a};function Xqh(a,b){this.C=a;this.pX=b;return this}r(Xqh,Qqh);Xqh.prototype.getFeedback=g("pX");ra("docos.api.FeedbackArgs",Xqh,void 0);Xqh.prototype.getFeedback=Xqh.prototype.getFeedback;function Yqh(a){this.cU=a;return this}r(Yqh,y4);Yqh.prototype.isOriginInStreamOrGutter=g("cU");ra("docos.api.HighlightDocoArgs",Yqh,void 0);Yqh.prototype.isOriginInStreamOrGutter=Yqh.prototype.isOriginInStreamOrGutter;function Zqh(a){var b=a.HPb,c=a.Nb,d=a.tQb;a=a.IPb;return T('<div id="docs-instant-button-bubble" class="'+U("docs-material")+" "+(c?U("docs-instant-button-bubble-transformation-rtl"):U("docs-instant-button-bubble-transformation-ltr"))+(d?" "+U(d):"")+'" role="button" tabindex="-1"><div class="'+U("docs-instant-button-bubble-icon-container")+(a?" "+U(a):"")+'"><span class="'+U("docs-instant-button-bubble-icon")+(b?" "+U(b):"")+'"></span></div></div>')};function $qh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=Ny(My,0<c.length?c[0]:"docs-instant-button");Py.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;Sy(this,2,!0)}r($qh,Py);m=$qh.prototype;m.Ca=function(){var a=this.oa(),b={Nb:!1};b.HPb=this.R.join(" ");ld(this.J)||(b.tQb=this.J.join(" "));ld(this.L)||(b.IPb=this.L.join(" "));this.pb(ny(Zqh,b,void 0,a))};
function arh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.tb()){var h=0>=c;a.isVisible()||h?(brh(a),crh(a,b,d,f),e&&e()):(a.D=new drh(b,d,f,e),b=!a.C,h||b||brh(a),a.C||(a.C=aq(function(){crh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Vd;k&&k();a.D=null;a.C=null},c,a)))}}
m.kf=function(a){if(this.tb()){if(void 0===a?0:a)nw(this.getElement(),"top","0px"),Dx(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(Fx(this.getElement(),"docs-instant-button-visible"),Jw(this.La(),0),this.F=!1);brh(this)}};m.og=function(a){this.isVisible()&&(Py.prototype.og.call(this,a),a.stopPropagation())};m.Wm=function(a){this.isVisible()&&(Py.prototype.Wm.call(this,a),a.stopPropagation())};m.nS=function(a){this.isVisible()&&a.stopPropagation()};
function crh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;Fx(a.getElement(),"docs-instant-quick-hide");Dx(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function brh(a){a.C&&(bq(a.C),a.C=null)}m.isVisible=function(){Cx(this.getElement(),"docs-instant-button-visible");return this.F};function drh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Vd=d}drh.prototype.getOpacity=g("C");function erh(a,b){I4.call(this,a,b);this.D=null;this.F=a}r(erh,I4);erh.prototype.Ca=function(){I4.prototype.Ca.call(this);this.D=new $qh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Wa(this.D.getElement())};
erh.prototype.Ia=function(){I4.prototype.Ia.call(this);J4(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||J4(this.F).C.D(this.getElement(),!0);this.D.Ia();K4(this,this.D,"action",this.H)};function frh(a,b,c,d){Fz(a.D.getElement(),"docos");J4(a.F).C.D(a.getElement(),!1);var e=a.D.H;arh(a.D,b,c,d,function(){e!=b&&J4(a.F).C.kf(a.getElement())})}erh.prototype.kf=function(a){this.D.isVisible()&&J4(this.F).C.D(this.getElement(),!0);this.D.kf(a)};erh.prototype.H=function(){this.kf();this.dispatchEvent("create-draft")};function grh(a,b){A.call(this);this.D=a;this.F=J4(a);this.C=b;this.H=new Uz(this);a=P4(this.D);this.H.yb(a.Ta("docos-edit-reply"),mt,this.J9b).yb(a.Ta("docos-delete-reply"),mt,this.s9b).yb(a.Ta("docos-edit-doco"),mt,this.F9b).yb(a.Ta("docos-edit-draft"),mt,this.I9b)}r(grh,A);function hrh(a,b,c,d,e,f){return g6(a,u(a.pQb,a,b,c,d,e,void 0===f?!1:f))}m=grh.prototype;m.pQb=function(a,b,c,d,e,f,h){if(irh(h))return a=alh(this.C,a,b,c,d,e),f.Zi.callback(a),a;f.Zi.callback(0);return 0};
m.rQb=function(a,b,c,d,e,f){if(irh(f))return a=clh(this.C,a,b,c,d),e.Zi.callback(a),a;e.Zi.callback(0);return 0};m.oQb=function(a,b,c,d,e,f){if(irh(f))return a=dlh(this.C,a,b,c,d),e.Zi.callback(a),a;e.Zi.callback(0);return 0};function jrh(a,b){return g6(a,u(a.xdc,a,b))}m.I9b=function(a){var b=this,c=a.data;g6(this,u(this.H9b,this,c.dk,c.text)).addCallback(function(d){d&&c.OHa&&O4(M4(b.D),c.OHa);return d})};m.H9b=function(a,b,c,d){h6(u(this.C.G9b,this.C,a,b),c,d)};
m.xdc=function(a,b,c){h6(u(this.C.igb,this.C,a),b,c)};function krh(a,b,c,d,e,f,h,k){return g6(a,u(a.Gab,a,b,c,d,e,f,h,k))}
m.Gab=function(a,b,c,d,e,f,h,k,l){if(irh(l)){l=this.C;var n,q;a&&(q=roh(N4(l.C),a))&&"instant-doco"==q.Mt&&(n=31);var t=g5(new f5,43009);null!=q&&h5(t,q.getId());null!=n&&(t.C=n);q&&q.lx()&&a!=b&&elh(N4(l.C),q.getId());a=uf();n=Oa();q=Tjh(Pjh(Y4(new X4(a)),n),l.F.Xg());c&&Z4(q,c,n);d&&(c=(new Nih).setType("text/plain").setValue(d),Yj(q.C,9,c));e&&(Ojh(q,e),t.J=e);f&&(Sjh(q,f),t.D=f);c=Qkh(o5(n5(q),!0),n);b&&(Okh(c,b),i5(t,b));h&&(t.C=h);s5(N4(l.C),c);N4(l.C).flush();p5(l.D,j5(t));p5(l.D,j5(g5(t,e?
43096:f?43101:43102)));b=q5(N4(l.C),a);k.Zi.callback(b);return b}k.Zi.callback(0);return 0};m.F9b=function(a){var b=a.data;g6(this,u(this.zkb,this,b.id,b.text,b.zf)).addCallback(function(c){c||b.hra.dispatchEvent("c")})};m.zkb=function(a,b,c,d,e){h6(u(this.C.ykb,this.C,a,b,c),d,e)};m.s9b=function(a){a=a.data;g6(this,u(this.r9b,this,a.dk,a.VBa,a.zf)).addCallback(ba())};m.r9b=function(a,b,c,d,e){h6(u(this.C.vfb,this.C,a,b,c),d,e)};
m.J9b=function(a){var b=a.data;g6(this,u(this.Bkb,this,b.dk,b.VBa,b.text,b.zf)).addCallback(function(c){c||b.hra.dispatchEvent("c")})};m.Bkb=function(a,b,c,d,e,f){h6(u(this.C.Akb,this.C,a,b,c,d),e,f)};m.Hab=function(a,b,c,d,e,f,h){h6(u(this.C.egb,this.C,a,b,c,d,e),f,h)};m.kkc=function(a,b,c,d){h6(u(this.C.lgb,this.C,a,b),c,d)};m.lkc=function(a,b,c,d,e){h6(u(this.C.mgb,this.C,a,b,c),d,e)};m.cec=function(a,b,c,d,e,f){h6(u(this.C.jgb,this.C,a,b,c,d),e,f)};
function h6(a,b,c){irh(c)?(a(),b.Zi.callback(!0)):b.Zi.callback(!1)}m.rfb=function(a,b,c,d,e){h6(u(this.C.fgb,this.C,a,b,c),d,e)};m.rjc=function(a,b,c){if(irh(c))return a=flh(this.C,a),b.Zi.callback(a),a;b.Zi.callback(0);return 0};m.Qfc=function(a,b,c,d){h6(u(this.C.kgb,this.C,a,b),c,d)};m.ufb=function(a,b,c){h6(u(this.C.hgb,this.C,a),b,c)};m.tfb=function(a,b,c){h6(u(this.C.ggb,this.C,a),b,c)};function lrh(a,b,c,d){return g6(a,u(a.nab,a,b,c,d))}
m.nab=function(a,b,c,d,e){if(irh(e)){e=this.C;a=t5(N4(e.C),a);if(klh(e,a)){var f=uf();s5(N4(e.C),mlh(e,a,f,b));c||(c=e.D,b=d5(c5(new b5,b?43027:43028),a),b.J=!0,r5(c,e5(b)));b=q5(N4(e.C),a.getId(),f)}else b=0;d.Zi.callback(b);return b}d.Zi.callback(0);return 0};
m.LGa=function(a,b,c,d){if(irh(d)){d=this.C;for(var e=[],f=[],h=[],k=0;k<a.length;k++){var l=t5(N4(d.C),a[k]);if(klh(d,l)){var n=uf();e.push(mlh(d,l,n,b));f.push(l.getId());h.push(n)}}jlh(N4(d.C),e,"c");a=[];for(k=0;k<f.length;k++)a.push(q5(N4(d.C),f[k],h[k]));c.Zi.callback(a);return a}a=[];c.Zi.callback(a);return a};function g6(a,b){var c=new xq,d={Zi:c};(a=a.F.nf)?a(d,b):b(d,"edit-not-intercepted");return c}function irh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function mrh(a,b){A.call(this);this.C=[];this.F=new uhh(a);this.D=vhh(this.F,"user");this.J=vhh(this.F,"control");this.Gd=new $p(b||50);this.Gd.start();Lo(this.Gd,"tick",this.I2a,!1,this);this.J.Ff("setPeerReady_",u(this.Ufc,this))}v(mrh,A);m=mrh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.I2a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Gd.stop(),a;}};m.Ff=function(a,b,c){this.D.Ff(a,b,c)};m.yJ=function(a){this.D.yJ(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({p0:a,zm:b})};m.Ufc=function(a){a?this.Gd.stop():this.Gd.start();if(!this.H){this.H=!0;this.I2a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.p0,b.zm)}this.C=null}};m.Ka=function(){Tf(this.F);Tf(this.Gd);mrh.Ya.Ka.call(this)};function nrh(a){J(this,a,0,-1,null,null)}v(nrh,I);nrh.prototype.ea=function(){var a=new E;orh(this,a);return Y(a)};function orh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}nrh.prototype.getId=function(){return K(this,1)};nrh.prototype.Ic=function(a){return L(this,1,a)};function prh(a){J(this,a,"u",-1,qrh,null)}v(prh,I);var qrh=[1,2];prh.prototype.ea=function(){var a=new E;var b=Xj(this,U4,1);0<b.length&&Gj(a,1,b,Hkh);b=Xj(this,nrh,2);0<b.length&&Gj(a,2,b,orh);return Y(a)};prh.pe="u";function rrh(a){Uo.call(this);this.C=a;this.Oa=new Vo(this);this.qa(this.Oa);this.Oa.listen(this.C,"u",this.D);this.C.Yd(this)}v(rrh,nlh);rrh.prototype.D=function(a){var b=fkh(a.zm.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new olh("u",new prh(b))));a.stopPropagation()};function rlh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&za(n[0])&&d(n[0])});a.C.xKa(b,c?c.Jf():void 0,l,e,f,h,k)};function srh(a,b,c){Ore.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.yJ(u(this.D,this));this.F=b}v(srh,Ore);srh.prototype.send=function(a,b){Fa(b)&&(b=Sm(b));this.C.send(a,{t:this.F,p:b})};srh.prototype.D=function(a,b){Pre(this,a,b)};srh.prototype.Lba=function(a,b,c){b=srh.Ya.Lba.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?srh.Ya.Lba.call(this,a,b.p,c):null};function trh(){Uo.call(this)}v(trh,Uo);function urh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Uo.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new Do;this.qa(this.J);Eo(this.J,this.H.getStatus().C,function(l){l.D.Nk()&&Ol(l.C)?k.dispatchEvent(new olh("r")):l.C.equals(aAa)?k.dispatchEvent(new olh("p")):Pl(l.C)&&k.dispatchEvent(new olh("e"))});this.F=function(l){l&&k.dispatchEvent(new olh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}r(urh,trh);
urh.prototype.wKa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.Zba)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new xNa;var b=this.D.Xg().getId();a.R=b;LMa(a,this.D.$ba,this.O,this.D.Iqa);this.C=a;this.C.subscribe("9",this.F)}};
urh.prototype.xKa=function(a,b,c,d,e,f,h){b=b?["p",Sm(b)]:[];vrh(this,b,"/docos/p/"+a,c,d,e,f,h)};function vrh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?OAa(b):void 0;c=hr(a.H.$e(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.yq();h?Rl(c,h):Rl(c,3);d&&Tl(c,function(n){d(n.Pe())});e&&Sl(c,e,f);k&&jr(c,k);null!=a.L&&(c.Ra=a.L);c.Se()}urh.prototype.Ka=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());trh.prototype.Ka.call(this)};function wrh(a,b,c){this.seq=xrh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var xrh=1;function yrh(a){Uo.call(this);this.C=a;this.C.Ff("recv",u(this.uac,this),!0);this.C.Ff("recvEvt",u(this.tac,this),!0);this.D={}}v(yrh,trh);m=yrh.prototype;m.uac=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.tac=function(a){this.dispatchEvent(new olh(a.type,a.payload))};m.wKa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.xKa=function(a,b,c,d,e,f,h){a=new wrh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ka=function(){yrh.Ya.Ka.call(this);delete this.C};function zrh(a){A.call(this);this.F=a;this.D=this.C=null}r(zrh,A);
function Arh(a){if(a.C)return a.C;var b=J4(a.F),c=b.Hqa;if(void 0!==c)return c&&(a.C=new rrh(c),a.qa(a.C)),a.C;if(b.tKa){var d=Xfd();c=new xMa(new T6b,void 0,void 0,void 0,new lKa,void 0,void 0,kMa(gMa(d)));var e=b.Iqa;e&&c.J7(e);var f=b.vKa;f&&GMa(c,f);b.pMa&&qKa(c.D,"anon","true");(f=b.NUa)&&qKa(c.D,"invite",f);f=null;if(b.Zba){f=new xNa;var h=b.Xg().getId();f.R=h;sKa(c.H,f);LMa(f,b.$ba,d,e)}b=new urh(c,!0,["id",b.$ba],f,null!=b.u3?b.u3:6E4,b,d);b.qa(c);a.C=new rrh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.I0a;if(!b)throw Error("Peer missing.");c={};d=new Em(window.location.href);(e=Nm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Em(b)).toString());d=Xfd();b=(new Em(b)).Ob("ctoken",d).toString();c.pu=b;a.D=mp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new PT(c);Nse(b,a.D);b.connect();b=new mrh(b);c=zih(a.F);b=new srh(b,d,c);c=new yrh(b);a.C=new rrh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
zrh.prototype.Ka=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ka.call(this)};function Brh(a,b){this.C=a;this.F=b}function i6(a,b,c){var d=Date.now();b();b=Date.now()-d;a.F.jp(c,b)}m=Brh.prototype;m.Mqa=function(a,b,c){a=u(this.C.Mqa,this.C,a,b,c);i6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);i6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);i6(this,a,"dvmhp")};m.fL=function(){var a=u(this.C.fL,this.C);i6(this,a,"dvmla")};m.Pz=function(){var a=u(this.C.Pz,this.C);i6(this,a,"dvmfl")};
m.WP=function(a){a=u(this.C.WP,this.C,a);i6(this,a,"dvmadv")};m.L0=function(a){a=u(this.C.L0,this.C,a);i6(this,a,"dvmudv")};m.pU=function(a){a=u(this.C.pU,this.C,a);i6(this,a,"dvmrdv")};m.yk=function(){return this.C.yk()};m.DCa=function(a){this.C.DCa(a)};m.iR=function(){return this.C.iR()};m.rr=function(){return this.C.rr()};m.uX=function(){return this.C.uX()};m.vX=function(){return this.C.vX()};m.oa=function(){return this.C.oa()};m.hH=function(){return this.C.hH()};m.kda=function(){return this.C.kda()};
m.pla=function(a,b){return this.C.pla(a,b)};m.Cja=function(){this.C.Cja()};m.Aja=function(){this.C.Aja()};m.zW=function(a,b){return this.C.zW(a,b)};m.IK=function(a,b){this.C.IK(a,b)};m.ema=function(a){this.C.ema(a)};m.Lqa=function(){return this.C.Lqa()};m.lL=function(a){this.C.lL(a)};m.cca=function(a){return this.C.cca(a)};m.w3=function(){return this.C.w3()};m.x3=function(a){this.C.x3(a)};m.dispose=function(){this.C.dispose()};m.isDisposed=function(){return this.C.isDisposed()};
m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Nc=function(a,b,c,d){return this.C.Nc(a,b,c,d)};m.Gc=function(a,b,c,d){return this.C.Gc(a,b,c,d)};m.iV=function(a){return this.C.iV(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.XC=function(a){return this.C.XC(a)};m.yu=function(){return this.C.yu()};m.cR=function(a,b,c){return this.C.cR(a,b,c)};m.YL=function(a,b){return this.C.YL(a,b)};m.dE=function(a,b,c,d){return this.C.dE(a,b,c,d)};
m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.$W=function(){return this.C.$W()||this.C};m.Kqa=function(a){this.$W().Kqa(a)};m.equals=function(a){return this===a};m.CCa=function(a){this.$W().CCa(a)};Brh.prototype[Jva]=!0;function Crh(a,b){Brh.call(this,a,b);this.D=a}r(Crh,Brh);m=Crh.prototype;m.bca=function(a){a=u(this.D.bca,this.D,a);i6(this,a,"davmddp")};m.v3=function(a){a=u(this.D.v3,this.D,a);i6(this,a,"davmudp")};m.eL=function(a){a=u(this.D.eL,this.D,a);i6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.Jqa=function(a,b){this.D.Jqa(a,b)};function Drh(a){J(this,a,0,-1,Erh,null)}v(Drh,I);var Erh=[1];Drh.prototype.ea=function(){var a=new E;var b=Xj(this,U4,1);0<b.length&&Gj(a,1,b,Hkh);b=K(this,2);null!=b&&Bj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Bj(a,4,b);b=K(this,5);null!=b&&a.Ha(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};function Frh(a){J(this,a,"sr",-1,Grh,null)}v(Frh,I);var Grh=[1];Frh.prototype.ea=function(){var a=new E;var b=Xj(this,U4,1);0<b.length&&Gj(a,1,b,Hkh);b=K(this,2);null!=b&&Bj(a,2,b);b=K(this,3);null!=b&&Bj(a,3,b);return Y(a)};Frh.pe="sr";function Hrh(a,b,c){Uo.call(this);this.C=a;this.va=b;this.V=c||null;this.Oa=new Vo(this);this.qa(this.Oa);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new Uz(this);this.qa(this.ma);this.Oa.listen(this.H,"r",this.sac).listen(this.H,"u",this.qbc).listen(this.H,"e",this.qTb).listen(this.H,"p",this.rTb);this.Oa.listen(N4(a),["dd"],this.pTb).listen(N4(a),"bu",this.oTb)}r(Hrh,Uo);
function Irh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return Jrh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new xq),a.F="in-progress",Jrh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function Jrh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.IWa(b))}function Krh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Kd(null):d.callback(c)}m=Hrh.prototype;
m.IWa=function(a){for(var b=N4(this.C),c=voh(b),d=[],e=0;e<c.length;e++){d.push(fk(c[e].F));var f=c[e].getId();qd(b.J,f)}b=new Drh;d=bk(b,1,d);this.L&&L(d,2,this.L);J4(this.C).Jsa()&&(b=J4(this.C).Jsa(),L(d,5,b));rlh(this.H,"sync",d,u(this.m$b,this),u(this.l$b,this),!1,a?a:void 0)};m.l$b=function(){this.O=!1;Krh(this,!0)};m.qTb=function(){this.dispatchEvent("net-error")};m.rTb=function(){this.dispatchEvent("post-limit-error")};
m.m$b=function(a){a=new Frh(a);var b=this.O;this.O=!1;var c=Oa();if(b){var d=j6(this.va,"model-loaded");if(d){var e=(new F4("model-loaded")).build();d(e)}}d=N4(this.C);try{if(Lrh(this,a,b),this.L=K(a,2),xoh(d))aq(u(this.IWa,this));else{var f=Oa()-c;Krh(this,!1,b?f:void 0);this.V&&this.V.jp("dscat",f)}}catch(h){throw aq(function(){throw h;}),h;}};
function Lrh(a,b,c){var d=N4(a.C),e=toh(d),f=Xj(b,U4,1);b=0<f.length;var h=N4(a.C),k=[];f=ia(f);for(var l=f.next();!l.done;l=f.next()){l=fk(l.value);var n=T4(l),q=ooh(h,n.getId(),K(n,11));n=!0;if(q)a:{var t=a,w=N4(t.C);n=T4(l);delete e[q.getId()];var x=q.getId();if(kd(w.J,x))n=!1;else{x=q.getId();if(x=kd(w.Na,x)){if(q.Rq()){Mrh(t,q);n=!1;break a}t=q.getId();qd(w.Na,t)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=he(q.D);w=ia(R4(n));for(t=w.next();!t.done;t=w.next())t=t.value,L(t,12,!1),void 0===
K(t,13)&&L(t,13,0),delete q[t.getId()||""],delete q[K(t,11)||""];w=[];t=ia(Object.keys(q));for(x=t.next();!x.done;x=t.next())w.push(Nrh(fk(q[x.value].C)));q=R4(n);bk(n,8,sd(q,w));n=!0}}n&&k.push(new Nkh(l))}jlh(h,k,"n");h=ia(voh(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.Rq()&&void 0===k.C.C.getId()&&Mrh(a,k);if(c){h=ia(Object.keys(e));for(k=h.next();!k.done;k=h.next())k=e[k.value],Lkh(k)||void 0===k.C.C.getId()&&!k.Rq()||(b=!0,k=fk(k.F),T4(k),f=T4(k),bk(f,8,[]),l=Oa(),L(f,13,l),L(f,12,!1),
L(k,9,!1),s5(d,new Nkh(k),"n"));if(J4(a.C).kH()&&(a=N4(a.C),e=a.L.Zj)){h=toh(a);for(var F in h){k=h[F];f=[];if(l=k)l=k.isResolved(),n=k.Vj()&&!!Mkh(k),l=!(l||n);if(l){if(l=k.Nu())l=k.Nu().getTime()>e;if(l)f.push(F),f.push.apply(f,ja(Object.keys(he(k.D)))),woh(a,F,f);else{l=m5(k);for(n=0;n<l.length;n++){q=l[n].getId();if(w=a5(k,q))w=a5(k,q).Nu().getTime()>e;w&&f.push(q)}0!=f.length&&woh(a,F,f)}}}soh(a)}}b&&d.flush(c)}
function Mrh(a,b){a=N4(a.C);var c=fk(b.F),d=T4(c);L(c,9,!1);L(d,12,!1);b=b.getId();qd(a.J,b);s5(a,new Nkh(c),"n")}function Nrh(a){var b=Oa();L(a,13,b);L(a,12,!1);return a}m.sac=function(){var a=12E4*Math.random();null!==this.R&&bq(this.R);this.R=aq(function(){Irh(this,J4(this.C).vga?1:void 0)},a,this)};
m.qbc=function(a){if(a.zm){var b=a.zm;a=N4(this.C);var c=0;b=Xj(b,U4,1);b=ia(b);for(var d=b.next();!d.done;d=b.next()){d=fk(d.value);var e=T4(d);e=ooh(a,e.getId(),K(e,11));e&&e.JS()||(s5(a,new Nkh(d),"n"),c++)}0<c&&N4(this.C).flush()}};m.pTb=function(a){"n"!=a.getSource()&&noh(N4(this.C))&&Irh(this)};m.oTb=function(a){"n"!=a.source&&noh(N4(this.C))&&Irh(this)};m.Ka=function(){Uo.prototype.Ka.call(this);delete this.C;delete this.Oa;delete this.ma};function Orh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.Oa=new Vo(this);this.qa(this.Oa);this.C=null;this.O=!1;this.J=null}r(Orh,A);function Prh(a){if(!phh(a.H,"netIo"))return!1;a.C=new Hrh(a.H,a.F,a.D.R||void 0);a.qa(a.C);a.Oa.listen(a.C,"net-error",a.V);a.Oa.listen(a.C,"post-limit-error",a.R);return!0}Orh.prototype.V=function(){Qrh(this.F,"fe")};Orh.prototype.R=function(){Qrh(this.F,"p")};function Rrh(a){a.O=!0;a.J=Oa();Aq(Irh(a.C,a.D.tD?1:void 0).addCallback(a.L,a),a.ma,a)}
function Srh(a){if(jkh(a.D)){var b=a.C.D;b?b.addCallback(function(){return Trh(a)}):Trh(a)}}Orh.prototype.L=function(a){var b=this.D.R;b&&b.$Ca(uoh(N4(this.H)).C.clone().sb());if(b=j6(this.F,"sync-success")){var c=(new F4("sync-success")).build();b(c)}(b=j6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new mih("initial-anchored-render-done",a));(a=j6(this.F,"initial-sync-and-render-complete"))&&a(new mih("initial-sync-and-render-complete",Oa()-this.J));Qrh(this.F,"s");Qrh(this.F,"r")};
Orh.prototype.ma=function(){var a=j6(this.F,"sync-error");if(a){var b=(new F4("sync-error")).build();a(b)}Qrh(this.F,"e")};function Trh(a){a.C.L=null;Irh(a.C,a.D.vga?1:void 0)};function Urh(){}Urh.prototype.C=function(a,b){return b?b.j2?["Action item created"]:["Comment created"]:[]};Urh.prototype.D=ea(0);function Vrh(){}Vrh.prototype.C=function(){return["Reply added"]};Vrh.prototype.D=ea(0);var Wrh={L6a:"all",TBc:"important",NONE:"none"};function Xrh(a){var b=a.$ab,c=a.OPb,d=a.j8b;a=T;var e='<div class="'+U("docos-notificationdialog-content")+'">',f='<div class="'+U("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(U(b)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(b)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(U(c)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(c)+'" class="'+U("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(U(d)+'" class="'+U("docos-notificationdialog-control")+'"/><label for="'+U(d)+'" class="'+U("docos-notificationdialog-label")+'">');b=T(f+"Nothing</label></div>");b=e+b;c='<a class="'+U("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=T(c+"Help</a>");return a(b+c+"</div>")};function Yrh(a){WV.call(this);this.V=a;this.Ja=J4(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}r(Yrh,WV);m=Yrh.prototype;
m.Ca=function(){WV.prototype.Ca.call(this);Dx(Wx(this),"docos");var a=Ia(Wx(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;ly(this.ub(),Xrh,{$ab:this.O,OPb:this.R,j8b:this.ma});ky(this,"ok");a=this.Ja.fb;null!==a&&(nw(this.Mq(),"z-index",a),nw(Wx(this),"z-index",a+1))};
m.Ia=function(){WV.prototype.Ia.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.va=by(this.D,"ok");Lo(this.F,"click",u(this.EEa,this));Lo(this.H,"click",u(this.EEa,this));Lo(this.L,"click",u(this.EEa,this))};
m.update=function(){this.va.disabled=!0;Zrh(Flh(this.V)).then(function(a){for(var b=ia(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.hCa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}$rh(Flh(this.V),a)};m.EEa=function(){var a=this;Zrh(Flh(this.V)).then(function(b){for(var c=!0,d=ia(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.va.disabled=!c},void 0,this)};
m.zd=function(){To(this.F);To(this.H);To(this.L)};m.Ka=function(){WV.prototype.Ka.call(this);delete this.va;delete this.F;delete this.H;delete this.L};function ash(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}ra("docos.api.StorageUpdate",ash,void 0);function bsh(a,b){if(a){b||a.unshift(void 0);csh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),dsh(c[2],b),bsh(c[3],b),b&&c.shift());b&&a.shift()}}function dsh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function csh(a,b){if(a){b||a.unshift(void 0);dsh(a[3],b);dsh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)csh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function esh(a){A.call(this);this.D=a;this.C=J4(a).Pb;this.H=[];this.F=[];J4(a).Ad||(this.Oa=new Vo(this),this.qa(this.Oa),this.Oa.listen(N4(a),["f","dd"],this.ogb).listen(N4(a),"bu",this.ngb))}v(esh,A);m=esh.prototype;m.ogb=function(a){if("o"!=a.getSource()&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=td(this.H);var b=td(this.F);this.C.z6a(a,b,u(this.qOb,this,a),u(this.oOb,this,b));this.H=[];this.F=[]}}else fsh(this,a.type,a.C,a.L)};
m.ngb=function(a){if("o"!=a.source&&this.C)for(var b=ia(a.C),c=b.next();!c.done;c=b.next())c=c.value,fsh(this,a.type,c.dk,c.C)};function fsh(a,b,c,d){if(c){var e;"bu"==b?e=N4(a.D).ld(c):e=N4(a.D).F[c];(b=e)&&b.Rq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!Lkh(b)&&(e=fk(b.F).Jf(),e=ie(e),bsh(e,!1),b=new ash(c,e,b.JS()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.qOb=function(a){for(var b=0;b<a.length;b++);};
m.oOb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);gsh(this,d,c)};m.WAb=function(a,b){if(0<b.length){for(var c=N4(this.D),d=0;d<b.length;d++){var e=ie(b[d]);bsh(e,!0);e=new U4(e);s5(c,new Nkh(e),"o")}c.flush(!0)}a()};m.VAb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);gsh(this,d,c);a()};
function gsh(a,b,c){if(a=zih(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ka=function(){esh.Ya.Ka.call(this);delete this.D;delete this.Oa;delete this.C};function hsh(a,b){var c=new muf(new auf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));ouf(c,b);b=c.D;a=null!=K(a.hh,50)?K(a.hh,50):4;L(b,5,ish(a));return Exf(c)}function ish(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function jsh(a,b){this.F=a;this.D=b;this.H=J4(this.D);this.C=null};function ksh(a){this.F=a}ksh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.ld(b.C))?L4(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment re-opened"]:[]};ksh.prototype.D=ea(0);function lsh(a,b){this.F=a;this.H=N4(this.F);this.J=b}lsh.prototype.C=function(a,b){var c=this.H.ld(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.lx())return["Draft comment"];b=[];c=m5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Vj()){var h=this.J;var k=f.Z4();null==k?h="":(h=h(k).C(),h=null==h?"":nzd(h,czd.getInstance()))}else h=f.by();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(H4(f.nx())+(" on "+a.format(Kjh(f)))));b.push(h+f)}return b};
lsh.prototype.D=ea(0);function msh(a){this.pgc=a;return this}r(msh,y4);msh.prototype.shouldOverrideHide=g("pgc");msh.prototype.shouldOverrideHide=msh.prototype.shouldOverrideHide;function nsh(a){this.C=a}v(nsh,y4);ra("docos.api.ToggleShowStreamPaneArgs",nsh,void 0);nsh.prototype.getDisplay=g("C");nsh.prototype.getDisplay=nsh.prototype.getDisplay;function osh(a){AA.call(this,a);this.yj("back-to-document",[85]);this.yj("next-doco",[74]);this.yj("prev-doco",[75]);this.yj("prev-anch",[75,1]);this.yj("next-anch",[74,1]);this.yj("resolve",[69]);this.yj("reopen",[69,1]);this.yj("reply",[82]);this.yj("speak-comment",zt(["A","C"]));this.addEventListener("shortcut",this.Ea)}r(osh,AA);osh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function psh(a,b){var c=a.dL,d=a.Y7b,e=a.ccb,f=a.bcb,h=a.Eo,k=a.N3,l='<div class="'+U("docos")+" "+U("docos-streampane-container")+'" role="dialog" aria-label="';l+=jx("Comment history box.");var n='"><div class="'+U("docos-streampane-content")+'">';d?(b='<div class="'+U("docos-streampane-header")+'"><div class="'+U("docos-new-comment-button")+'">',a=a={Eo:h},d="",a.Eo?(d+='<div class="'+U("docos-ns-caption")+'">'+T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+U("docos-ns-caption-text")+'">',d+="Comment</div></div>"):(d+='<div class="'+U("docs-material")+'">'+R(qih({Ti:"docos-icon-add-comment",gC:"docos-icon-add-comment-size",Ge:"docos-new-comment-icon",OS:!0})),d+="Comment</div>"),a=T(d),b=b+R(a)+"</div>",c?(c='<div class="'+U("docos-notification-settings")+'">',h=h={Eo:h},h=h.Eo,h=T('<div class="'+U("docos-ns-caption")+'">'+(h?T('<svg class="'+U("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(qih({Ti:"docos-icon-bell",gC:"docos-icon-bell-size",Ge:"docos-ns-caption-icon"})))+'<div class="'+U("docos-ns-caption-text")+'"><div class="'+U("docos-ns-caption-text-value")+'"></div></div></div>'),h=c+R(h)+"</div>"):h="",k=b+h+(k?'<div class="'+U("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=a.sD,k=a.dL,c=a.gD,a=a.Fv,h='<div class="'+U("docos-streampane-entryarea")+" "+U("hide-on-readonly")+'">'+R(rih({size:48,Ge:"docos-streampane-avatar"}))+'<div class="'+U("docos-streampane-entryarea-content")+
'"><div class="'+U("docos-streampane-username")+" "+U("goog-inline-block")+'">'+R(h)+"</div>"+R(Plh({Ge:"docos-streampane-input-pane",vhc:!0,gD:c,Fv:a},b)),k&&(h+='<div class="'+U("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=T(h+"</div></div>"));l+=n+k;e&&(l+='<div class="'+U("docos-streampane-bannertext")+'">'+R(e),f&&(l+='<a target="_blank" rel="noreferrer" href="'+U(kx(f))+'" class="'+U("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
U("docos-streampane-readonlytext")+" "+U("show-on-readonly")+" "+U("goog-inline-block")+'">';return T(l+"You do not have permission to add comments.</div></div></div>")}function qsh(a){a=a.message;return T('<div class="'+U("docos-streampane-error")+'">'+R(a)+"</div>")};function rsh(a){A.call(this);this.C=[];this.D=!1;this.F=new Iq;this.H=a?!1:!0}r(rsh,A);rsh.prototype.start=function(){this.H=!0;ssh(this)};function ssh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Tk(u(a.J,a)))}rsh.prototype.J=function(){this.C.shift()();this.D=!1;ssh(this)};rsh.prototype.Ka=function(){this.F.dispose();A.prototype.Ka.call(this)};function tsh(){return T('<div class="'+U("docos-spinner")+'" dir="ltr"><div class="'+U("docos-quantum-spinner")+" "+U("active")+'">'+ush({lr:"spinner-blue"})+ush({lr:"spinner-red"})+ush({lr:"spinner-yellow"})+ush({lr:"spinner-green"})+"</div></div>")}
function ush(a){a=a.lr;return T('<div class="'+U("spinner-layer")+" "+U(a)+'"><div class="'+U("spinner-circle-clipper")+" "+U("spinner-left")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-gap-patch")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div><div class="'+U("spinner-circle-clipper")+" "+U("spinner-right")+'"><div class="'+U("spinner-circle")+" "+U("spinner-fit")+'"></div></div></div>')};function vsh(a,b){I4.call(this,a,b);this.D=null}r(vsh,I4);vsh.prototype.Ca=function(){var a=this.oa();this.D=ny(tsh,{},void 0,a);this.pb(this.D)};vsh.prototype.kf=function(){this.D.parentElement.removeChild(this.D)};vsh.prototype.Ka=function(){delete this.D};function wsh(a,b){Vo.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=P4(this.O);this.Ng=null;this.R=new AA(this.C.oa().Ib());this.R.yj("blur",27);this.V=new Uz(this);this.qa(this.V);this.V.yb(this.J.Ta("docos-new-doco"),mt,this.fTb).yb(this.J.Ta("docos-highlight-doco"),mt,this.eTb);this.listen(this.C,"bd",this.dTb).listen(this.C,"br",this.gTb)}r(wsh,Vo);
function xsh(a){0==a.D&&0<a.C.tc()&&(a.D=ysh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.tc();c++)ysh(a,c)==a.D&&(b=c);zsh(a);k6(a.C,!1);b=a.C.Bc(b).getId();b=new gih(b,a.C.getId());a.J.yf("docos-before-highlight-doco").qb(b);a.J.yf("docos-highlight-doco").qb(b)}}function zsh(a){a.Ng||(a.Ng=new Nx(a.C.oa().Ib()),a.qa(a.Ng));a.listen(a.Ng,"focusin",a.Z_a).listen(a.R,"shortcut",a.WQa)}m=wsh.prototype;
m.Z_a=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,Ash(this,!0),k6(this.C,!0),this.Gc(this.Ng,"focusin",this.Z_a).Gc(this.R,"shortcut",this.WQa),a=A4(),this.J.yf("docos-before-highlight-doco").qb(a),this.J.yf("docos-highlight-doco").qb(a))};m.WQa=function(){k6(this.C,!1);Ash(this,!1)};
m.eTb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Hc(a)){if(this.D=q5(N4(this.O),b.C),b.D==this.C.getId()){zsh(this);Ash(this,!1);a instanceof Jph&&(a.Mh(!0),Oph(a,!0));k6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof Jph)a:if(Aph(a),a.D)a.D.ready(void 0,void 0,!0),a.D.V.focus();else{b=m5(a.ld(),!1);for(var c=b.length-1;0<=c;c--)if(vph(a.H[b[c].getId()]))break a;vph(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,k6(this.C,!0),Ash(this,!0)};
m.fTb=function(a){a=a.data;var b=t5(N4(this.O),a.$p);if(b){for(var c=0;c<this.C.tc();c++)if(b.getId()==this.C.Bc(c).getId()){this.D=a.$p;break}this.F=!0;k6(this.C,!1,!0);Ash(this,!1)}};m.dTb=function(){Bsh(this)};m.gTb=function(){N4(this.O).va||Bsh(this)};function Bsh(a){if(1==a.C.tc())a.D=0,k6(a.C,!1);else{for(var b=0,c=0;c<a.C.tc();c++)if(ysh(a,c)==a.D){b=c;break}b==a.C.tc()-1?b--:b++;a.D=ysh(a,b);a.F=!0;k6(a.C,!1,!0);Ash(a,!1)}}
function Ash(a,b){for(var c=L9a(a.C),d=0;d<c.length;d++){var e=a.C.Hc(c[d]);e instanceof Jph&&(e.Mh(b),Oph(e,b))}}function ysh(a,b){return q5(N4(a.O),a.C.Bc(b).getId())};function Csh(a,b,c,d){this.D=a;this.H=b;this.C=c||null;this.F=d||null};function l6(a,b,c,d){I4.call(this,a,d);this.Ja=c;this.context=a;this.D=b;this.D.DCa(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.va=new Uz(this);this.qa(this.va);a=N4(this.context);this.getHandler().listen(a,"bu",this.Q8b).listen(a,"dd",this.t9b).listen(a,"f",this.S9b).listen(a,"sd",this.Bac).listen(a,"ud",this.nbc).listen(b,"rv",this.Ddc).listen(this,"ra",this.mac).listen(this,"sd",this.Sac).listen(this,"sr",this.Tac).listen(this,"sn",this.Cac).listen(this,"sp",
this.Dac).listen(this,"bd",this.R8b).listen(this,"ar",this.D8b).listen(this,"ph",this.k$b);Bih(this)}v(l6,I4);m=l6.prototype;
m.Ia=function(){l6.Ya.Ia.call(this);Fz(this.getElement(),"docos");Ex(this.getElement(),["docos","docos-stream-view"]);ux(this.getElement(),"list");kkh(this.C)?Dx(this.getElement(),"docos-stream-view-height"):(Dx(this.getElement(),"docos-stream-view-legacy"),Dx(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&Dx(this.getElement(),"docs-gm");Ex(this.ub(),this.D.iR());this.getHandler().listen(this,"rd",this.vgb);var a=P4(this.context);this.va.yb(a.Ta("docos-highlight-doco"),
mt,this.Fja);J4(this.context).wb&&Cx(this.getElement(),"docos-layout-vertical")&&(this.R=new wsh(this.context,this),this.F=this.kb.createElement("DIV"),Dx(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.Vy).listen(this.F,"focus",this.Fac),Dsh(this).appendChild(this.F),this.ma=new zB);this.RGa()};m.yKa=ea(!0);m.uba=function(){this.D.fL();Esh(this);this.D.lL(!0);this.dispatchEvent("ail")};m.Vy=function(){xsh(this.R)};m.Fac=function(){var a=this.R;a.H=!0;xsh(a)};
m.RGa=function(){var a=N4(this.context);if(Wd(a.C)){this.D.lL(!1);a=he(a.C);for(var b in a)Fsh(this,b);this.D.IK();this.uba()}};m.iB=function(a,b){for(var c=this.tc()-1;0<=c;--c){var d=this.Bc(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.iB()}};
m.Fja=function(a){var b=a.data;a=b.C;var c=b.D;b=b.H;if(!this.context.V&&this.D.pla(a,c)){if(this.ma&&a&&this.D.rr()!=a){var d=this.tc();d="Comment "+(Yw(this,this.Hc(a))+1+(" of "+(d+" ")));AB(this.ma,d)}this.dispatchEvent("us");this.D.Mqa(a,c,b);Esh(this);this.dispatchEvent("ud")}};m.Q8b=function(a){a=ia(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.dk;c=c.C;b&&(N4(this.context).ld(b),(c=this.Hc(b)||c&&this.Hc(c))?(c.getId()!=b&&c.Ic(b),this.J.push(b)):this.O[b]=!0)}};m.t9b=function(a){this.H.push(a.C)};
function Esh(a){a.Ba||a.D.Pz()}m.S9b=function(a){this.D.lL(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)Gsh(this,this.H[b]);for(var c in this.O)Fsh(this,c);ce(this.O)||this.D.IK();for(b=0;b<this.J.length;++b)Hsh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.fL();this.D.Pz();this.Ba=!1;this.D.lL(!0)};m.vgb=function(a){this.Hc(a.dk)&&(this.D.L0(a.dk),Esh(this))};m.Bac=function(a){a.C&&this.Hc(a.C)&&this.D.ema(a.C)};m.nbc=function(a){a.C&&this.Hc(a.C)&&this.D.ema(a.C)};
m.mac=function(a){var b=N4(this.context).ld(a.dk);if(a=J4(this.context).H.reanchor)b=l5(b),b=lih("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};m.Sac=function(a){var b={text:a.C,yn:a.yn,$p:a.$p,Egb:a.yn,j2:a.j2};a.yn&&J4(this.context).Rc&&(b.quote=(0,J4(this.context).Rc)(a.yn));a.yn&&J4(this.context).Sa&&(b.yn=(0,J4(this.context).Sa)(a.yn));0==a.bl&&(b.zf=105);P4(this.context).yf("docos-new-doco").qb(b)};
m.Tac=function(a){var b=N4(this.context).ld(a.dk);if(!b)throw Error(a.dk+" not contained within appropriate stream.");var c=P4(this.context),d=0==a.bl?105:null;b.isResolved()?c.yf("docos-resolve-doco").qb(new Cih(a.dk,!1,a.C,d)):c.yf("docos-new-reply").qb(new Csh(a.dk,a.C,a.j2,d))};m.Cac=function(){this.D.highlightNext()};m.Dac=function(){this.D.highlightPrevious()};m.R8b=function(){this.D.Cja()};m.D8b=function(){this.D.Aja()};
function Fsh(a,b){var c=N4(a.context).ld(b);c&&a.Ja(c)&&!a.Hc(b)&&(a.dispatchEvent("us"),a.D.WP(c),a.dispatchEvent("ud"),a.R&&k6(a,!0))}function Hsh(a,b){a.dispatchEvent("us");var c=a.Hc(b);if(c){var d=N4(a.context).ld(b);d&&a.Ja(d)?(c.update(),a.D.L0(b)):Gsh(a,b)}a.dispatchEvent("ud")}function Gsh(a,b){b&&(a.dispatchEvent("us"),a.D.pU(b),a.dispatchEvent("ud"))}m.Ddc=function(a){for(var b=a.sKa.length,c=0;c<b;++c)Gsh(this,a.sKa[c])};m.z8=function(){for(var a=this.tc(),b=0;b<a;++b)this.Bc(b).z8()};
function Dsh(a){return(a=a.getElement())?a.parentElement:null}function k6(a,b,c){if(!b&&!c||0!=a.tc())a.oa().Vi(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Vi(a.F,b))}m.Ka=function(){l6.Ya.Ka.call(this);delete this.va};m.k$b=function(){var a=this.D.vX();null==a||a.isDisposed()||(a.update(),a.focus())};function Ish(a,b,c,d){l6.call(this,a,b,c,d);this.Na=new rsh;this.L=[];this.Qa=new vsh(a,d);this.Ea=!1;this.V=null}r(Ish,l6);m=Ish.prototype;m.yKa=g("Ea");m.uba=function(){l6.prototype.uba.call(this);this.Qa.kf();this.Ea=!0;this.V&&this.Fja(this.V)};m.VGa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Hc(b)||(Fsh(this,b),a++)}0==this.L.length?this.uba():(a=this.Na,b=u(this.VGa,this),a.C.push(b),ssh(a))};
m.RGa=function(){var a=N4(this.context);if(Wd(a.C)){this.Qa.render(Dsh(this));this.D.lL(!1);a=he(a.C);for(var b in a)this.L.push(b);b=this.Na;a=u(this.VGa,this);b.C.push(a);ssh(b)}};m.Fja=function(a){this.Ea?l6.prototype.Fja.call(this,a):this.V=a};function Jsh(a,b,c,d,e){Z5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];J4(a).Oc&&(c=c.concat(["link"]));this.L=new rkh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);Aph(this);this.Ja+=" docos-streamdocoview-input-pane";this.Pb="Discard reply";this.Ba=this.V=this.Na=this.Va=this.Ra=this.Ea=null}r(Jsh,Z5);m=Jsh.prototype;
m.Ca=function(){Z5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Ea=a.cb("docos-streamdocoview-inputcontainer",b);this.Ra=a.cb("docos-streamdocoview-reopen-control",b);this.Va=a.cb("docos-streamdocoview-resolve-control",b);this.L.Wa(a.cb("docos-actionmenu-outer",b));zx(this.L.F.La(),"More options");this.Na=a.cb("docos-author",b);this.V=qV(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=qV(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.oa();b=this.getElement();var c=a.cb("docos-docoview-comment",
b);c&&(J4(this.getContext()).C.C(c,"Reply to this comment"),zx(c,"Reply to this comment"));if(c=a.cb("docos-docoview-resolve",b))J4(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),zx(c,"Mark as resolved and hide discussion");if(a=a.cb("docos-docoview-reopen",b))J4(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),zx(a,"Mark as open and return discussion to the document view")};
m.Ia=function(){Z5.prototype.Ia.call(this);Ksh(this);var a=this.getElement();this.D.Ba=a;K4(K4(K4(K4(this,this.L,"d",this.i4a),this.L,"e",this.D9b),this.L,"r",this.xac),this.L,"ra",this.oac);a=this.ld().nx();Lsh(this,a);Msh(this,a);a=J4(this.getContext()).Xg();Fih(M4(this.getContext()),this.Ba,a.D,H4(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ba&&this.C.C.C(this.Ba,a)};m.Ic=function(a){Z5.prototype.Ic.call(this,a);this.L&&tkh(this.L,a)};m.bl=ea(!1);
m.update=function(){Z5.prototype.update.call(this);var a=this.ld().nx();Lsh(this,a);Msh(this,a);this.L.update();Ksh(this);this.Ea&&(a=!ce(this.H)||T5(this.D)||this.yl(),P(this.Ea,a))};function Lsh(a,b){var c=M4(a.getContext()),d=b.D;a.V&&Poh(b,a.ld().getOrigin())&&(d=ylh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));Fih(c,a.V,d,H4(b))}function Msh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Na&&a.C.C.C(a.Na,c),a.V&&a.C.C.C(a.V,c))}
function Ksh(a){var b=a.ld();a.Ra&&P(a.Ra,b.isResolved());a.Va&&P(a.Va,!b.isResolved())}m.L_a=function(a){var b=this.getElement();a=a.target;Cx(a,"docos-docoview-comment")&&b?this.D.ready():Cx(a,"docos-docoview-resolve")&&b?Nsh(this):Cx(a,"docos-docoview-reopen")&&b&&Hph(this)};m.D9b=function(){sph(this.F)};m.xac=function(){this.ld().isResolved()?Hph(this):Nsh(this)};m.oac=function(a){this.dispatchEvent(new Tlh("ra",this.ld().getId()));a.stopPropagation()};
function Nsh(a){var b=P4(a.getContext());a.dispatchEvent("br");var c=new Cih(a.getId(),!0,T5(a.D)?a.D.getValue():null,105);b.yf("docos-resolve-doco").qb(c);a.dispatchEvent("ar")}m.z8=function(){var a=this.F;a.Bb&&!a.H.yl()||nph(a)};m.zd=function(){Z5.prototype.zd.call(this);var a=M4(this.getContext());O4(a,this.V);O4(a,this.Ba)};m.Ka=function(){Z5.prototype.Ka.call(this);delete this.L;delete this.Na;delete this.V;delete this.Ba;delete this.Ea;delete this.Ra;delete this.Va};function Osh(a,b,c,d){this.C=a;this.H=b;this.hb=c;this.D=d}Osh.prototype.F=function(a){a=N4(this.C).ld(a);var b=this.H.yk().getId();switch(a.getNewDocoType()){case "draft":return new Vph(this.C,a.getId(),b,l5(a),this.hb,this.D);default:return new Jsh(this.C,a.getId(),b,this.hb,this.D)}};function Psh(a,b){a6.call(this,a,b)}r(Psh,a6);m=Psh.prototype;m.b5=function(){return"none"!=J4(this.getContext()).jb};m.aqa=function(a){return(new Osh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.zW=function(a,b){a=a.ld();b=b.ld();if(!a||!b)throw Error("Doco view missing doco.");var c=b6(this).jb;b6(this).Xg().getEmail();switch(c){case "creation":c=b.Nu().getTime()-a.Nu().getTime();break;case "priority":c=a.isResolved()||a.Vj()&&!!Mkh(a);var d=b.isResolved()||b.Vj()&&!!Mkh(a);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=L4(a),c=L4(b),d=tih(d,b6(this))?1:0,c=(tih(c,b6(this))?1:0)-d));c=c||Qsh(this,a,b)||b.AH().getTime()-a.AH().getTime();break;default:c=b.AH().getTime()-a.AH().getTime()}return c||
(a.getId()<b.getId()?-1:b.getId()<a.getId()?1:0)};function Qsh(a,b,c){a=b6(a).Xg().getEmail();var d=new Set,e=new Set;m5(b,!0).forEach(function(f){d.add.apply(d,ja(onh(nnh,f.by())))});m5(c,!0).forEach(function(f){e.add.apply(e,ja(onh(nnh,f.by())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.WP=function(a){var b=this.yk(),c=this.aqa(a),d=0;this.b5()&&(d=this.Ida(c));b.Kf(c,d,!0);c.update();if(c=b=this.kda())b.C!=a.getId()?c=!1:(c=a.rA()?l5(a):void 0,d=J4(this.getContext()).pj,d=null!=c&&d(c),c=null==c||a.isResolved()||!!Mkh(a)||d);c&&(b=D4(jih(C4(B4(a.getId()),this.hH()),b.D)),this.UTa(b,a))};m.pU=function(a){this.yk().Hc(a)&&(a=this.yk().removeChild(a),Tf(a))};m.L0=function(a){if(this.b5()){var b=this.yk();if(a=b.Hc(a)){var c=Yw(b,a),d=this.Ida(a);c!=d&&b.Kf(a,d)}}};
m.Cja=function(){dqh(this,!0,!0)};m.Aja=function(){if(this.H&&this.rr()){var a=this.rr(),b=P4(this.getContext());if(this.hH()){var c=C4(B4(a),this.hH());c.D=!0;c=D4(c);b.yf("docos-before-highlight-doco").qb(c);V5(N4(this.getContext()),a);b.yf("docos-highlight-doco").qb(c)}else V5(N4(this.getContext()),a)}};m.fL=function(){fqh(this)};function Rsh(a){a=a||{};var b=a.rec,c=a.sec,d=a.Ucb,e=a.Tcb;a=a.jfb;if(gx(d)||gx(c)){var f;gx(a)&&gx(c)?f='<a href="'+U(kx(c))+'" title="'+U(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+U("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+U(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return T(b)};function Ssh(a,b){Q.call(this,b);this.C=a}r(Ssh,Q);Ssh.prototype.Ca=function(){this.pb(ny(Rsh,{Tcb:K(this.C,4),Ucb:this.C.Jk(),jfb:K(this.C,5),rec:K(this.C,2),sec:K(this.C,1)},void 0,this.oa()))};function Tsh(a,b){I4.call(this,a,b);this.Tc=new sz(b);this.F=a;for(var c in Wrh){a=Wrh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new nU(d,a,b);this.Tc.Ga(a,!0)}this.D=new yz("",this.Tc,zG.getInstance(),b);zz(this.D,new Hcb(null,9));this.D.zO=!0;this.Ga(this.D)}r(Tsh,I4);m=Tsh.prototype;
m.Ia=function(){I4.prototype.Ia.call(this);var a=this.oa(),b=a.cb("docos-ns-caption",this.getElement());a=a.cb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().De(a,"Notifications");b=J4(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Tc.tc();a++){var c=this.Tc.Bc(a),d=c.getElement();a:{switch(c.Ua()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}K4(this,this.D,"action",this.XTb);K4(this,this.C,"r",this.Fya);K4(this,this.getElement(),"keyup",this.Slb);K4(this,this.Tc,"show",this.WTb);K4(this,this.Tc,"hide",this.VTb);this.Fya()};m.WTb=function(){0<this.Tc.tc()&&this.Tc.Sh(0)};m.VTb=function(a){a.stopPropagation()};m.Slb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.XTb=function(a){var b=a.target.Ua(),c=Flh(this.F);b!=Zrh(c)&&$rh(c,b);this.Fya();a.stopPropagation()};m.Fya=function(){var a=this;!this.C.J&&this.C.dL()?Zrh(Flh(this.F)).then(function(b){for(var c=0;c<a.Tc.tc();++c){var d=a.Tc.Bc(c);d.Jb(d.Ua()==b)}b=!a.C.J&&a.C.dL();a.D.Pa(b)},void 0,this):this.D.Pa(!1)};function Ush(a,b,c,d){I4.call(this,a,b);this.F=new Psh(a,b);this.qa(this.F);this.D=c?new Ish(a,this.F,vfa(Kkh),b):new l6(a,this.F,vfa(Kkh),b);this.Ga(this.D);this.J=a;this.Ba=null;this.Ja=!!d;Mj(this.C.hh,30)||(this.H=new Cnh(a,b),this.qa(this.H),this.Ga(this.H),this.H.va="Add a comment");this.V=null;Mj(this.C.hh,30)&&this.C.dL()&&!this.C.ma&&(this.V=new Tsh(a,b),this.Ga(this.V));this.L=null;this.C.N3()&&(this.L=new aU(b),this.Ga(this.L));this.R=null;Mj(this.C.hh,30)&&(this.R=new cA("",b,"legacy"!=
this.C.F?4:void 0),this.Ga(this.R));this.Ea=new Uz(this);this.qa(this.Ea);this.va=new Ssh(N(this.C.hh,kof,2)||new kof,b);this.Ga(this.va);this.O="";this.ma=null;Bih(this)}v(Ush,I4);m=Ush.prototype;m.h1a=0;m.Qz=null;m.aca=null;m.YW=null;m.OD=null;m.gH=null;
m.Ca=function(){var a="legacy"!=this.C.F,b=this.oa(),c=ny(psh,{sD:this.C.Xg().getName(),dL:this.C.dL(),Y7b:!!Mj(this.C.hh,30),gD:this.C.Ea,ccb:this.C.jw,bcb:this.C.$s,Eo:a,N3:this.C.N3(),Fv:$4(this.C)},void 0,b);Mj(this.C.hh,30)&&Dx(c,"docos-enable-docs-header");a&&Dx(c,"docs-gm");this.pb(c);a=b.cb("docos-streampane-content",c);this.D.render(a);this.gH=Mj(this.C.hh,30)?this.D.ub():this.C.O;this.va.render(c);this.aca=b.cb("docos-streampane-username",c);this.YW=qV(b,"IMG","docos-streampane-avatar",
c)};
m.Ia=function(){Ush.Ya.Ia.call(this);var a=this.oa(),b=this.getElement();this.H&&this.H.Wa(a.cb("docos-streampane-input-pane",b));if(this.V){var c=a.cb("docos-notification-settings",b);this.V.Wa(c)}c=J4(this.J).C;if(this.L){var d=a.Fa("docos-priority-checkbox",b);this.L.render(d);this.L.Jb(!0);this.L.setContent("For you");K4(this,this.L,"action",this.udb);c.C(this.L.La(),"Sort by discussions relevant to me")}this.R&&(a=a.cb("docos-new-comment-button",b),this.R.Wa(a),c.C(a,this.C.Na?"Add comment not available":"Add a comment"),
K4(this,this.R,"action",this.pgb),this.b6a(),this.getHandler().listen(this.C,"r",this.b6a));this.C.va&&(b=this.C.va,this.H&&(this.H.Ba=b));Dp(b,!0);this.OD=new osh(b);Lo(this.OD,"next-doco",this.H$b,!0,this);this.OD.addEventListener("prev-doco",this.aac,!0,this);Lo(this.OD,"resolve",u(this.mab,this),!0);Lo(this.OD,"reopen",u(this.ugb,this),!0);Lo(this.OD,"back-to-document",this.Xbb,!0,this);Lo(this.OD,"speak-comment",this.Ghc,!0,this);b=P4(this.J);a=this.C.Na?this.d$b:this.tgb;this.Ea.yb(b.Ta("docos-highlight-doco"),
mt,a);this.H&&K4(this,this.H,"p",this.A8b);K4(K4(K4(K4(K4(K4(K4(K4(this,this.getElement(),"click",this.qgb),this.D,"f",this.T9b),this.D,"b",this.U8b),this.D,"e",this.L9b),this.D,"us",this.Rac),this.D,"ud",this.Qac),this.D,"ail",this.Pac),this,["aftershow","afterhide"],this.sgb);b=this.C.Xg();zlh(M4(this.J),this.YW,b.D,H4(b));this.aca&&(a=b.getName())&&this.C.C.C(this.aca,a);this.YW&&(a=b.getName())&&this.C.C.C(this.YW,a);this.Ja||(this.Ba=new JB(this.getElement(),this.oa()),this.qa(this.Ba),KB(this.Ba));
Vsh(this)};m.sgb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof Atf;var d=(new F4(b)).setNonAnchored(!0).setApiEventArgs(new msh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.va&&this.C.va.focus()}};m.z8=function(){this.D.z8()};m.qgb=function(a){Cx(a.target,"docos-streampane-notificationslink")&&!this.C.J&&this.dispatchEvent("dnd")};
m.A8b=function(){var a=this.H.getValue();Ld(a)||(P4(this.J).yf("docos-new-doco").qb({text:a,yn:null,$p:0,quote:null,zf:105}),this.Qz=null)};m.T9b=function(a){if(a=a.target)this.Qz=a.getElement()};m.U8b=function(a){Wsh(this,a)};m.L9b=function(a){Wsh(this,a)};function Wsh(a,b){(b=b.target)&&b.getElement()==a.Qz&&(a.Qz=null)}m.Rac=function(){null!=this.Qz&&(this.h1a=this.Qz.offsetTop)};m.Qac=function(){null!=this.Qz&&this.gH&&(this.gH.scrollTop+=this.Qz.offsetTop-this.h1a)};m.Pac=function(){this.dispatchEvent("initial-load-complete")};
m.tgb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.L)&&Xsh(this,a.C||null);if(a=a.C?this.D.Hc(a.C):null)this.Qz=a.getElement()};m.d$b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?N4(this.J).ld(b):null)&&(b=(new F4("toggle-show-stream-pane")).addAnchorId(l5(b)).addDocoHandle(q5(N4(this.J),b.getId())).setNonAnchored(!(b.rA()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new nsh(!0)).build(),c(b));Xsh(this,a.C||null)};
function Xsh(a,b){(b=b?a.D.Hc(b):null)?(a.Qz=b.getElement(),a.gH&&(a.gH.scrollTop=b.getElement().offsetTop)):a.Qz=null}m.H$b=function(){this.F.highlightNext()};m.aac=function(){this.F.highlightPrevious()};m.mab=function(){var a=this.F.vX(),b=this.F.rr();b=b?N4(this.J).ld(b):null;a&&b&&(a=a.F,b.Vj()?mph(a):kph(a,!0))};m.ugb=function(){var a=this.F.vX();a&&kph(a.F,!1)};m.Xbb=function(){var a=P4(this.J),b=this.F.rr();a.yf("docos-back-to-document").qb({dk:b})};m.Ghc=function(){var a=this.F.vX();a&&Iph(a)};
function Vsh(a){if(""!=a.O&&!a.ma&&a.tb()){var b=ny(qsh,{message:a.O});a.ma=new Q;a.ma.Wa(b);a.Kf(a.ma,0)}}m.b6a=function(){this.R.Pa(this.C.Tg)};m.pgb=function(){this.dispatchEvent({type:"create-draft",zf:105})};m.udb=function(){var a=P4(this.J),b=this.L.isChecked();this.gH&&(this.gH.scrollTop=0);a.yf("docos-update-sort").qb({Chc:b?"updated":"priority"})};m.zd=function(){Ush.Ya.zd.call(this);O4(M4(this.J),this.YW)};
m.Ka=function(){Ush.Ya.Ka.call(this);delete this.aca;delete this.YW;delete this.Qz;delete this.gH;delete this.va;delete this.H;delete this.F;delete this.D;delete this.Ea;this.OD&&(delete this.OD,this.OD=null)};function Ysh(a){J(this,a,"gs",-1,null,null)}v(Ysh,I);Ysh.prototype.ea=function(){var a=new E;var b=this.Vn();null!=b&&a.Aa(1,b,pof);return Y(a)};Ysh.pe="gs";Ysh.prototype.Vn=function(){return N(this,oof,1)};function Zsh(a){J(this,a,0,-1,null,null)}v(Zsh,I);Zsh.prototype.ea=function(){var a=new E;var b=this.Vn();null!=b&&a.Aa(1,b,pof);return Y(a)};Zsh.prototype.Vn=function(){return N(this,oof,1)};function $sh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=Xp();phh(this.H,"netIo")&&this.F.resolve()}r($sh,A);function Zrh(a){if(a.C)return Tp(ath(a.C));a.D||(a.D=a.F.C.then(function(){return new Sp(function(b,c){rlh(a.H.get("netIo"),"uc",void 0,function(d){return b(new Ysh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Vn();a.D=null;return ath(a.C)},void 0,a)}
function $rh(a,b){var c="all"==b;b="none"==b;var d=(new oof).Pa(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new Zsh;b=Yj(b,1,a.C);rlh(a.H.get("netIo"),"uc",b)}function ath(a){return Pj(a,2,!0)?Mj(a,3)?"all":Pj(a,4,!0)||Pj(a,5,!0)?"important":"none":"none"};function bth(a,b){var c=a.ld(),d=b.ld();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.Nu();a=d.Nu();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function cth(a,b){this.C=a;this.vd=b}cth.prototype.ld=g("C");cth.prototype.getPosition=g("vd");function dth(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function eth(a,b){return a.C().Bc(b).getId()}function fth(a,b){for(var c=a.C().tc(),d=0;d<c;++d)a.H(eth(a,d),Infinity);a.layout(b||[])}m=dth.prototype;m.layout=function(a){do{var b=a;gth(this,0,this.C().tc(),1,-Infinity,this.wmb,this.xmb,b);b=a;gth(this,this.C().tc()-1,-1,-1,Infinity,this.Zbb,this.$bb,b);a.pop()}while(0<a.length)};function hth(a,b){0==a.D&&(a.D=1);a.F=sd(b,a.F);wd(a.F)}
function ith(a){0!=a.D&&(2==a.D?fth(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function gth(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=eth(a,b);var n=b;n=a.C().Bc(n).getHeight();var q=a;var t=b;t=q.C().Bc(t).ld().getId();q=q.J(t);t=a.L(l);e=kd(k,l)?q:h(n,q,t,e);a.H(l,e);e=f(n,e)}}m.wmb=function(a,b){return b+a+10};m.Zbb=function(a,b){return b-10};m.xmb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.$bb=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function jth(a,b){var c=this;c6.call(this,a,b);this.F={};this.ma={};this.Ea=new dth(u(this.yk,this),u(this.MWa,this),u(this.nsa,this),u(this.vfc,this));this.Va=J4(a).To;this.Ja=new VK;this.jb=!0;this.Bb=new Rq(this.Tjc,500,this);this.Qa=this.Sa=null;this.Na=Glh(a);this.wb=new Do;this.qa(this.wb);Eo(this.wb,this.Na.D,function(){c.Ra=!0;c.bb&&kth(c,c.bb);ith(c.Ea);c.rb&&c.Pz();c.Ra=!1});this.rb=!1;this.bb=null;this.Xa=this.Ra=!1}v(jth,c6);var lth=null;m=jth.prototype;
m.iR=function(){var a=jth.Ya.iR.call(this);a.push("docos-layout-vertical");return a};m.b5=ea(!0);m.lL=da("jb");m.zW=function(a,b){a=a.ld();b=b.ld();if(!a||!b)throw Error("Doco view missing doco.");var c=q5(N4(this.getContext()),a.getId()),d=q5(N4(this.getContext()),b.getId());return bth(new cth(a,this.C[c]||new Vm(Number.MAX_VALUE,Number.MAX_VALUE)),new cth(b,this.C[d]||new Vm(Number.MAX_VALUE,Number.MAX_VALUE)))};m.L0=function(a){this.IK(a,!1)};m.vAa=function(a){jth.Ya.vAa.call(this,a);this.Pz()};
m.Z1a=function(){for(var a=this.yk(),b=a.tc(),c=0;c<b;c++){var d=a.Bc(c);d.getId()!=this.rr()&&d.getId()!=this.uX()&&d.bba()&&d.collapse()}};m.fL=function(){qqh(this);fqh(this);for(var a=this.yk(),b=a.tc(),c=0;c<b;++c){var d=a.Bc(c);d.bba()&&!d.yl()&&d.GBa()}a=[];(b=this.rr())&&a.push(b);this.Na.C||this.Ra?(b=this.Ea,b.D=2,hth(b,a||[])):fth(this.Ea,a);mth(this)};m.x3=function(a){this.Sa=a.clone();this.Qa&&this.Qa.contains(a)?this.Bb.start():(a=this.Bb,a.stop(),a.Eta())};
m.Tjc=function(){if(this.O){this.Qa=this.Sa.clone();var a=this.yk();this.Qa.expand(500,0,500,0);var b=a.tc(),c="";0<b&&(c=a.Bc(b-1).getId());for(var d=0;d<b;d++){var e=a.Bc(d),f=this.ma[e.getId()];f=nth(e,this.Qa,f.y,c);e.setVisible(f)}}};
m.Pz=function(){jth.Ya.Pz.call(this);if(this.Na.C)this.rb=!0;else{ith(this.Ea);var a=this.yk(),b;for(b in this.F){var c=a.Hc(b);if(c){var d=b==this.rr()||b==this.uX()?-10:this.Va,e=!c.Eya();b!=this.rr()&&b!=this.uX()&&this.ob&&(e=e&&this.ob.Va);this.mja(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}mth(this);this.rb=!1}};function nth(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.yl()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function mth(a){var b=b6(a).H.bounds;b&&(a=a.w3(),!lth&&!a||Bd(lth,a)||(lth=a,a=(new F4("bounds")).setUserInitiated(!0).build(),b(a)))}m.nsa=function(a){if(a&&!(a in this.F))if(b6(this).Va){var b=this.MWa(a);null!==b&&(this.F[a]=b)}else if(b=this.yk().Hc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.vfc=function(a,b){this.F[a]=b};m.IK=function(a){qqh(this);if(b6(this).Va)oth(this);else{var b=[];this.rr()&&b.push(this.rr());a&&b.push(a);pth(this,b)}};
function oth(a){b6(a).Va&&(a.F={});var b=a.rr();pth(a,b?[b]:[])}function pth(a,b){a.Na.C||a.Ra?hth(a.Ea,b):a.Ea.layout(b)}m.eL=function(a){var b=Yd(a),c=Wd(this.C),d=b.length!=c;this.Xa=b.length>c;b=ia(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Xa=!0;break}}d&&(this.Na.C?this.bb=a:kth(this,a))};
function kth(a,b){a.C=b;qth(a);qqh(a);a.Xa&&(fqh(a),a.Xa=!1);oth(a);b=a.Ja.jf();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.WP(d)}a.IK();a.Pz();a.bb=null}function qth(a){var b=Object.keys(a.C);b.sort(u(a.vcc,a));a.Ja.clear();for(var c=N4(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=t5(c,parseInt(e,10));f&&c.ma(f)&&a.Ja.set(e,a.Ja.qe())}}
m.vcc=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=t5(N4(this.getContext()),c);d=t5(N4(this.getContext()),d);return bth(new cth(c,b),new cth(d,a))};m.pU=function(a){jth.Ya.pU.call(this,a);qth(this)};m.Ida=function(a){a=q5(N4(this.getContext()),a.getId()).toString();var b=this.Ja.get(a);null==b&&(qth(this),b=this.Ja.get(a));return b};
m.mja=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Sa){var h=this.yk();f=h.tc();h=h.Bc(f-1).getId();f=nth(c,this.Sa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.jb&&l&&this.yk().tc()<rth(this);k=this.jb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));pih(this.J,h);var n=new shh(e,[a,b],f,GM);oih(this.J,h,n,f,function(){return Tf(n)})}else qw(e,
a,b),f||c.setVisible(!1);c.Cc=-10==a;this.ma[h]=new Vm(a,b);this.F[h]=b}};function sth(a,b){return(a=a.C[b])?a.y:null}m.MWa=function(a){a=q5(N4(this.getContext()),a);return sth(this,a)};m.Bsa=function(a,b){a=sth(this,a);return null===a?null:new Vm(b?-10:this.Va,a)};
m.w3=function(){var a=this.yk();if(!a||!a.tb())return null;var b=a.tc();if(!b)return null;var c=a.Bc(0);b=a.Bc(b-1);a=b.getElement();c=this.nsa(c.getId());b=this.nsa(b.getId());return null!=c&&null!=b?[c,210+this.Va,b+a.offsetHeight,this.Va]:null};function rth(a){a=b6(a);return(a=null!=K(a.hh,47)?K(a.hh,47):null)?a:100};function tth(a){this.Ur=a;return this}r(tth,y4);tth.prototype.getSource=g("Ur");ra("docos.api.WriteFeedbackArgs",tth,void 0);tth.prototype.getSource=tth.prototype.getSource;if(!uth)var uth=ea("");if(!vth)var vth=ea("");function m6(a,b){var c=this;A.call(this);this.Rc=Oa();this.J={};this.F=new Elh;var d=m6.__default_config;d&&je(this.J,d);a&&je(this.J,a);this.D=new ikh(this.J,b);this.F.Ff("config",this.D);this.ma={};Mj(this.D.hh,17)&&(this.Za=new qlh,this.F.Ff("errorReporter",this.Za),this.Cya=this.Za.F.C(this.Cya));this.Ba=null;this.V={};this.Ja=null;this.Va=!1;this.Xa=!0;this.R=new Orh(this.F,this.D,this);wth(this,"s",function(){c.C.Sa=!0;if(0<Wd(c.C.C)){xth(c);var e=c.D.Bm;e&&e(43082,3E4)}});wth(this,"fe",u(this.nTb,
this));wth(this,"p",u(this.kTb,this));this.Bb=new jsh(this,this.F);fhh();this.Cya()}v(m6,A);ra("Docos",m6,void 0);ra("docos.api.connect",function(a){return new m6(a)},void 0);m=m6.prototype;m.E5a=!1;m.jU=null;m.Za=null;m.n8=null;m.wv=null;m.zn=null;m.Tt=null;m.G_a=!1;m.RDa=null;m.Ju=null;m.fT=null;
m.Cya=function(){if(this.Za)for(var a in m6.prototype)Ha(this[a])&&(this[a]=this.Za.F.C(this[a]));this.bb=new xlh(this.D);this.F.Ff("imageManager",this.bb);a=new $sh(this.F);this.F.Ff("subscriptionManager",a);this.va=new Tqh(this.F);this.F.Ff("impressionRecorder",this.va);this.fb=fld(Yo());this.qa(this.fb);this.$c=new slh(this.fb);this.F.Ff("relativeDateFormatter",this.$c);this.C=new joh(this.D);this.F.Ff("stream",this.C);this.Qa=new zrh(this.F);this.qa(this.Qa);this.Oa=new Vo(this);this.qa(this.Oa);
this.Ea=null;this.O=new Zkh(this.F);this.F.Ff("controller",this.O);this.H=new grh(this.F,this.O);if(Mj(this.D.hh,19)){this.Ea=new esh(this.F);this.qa(this.Ea);a=this.Ea;var b=u(this.aFb,this),c=u(this.Ava,this);a.C?a.C.HWa(u(a.WAb,a,b),u(a.VAb,a,c)):c()}else this.Ava();this.fT=yth(this);this.F.Ff("contactStore",this.fT);this.Ra=this.D.Xg().getEmail()?new Cqh(this.fT,this.D.Xg(),this.va,this.D.Cm):null;a=P4(this.F);this.L=this.Hb=null;ap("docs-aria-speakable")&&(this.Hb=Nxf(void 0,!0),this.L=new Mtf(this.Hb,
a),this.L.bind("docos-new-doco",new Urh),this.L.bind("docos-new-reply",new Vrh),this.L.bind("docos-delete-doco",new Rqh(this.C)),this.L.bind("docos-resolve-doco",new ksh(this.C)),this.L.bind("docos-speak-doco",new lsh(this.F,this.J.quoterenderfn)),this.L.bind("docos-edit-doco",new Vqh));this.Sa=new Uz(this);this.qa(this.Sa);this.Sa.yb(a.Ta("docos-cancel-insert-discussion"),mt,this.Z8b).yb(a.Ta("docos-delete-doco"),mt,this.iTb).yb(a.Ta("docos-reject-doco-with-feedback"),mt,this.p9b).yb(a.Ta("docos-convert-doco"),
mt,this.k9b).yb(a.Ta("docos-before-highlight-doco"),mt,this.mAa).yb(a.Ta("docos-highlight-doco"),mt,this.Bya).yb(a.Ta("docos-new-doco"),mt,this.jTb).yb(a.Ta("docos-resolve-doco"),mt,this.mTb).yb(a.Ta("docos-back-to-document"),mt,this.O8b).yb(a.Ta("docos-new-reply"),mt,this.G$b).yb(a.Ta("docos-write-feedback"),mt,this.Dbc).yb(a.Ta("docos-disable-smart-todo-feature"),mt,this.u9b).yb(a.Ta("docos-vote-doco"),mt,this.zbc).yb(a.Ta("docos-vote-reply"),mt,this.Abc).yb(a.Ta("docos-update-sort"),mt,this.pbc).yb(a.Ta("mouse-hover-doco-view"),
mt,this.C$b);this.Oa.listen(this.C,"dd",this.z$b).listen(this.C,"af",this.C8b).listen(this.C,"bu",this.y$b).listen(this.C,"p",this.P$b).listen(this.D,"r",this.D1)};function yth(a){var b=Tnd("client").then(function(){var c=sa("gapi.config.update");a.D.Gqa&&c("googleapis.config/sessionIndex",a.D.Gqa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return sa("gapi.client")});return new Pqh(a.D,hsh(a.D,b),a.Rc)}
function xth(a){a.fT&&!a.fT.C&&akh(a.D.D)&&okh(a.D)&&Rmh(a.fT)}function zth(a){if(!a.Tt){Ath(a);var b=a.F,c=Yo(a.D.O);var d=a.D;d=oy()?d.Bb&&!z(y(),"docs-ehspc"):d.Bb;a.Tt=new Ush(b,c,d,a.D.Xe);a.Oa.listen(a.Tt,"dnd",a.zwb);a.Oa.listen(a.Tt,"initial-load-complete",a.DLb);a.Oa.listen(a.Tt,"create-draft",a.Zd)}return a.Tt}m.zwb=function(){this.jb()};m.DLb=function(){var a=j6(this,"initial-pane-render-done");if(a&&this.RDa){var b=Oa()-this.RDa;a(new mih("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.O;this.C.O=a;var c=this.C,d=this.D,e={},f=c.O;c=he(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.rA()&&!Lkh(k)){var l=Boh(k,f,d);k=he(k.D);for(var n in k)l+=Boh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,je(a,e),this.wv.iB(a));this.V=e;e={};for(var q in this.V)e[q5(this.C,q)]=this.V[q];return e};m6.prototype.find=m6.prototype.find;m6.prototype.qd=function(){this.C.O&&(this.C.O=null,this.wv.iB(this.V,!0),this.V={})};m6.prototype.clearFind=m6.prototype.qd;
m6.prototype.Ys=function(){var a=this.D;var b=Aoh(this.C,a);b?(b=b.getKey(),a=(a=Doh(b,a))?op(a).textContent:null):a=null;return a};m6.prototype.getSelectedMatchA11yContext=m6.prototype.Ys;m6.prototype.highlightNext=function(a,b,c){this.zn&&this.zn.highlightNext(!!a,b,c)};m6.prototype.highlightNext=m6.prototype.highlightNext;m6.prototype.highlightPrevious=function(a,b,c){this.zn&&this.zn.highlightPrevious(!!a,b,c)};m6.prototype.highlightPrevious=m6.prototype.highlightPrevious;
m6.prototype.select=function(a,b){var c=t5(this.C,a);a=c?c.getId():"";b=c?new fY(a,b):null;c=this.C.Ba;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.Ba=b;b=c?this.wv.Hc(c.getKey()):null;c=this.wv.Hc(a);b&&b!=c&&b.iB();if(c){c.bba()&&(b=zoh(N4(this.F),this.D),c.expand(b?b.getKey():void 0));c.iB();b=yoh(this.C,this.wv);d=P4(this.F);var e=iih(B4(a));e.C=b?b.start:0;e=D4(e);d.yf("docos-before-highlight-doco").qb(e);V5(N4(this.F),a);
d.yf("docos-highlight-doco").qb(e);if(b&&Xlh(c)&&(a=c.ub())){c=Hw(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};m6.prototype.select=m6.prototype.select;m6.prototype.edc=function(){var a=this.C.Ba;if(a){this.C.Ba=null;(a=this.wv.Hc(a.getKey()))&&a.iB();a=P4(this.F);var b=iih(B4(""));b.C=0;b=D4(b);a.yf("docos-before-highlight-doco").qb(b);V5(N4(this.F),null);a.yf("docos-highlight-doco").qb(b)}};
m6.prototype.unselect=m6.prototype.edc;m6.prototype.kjc=function(){var a=this.C,b=new Znh(a,"c"),c;for(c in a.C)b.C.push(new Xnh(c,void 0,void 0,void 0,void 0));a.dispatchEvent($nh(b));a.flush(!0)};m6.prototype.updateAll=m6.prototype.kjc;m6.prototype.RV=function(){return!!Mj(this.D.hh,19)&&!!this.D.Pb&&!this.D.Ad};m6.prototype.isSavingToOfflineStorage=m6.prototype.RV;m6.prototype.qK=function(){return 0<Mnh.qe()};m6.prototype.hasUnpostedDocos=m6.prototype.qK;
m6.prototype.sK=function(){for(var a=Yd(this.C.V),b=0,c;c=a[b];b++){var d=this.C;if((c=roh(d,c))&&(c.Vj()?llh(d,c):d.ma(c)))return!0}return!1};m6.prototype.hasVisibleAnchoredDocos=m6.prototype.sK;m6.prototype.ipa=function(a){var b=this.C,c=b.va;b.va=a;if(c!=b.va&&this.wv&&(a=this.wv,b=N4(a.context),Wd(b.C))){for(c=a.tc()-1;0<=c;--c){var d=a.Bc(c).getId();Hsh(a,d)}b=he(b.C);for(d in b)Fsh(a,d);a.D.fL();Esh(a);a.D.IK()}};
m6.prototype.D1=function(){Bth(this);0<Wd(this.C.C)&&xth(this);if(this.Tt)if("none"!=this.D.jb){var a=this.Tt.D;a.D.fL();Esh(a)}else this.Tt.z8()};m6.prototype.setResolvedAnchoredDocosVisible=m6.prototype.ipa;m6.prototype.UV=function(a,b,c){return Cth(this,a,b?b:void 0,c)};m6.prototype.newDoco=m6.prototype.UV;
m6.prototype.T0=function(a,b,c){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;Dth(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo()).addCallback(c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.Nmb();g6(f,u(f.rQb,f,a,d,e,b)).addCallback(c);
break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();g6(f,u(f.oQb,f,a,d,e,b)).addCallback(c);break;default:throw Error("Unknown NewDocoArgs type.");}};m6.prototype.interceptingNewDoco=m6.prototype.T0;function Cth(a,b,c,d,e,f,h){Eth(a,b,c);b=alh(a.O,b,d||"draft",e,f,h);Fth(a,b,c);return b}function Dth(a,b,c,d,e,f,h){Eth(a,b,c);return hrh(a.H,b,d||"draft",e,f,h).addCallback(function(k){Fth(a,k,c);return k})}
function Eth(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ob();c&&(a.Ba=c)}function Fth(a,b,c){if(!(0>=b))if(oy()&&"absolute"!=a.D.bb&&z(y(),"docs-ehspc"))c=zth(a),a=t5(a.C,b),c.F&&null!=a&&c.F.WP(a);else if(c){var d={};d[b]=c;n6(a).v3(d)}}
m6.prototype.VV=function(a,b){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return Cth(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),clh(this.O,a,c,d,b.Nmb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,dlh(this.O,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};m6.prototype.newDoco2=m6.prototype.VV;m6.prototype.U0=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");krh(this.H,void 0,a,void 0,void 0,b,void 0).addCallback(function(e){0<e&&d.rb(e);return e}).addCallback(c)};m6.prototype.interceptingNewSuggestion=m6.prototype.U0;
m6.prototype.jN=function(a,b,c){var d=this;lrh(this.H,a,!0,b).addCallback(function(e){Gth(d,a);return e}).addCallback(c)};m6.prototype.interceptingAcceptSuggestion=m6.prototype.jN;m6.prototype.vV=function(a,b,c){var d=this;lrh(this.H,a,!1,b).addCallback(function(e){Gth(d,a);return e}).addCallback(c)};m6.prototype.interceptingRejectSuggestion=m6.prototype.vV;m6.prototype.pN=function(a,b){var c=this.H;g6(c,u(c.LGa,c,a,!0)).addCallback(b)};m6.prototype.interceptingAcceptSuggestions=m6.prototype.pN;
function Gth(a,b){(b=t5(a.C,b))&&a.zn&&a.zn.pU(b.getId())}m6.prototype.xV=function(a,b){var c=this.H;g6(c,u(c.LGa,c,a,!1)).addCallback(b)};m6.prototype.interceptingRejectSuggestions=m6.prototype.xV;m6.prototype.dV=function(a,b){var c=this.H;g6(c,u(c.ufb,c,a)).addCallback(b)};m6.prototype.interceptingDeleteReply=m6.prototype.dV;m6.prototype.rO=function(a,b){var c=this.H;g6(c,u(c.tfb,c,a)).addCallback(b)};m6.prototype.interceptingDeleteReplies=m6.prototype.rO;
m6.prototype.Kh=function(a){return(a=t5(this.C,a))?l5(a):null};m6.prototype.getAnchorData=m6.prototype.Kh;m6.prototype.Zs=function(a){return(a=t5(this.C,a))?a.UE():null};m6.prototype.getSuggestionId=m6.prototype.Zs;m6.prototype.Bl=function(){return this.D.Xg().getId()};m6.prototype.getCurrentAuthor=m6.prototype.Bl;m6.prototype.Kj=function(a){return(a=t5(this.C,a))?a.nx().getId():null};m6.prototype.getAuthor=m6.prototype.Kj;m6.prototype.Zj=function(a){return(a=t5(this.C,a))?a.nx().getName():null};
m6.prototype.getAuthorName=m6.prototype.Zj;m6.prototype.wn=function(a){"string"===typeof a&&(a=this.Na(a));return Hth(this).D.cca(a)};m6.prototype.getDocoPosition=m6.prototype.wn;m6.prototype.getDocoMaxHeight=function(a){return n6(this).getDocoMaxHeight(a)};m6.prototype.getDocoMaxHeight=m6.prototype.getDocoMaxHeight;m6.prototype.Bma=function(a,b){n6(this).Jqa(a,b)};m6.prototype.setDocoMaxHeight=m6.prototype.Bma;m6.prototype.Tg=function(a){a=Ith(this,a);n6(this).eL(a)};m6.prototype.flushAnchors=m6.prototype.Tg;
m6.prototype.ah=function(a){n6(this).eL(a)};m6.prototype.flushDocoPositions=m6.prototype.ah;m6.prototype.dkc=function(a){a=Ith(this,a);n6(this).v3(a)};m6.prototype.updateAnchors=m6.prototype.dkc;m6.prototype.Nkc=function(a){n6(this).v3(a)};m6.prototype.updateDocoPositions=m6.prototype.Nkc;m6.prototype.Sd=function(a){n6(this).bca(cd(a,this.Na,this))};m6.prototype.deleteAnchors=m6.prototype.Sd;m6.prototype.$d=function(a){n6(this).bca(a)};m6.prototype.deleteDocoPositions=m6.prototype.$d;
m6.prototype.Qkc=function(a){this.zn?this.zn.x3(a):this.Ja=a};m6.prototype.updateViewport=m6.prototype.Qkc;m6.prototype.Xe=da("Va");m6.prototype.enableAnchoredDocoAnimations=m6.prototype.Xe;m6.prototype.Pn=function(){return this.D.bb};m6.prototype.getLayoutStyle=m6.prototype.Pn;m6.prototype.Ao=function(){var a=this.D.L;return(a=a?this.C.ld(a):void 0)?l5(a):""};m6.prototype.getLinkedAnchor=m6.prototype.Ao;m6.prototype.To=function(){var a=this.D.L;return null===a?0:q5(this.C,a)};
m6.prototype.getLinkedDoco=m6.prototype.To;m6.prototype.JV=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};m6.prototype.isLinkedDocoDeleted=m6.prototype.JV;function Ith(a,b){var c={};Rd(b,function(d,e){(e=this.Na(e))&&(c[e]=d)},a);return c}m6.prototype.Cna=function(a){this.C.Qa=a};m6.prototype.setActiveSuggestions=m6.prototype.Cna;m6.prototype.On=function(){var a=this.C.R;return a&&a.Vj()?a.getId():null};m6.prototype.getHighlightedSuggestionDocoId=m6.prototype.On;
m6.prototype.Na=function(a){return(a=roh(this.C,a))?q5(this.C,a.getId()):0};m6.prototype.zna=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.RDa=Oa();zth(this).tb()&&(Tf(this.Tt),this.Tt=null);V0e(this.D.O,!1);zth(this).render(this.D.O)};m6.prototype.renderPaneSurface=m6.prototype.zna;m6.prototype.QV=function(){return zth(this).D.yKa()};m6.prototype.isPaneSurfaceRendered=m6.prototype.QV;function n6(a){a.zn||(a.zn=Jth(a),a.Ja&&(a.zn.x3(a.Ja),a.Ja=null));return a.zn}
function Hth(a){if(!a.wv){Ath(a);var b=n6(a);a.wv=new l6(a.F,b,u(a.C.ma,a.C),b.oa())}return a.wv}function Ath(a){if(!a.E5a){a.E5a=!0;var b=a.D.O,c=a.D.Ba;b&&(a.D.Cc||Lw(iqe(""),b),a.D.C.install(b));!c||b&&$o(b)==$o(c)||(a.D.Cc||Lw(iqe(""),c),a.D.C.install(c))}}m6.prototype.xna=function(){if(!this.D.Ba)throw Error("Anchor surface div not specified in config.");Hth(this).tb()&&(Tf(this.wv),this.wv=null,Jth(this));V0e(this.D.Ba,!1);Hth(this).render(this.D.Ba)};m6.prototype.renderAnchorSurface=m6.prototype.xna;
function Jth(a){var b=a.D.bb,c=jth;"absolute"==b&&(c=sqh);if(a.zn&&(a.zn instanceof c||a.zn.$W()instanceof c))return a.zn;var d=Yo(a.D.Ba);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new Crh(c,d));a.zn&&(a.zn.Kqa(c),Tf(a.zn));a.zn=c;a.zn.CCa(a);a.qa(a.zn);return a.zn}
m6.prototype.yna=function(){if(!this.D.Xa)throw Error("Instant docos div not specified in config.");this.Ju&&this.Ju.tb()&&(Tf(this.Ju),this.Ju=null);this.Ju||this.J["enable-gsuite-embedding"]||(this.Ju=new erh(this.F,Yo(this.D.Xa)),this.Oa.listen(this.Ju,"create-draft",this.Pb),this.Ju.render(this.D.Xa))};m6.prototype.renderInstantDocosButton=m6.prototype.yna;m6.prototype.Hra=function(a,b,c){this.Ju&&frh(this.Ju,a,b,c)};m6.prototype.showInstantDocosButtonAt=m6.prototype.Hra;
m6.prototype.ob=function(a){this.Ju&&this.Ju.kf(a)};m6.prototype.hideInstantDocosButton=m6.prototype.ob;m6.prototype.uj=function(){return this.zn?this.zn.w3():null};m6.prototype.getAnchorSurfaceBounds=m6.prototype.uj;m6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.t3(this.J))};m6.prototype.setOption=m6.prototype.setOption;m6.prototype.jw=function(){if(this.Tt){var a=this.Tt;a.C.va&&a.C.va.focus()}};m6.prototype.grabFocus=m6.prototype.jw;
m6.prototype.Hoa=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.t3(this.J)};m6.prototype.setListener=m6.prototype.Hoa;function Kth(a,b){return b&&a.C.ma(b)?b.getId():null}m6.prototype.Cm=function(a){return(a=t5(this.C,a))?a.Nu()?a.Nu().getTime():null:null};m6.prototype.getDocoCreationTime=m6.prototype.Cm;
m6.prototype.rL=function(a,b){var c=P4(this.F);a=roh(this.C,a);a=Kth(this,a);var d=iih(B4(a||""));b&&(b=this.D.Na?this.Tt.D.getId():Hth(this).getId(),C4(d,b));c.yf("docos-before-highlight-doco").qb(D4(d));V5(N4(this.F),a);c.yf("docos-highlight-doco").qb(D4(d))};m6.prototype.highlightAnchor=m6.prototype.rL;
m6.prototype.rb=function(a,b){var c=P4(this.F);a=t5(this.C,a);a=Kth(this,a);var d=iih(B4(a||""));b&&(b=this.D.Na?this.Tt.D.getId():Hth(this).getId(),d=C4(d,b));c.yf("docos-before-highlight-doco").qb(D4(d));V5(N4(this.F),a);c.yf("docos-highlight-doco").qb(D4(d))};m6.prototype.highlightDoco=m6.prototype.rb;m6.prototype.Skc=function(a){var b=P4(this.F);a=t5(this.C,a);a=Kth(this,a);if(null!=a){var c=this.C.ld(a);c&&r5(this.va,e5(d5(c5(new b5,43045),c)));b.yf("docos-speak-doco").qb(a)}};
m6.prototype.verbalizeDoco=m6.prototype.Skc;m6.prototype.uD=function(a){return!!roh(this.C,a)};m6.prototype.hasDocoForAnchorId=m6.prototype.uD;m6.prototype.tD=function(a){return!!t5(this.C,a)};m6.prototype.hasDoco=m6.prototype.tD;m6.prototype.Xp=function(a){return(a=roh(this.C,a))?a.Vj()?!llh(this.C,a):a.isResolved():!1};m6.prototype.getResolvedForAnchorId=m6.prototype.Xp;m6.prototype.EV=function(a){return(a=t5(this.C,a))?a.isResolved():!1};m6.prototype.isDocoResolved=m6.prototype.EV;
m6.prototype.Yl=function(){var a=uoh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};m6.prototype.getDocoCounts=m6.prototype.Yl;m6.prototype.Bm=function(){return uoh(this.C).C.clone().sb()};m6.prototype.getDocoCounts2=m6.prototype.Bm;
m6.prototype.dj=function(){return n6(this).Lqa().C.clone().sb()};m6.prototype.getAnchoredDocoCounts=m6.prototype.dj;m6.prototype.pj=function(){return Yd(this.C.V)};m6.prototype.getAnchors=m6.prototype.pj;m6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};m6.prototype.getDocoHandles=m6.prototype.getDocoHandles;m6.prototype.jb=function(){this.D.dL()&&(this.n8||(this.n8=new Yrh(this.F),this.qa(this.n8)),this.n8.setVisible(!0))};m6.prototype.displayNotificationControlDialog=m6.prototype.jb;
m6.prototype.Cc=function(a){return a.x};m6.prototype.Oc=function(a){return a.y};function Bth(a){if(a.G_a&&!phh(a.F,"netIo")){var b=Arh(a.Qa);b&&(a.F.Ff("netIo",b),a.Za&&(a.Za.H=b),b=a.R,jkh(b.D)?b.D.Sd?Qrh(b.F,"r"):Prh(b)&&Rrh(b):b.L(null),phh(a.F,"subscriptionManager")&&Flh(a.F).F.resolve())}}m6.prototype.Id=function(a){this.R.H.get("netIo").C.wKa(a)};m6.prototype.connectBrowserChannel=m6.prototype.Id;m=m6.prototype;
m.nTb=function(){var a=j6(this,"net-error");a&&a((new F4("net-error")).build());this.D.$c&&(this.setOption("accessLevel","readonly"),a=zth(this),""==a.O&&(a.O="Commenting disabled due to a network error. Please reload the page.",Vsh(a)))};
m.kTb=function(){var a=j6(this,"post-limit-error");a&&a((new F4("post-limit-error")).build());this.D.$c&&(this.setOption("accessLevel","readonly"),a=zth(this),""==a.O&&(a.O="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",Vsh(a)))};m.aFb=function(){Qrh(this,"r");this.Ava()};m.Ava=function(){this.G_a=!0;Bth(this)};m.lTb=function(a){wth(this,"r",a)};m6.prototype.onReady=m6.prototype.lTb;m6.prototype.G1=function(a){wth(this,"s",a)};
m6.prototype.onInitialSyncSuccess=m6.prototype.G1;m6.prototype.E1=function(a){wth(this,"e",a)};m6.prototype.onInitialSyncError=m6.prototype.E1;m6.prototype.Zd=function(a){var b=this.D.H["create-draft"];a=a.zf?a.zf:void 0;if(b)a=(new F4("create-draft")).setApiEventArgs(new f6(!1,void 0,void 0,a)).build(),b(a);else throw Error("Can not create a discussion because the editor did not provide a handler.");};
m6.prototype.Pb=function(){var a=this.D.H["create-draft"];if(a){var b=(new F4("create-draft")).setApiEventArgs(new f6(!0,new Vm(0,this.Ju.D.H),this.Ju.D.O)).build();a(b)}};function wth(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=te(d,c)}else a.ma[b]=c}function Qrh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}m6.prototype.pRb=function(){this.wb()};m6.prototype.tickle=m6.prototype.pRb;
m6.prototype.wb=function(){a:{var a=this.R;if(jkh(a.D)){if(!a.O){if(!a.C&&!Prh(a))break a;Rrh(a)}Irh(a.C,a.D.vga?1:void 0)}}};m6.prototype.sync=m6.prototype.wb;m6.prototype.gh=function(){Srh(this.R)};m6.prototype.fullSync=m6.prototype.gh;m6.prototype.Ad=function(){var a=this.R;jkh(a.D)&&(a.C.J=!0)};m6.prototype.blockFutureSync=m6.prototype.Ad;m6.prototype.BRb=function(){var a=this.R;jkh(a.D)&&(a.C.J=!1)};m6.prototype.unblockFutureSync=m6.prototype.BRb;
m6.prototype.HV=function(){var a=this.R;return jkh(a.D)?a.C.J:!1};m6.prototype.isFutureSyncBlocked=m6.prototype.HV;m6.prototype.jr=function(){var a=this.D;return null!=a.u3?a.u3:6E4};m6.prototype.getRetryBackoffThreshold=m6.prototype.jr;m6.prototype.AV=function(){return this.D.Zba};m6.prototype.isBrowserChannelEnabled=m6.prototype.AV;m6.prototype.GV=function(){return!!Mj(this.D.hh,30)};m6.prototype.isDocsStreamHeaderEnabled=m6.prototype.GV;m6.prototype.OV=function(){return kkh(this.D)};
m6.prototype.isNewDocosStreamPaneUiEnabled=m6.prototype.OV;m6.prototype.isBadgingEnabled=function(){return this.D.kH()};m6.prototype.isBadgingEnabled=m6.prototype.isBadgingEnabled;m6.prototype.pK=function(){return noh(this.C)};m6.prototype.hasPendingContent=m6.prototype.pK;m=m6.prototype;
m.Z8b=function(a){var b=this,c=a.data;a=h5(g5(new f5,43011),c.dk);var d=null!=c.yn;d&&i5(a,c.yn);p5($kh(this.F),j5(a));jrh(this.H,c.dk).addCallback(function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.dk;e||(b.mAa(new nt(d?new gih("",void 0,void 0,void 0,c.yn):A4())),b.Bya(new nt(d?new gih("",void 0,void 0,void 0,c.yn):A4())));var f=j6(b,"deleted");if(f&&c.yn&&c.$p){var h=(new F4("deleted")).addAnchorId(c.yn).addDocoHandle(c.$p).setUserInitiated(!0).build();f(h);b.jU=null}e&&(b.jU=b.C.R)}})};
m.iTb=function(a){a=a.data;Lth(this,a.$p,a.dk,a.dU,void 0,a.zf)};m.p9b=function(a){a=a.data;Lth(this,a.$p,a.dk,a.dU,a.Klb)};function Lth(a,b,c,d,e,f){f=void 0===f?null:f;var h=j6(a,"before-doco-deleted");if(h&&b){var k=l5(t5(a.C,b));d=e?new Xqh(d,e):new Qqh(d);b=(new Nqh("before-doco-deleted")).addAnchorId(k).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();h(b);if(b.C)return}Mth(a,c,!0,e,f)}
m.k9b=function(a){var b=a.data;if((a=j6(this,"converted"))&&b){var c=l5(t5(this.C,b.$p)),d=new e6(c,b.o_a,b.dU);b=(new Nqh("converted")).addAnchorId(c).addDocoHandle(b.$p).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.hTb=function(a){(a=t5(this.C,a))&&Mth(this,a.getId(),!1)};m6.prototype.deleteDoco=m6.prototype.hTb;function Mth(a,b,c,d,e){e=void 0===e?null:e;var f=a.C.ld(b),h=q5(a.C,b);f=l5(f);var k=a.H;g6(k,u(k.rfb,k,b,d,void 0===e?null:e)).addCallback(u(a.O6a,a,f,h,c))}
m6.prototype.O6a=function(a,b,c,d){if(d){d=j6(this,"before-selected");var e=j6(this,"selected"),f=j6(this,"deleted");if(a&&b){if(d){var h=(new F4("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new F4("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new F4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.jU=null}}};m6.prototype.v8b=function(a){return flh(this.O,a)};m6.prototype.undoDeleteDoco=m6.prototype.v8b;
m6.prototype.Lna=function(a){this.Xa=a;P(Hth(this).getElement(),a)};m6.prototype.setDocosGutterVisibility=m6.prototype.Lna;m6.prototype.FV=g("Xa");m6.prototype.isDocosGutterVisible=m6.prototype.FV;m6.prototype.Of=function(){var a=this.Bb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};m6.prototype.enterReanchorMode=m6.prototype.Of;m6.prototype.Ana=function(){var a=this.Bb;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};m6.prototype.resetReanchorMode=m6.prototype.Ana;
m6.prototype.zV=function(a,b){var c=this.H;g6(c,u(c.rjc,c,a)).addCallback(b)};m6.prototype.interceptingUndoDeleteDoco=m6.prototype.zV;m6.prototype.yV=function(a,b){var c=this.H;b=new Kih(b);g6(c,u(c.Qfc,c,a,b))};m6.prototype.interceptingSetSuggestionQuote=m6.prototype.yV;m6.prototype.$s=function(a){a=t5(this.C,a);if(!a)return null;if(!a.Vj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.Z4()};m6.prototype.getSuggestionQuote=m6.prototype.$s;
m6.prototype.eg=function(a,b){return this.Ra?Dqh(this.Ra,a,void 0===b?!1:b):new Bqh(Tp())};m6.prototype.findAssignee=m6.prototype.eg;m6.prototype.rK=function(){return 0<this.C.H.size};m6.prototype.hasUnseenDocos=m6.prototype.rK;m6.prototype.SOb=function(){Glh(this.F).C=!0};m6.prototype.startBatchEvent=m6.prototype.SOb;m6.prototype.nf=function(){var a=Glh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};m6.prototype.endBatchEvent=m6.prototype.nf;m=m6.prototype;
m.mTb=function(a){a=a.data;var b=this.H,c=a.F;g6(b,u(b.cec,b,a.C,a.D,a.H,void 0===c?null:c)).addCallback(u(this.ycc,this,a))};
m.ycc=function(a,b){if(b){b=j6(this,"before-selected");var c=j6(this,"selected");if(c){var d=this.C.ld(a.C),e=q5(this.C,a.C);d&&d.rA()&&e&&(a.D?(b&&(a=(new F4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new F4("selected")).setUserInitiated(!0).build(),c(a),this.jU=null):(b&&(a=(new F4("before-selected")).addAnchorId(l5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new F4("selected")).addAnchorId(l5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.jU=d))}}};
m.zbc=function(a){a=a.data;var b=this.H;g6(b,u(b.kkc,b,a.C,a.D))};m.Abc=function(a){a=a.data;var b=this.H;g6(b,u(b.lkc,b,a.C,a.D,a.F))};m.pbc=function(a){this.setOption("sortpaneby",a.data.Chc);(a=this.D.Qa)&&a(43086)};m.O8b=function(a){var b=this.D.eg;b&&(a=this.C.ld(a.data.dk))&&b(l5(a),!0)};
function Nth(a,b,c){var d=j6(a,c);if(d){var e=a.C.ld(b.C)||null,f=b.F;if(e!=a.jU||"number"===typeof f){var h=new F4(c),k=q5(a.C,b.C);e&&e.rA()&&k&&h.addAnchorId(l5(e)).addDocoHandle(k);k=new y4;var l=b.O;null!=l?k=new Lqh(l):"number"===typeof f?k=new Thh(f):void 0!==b.cU&&(k=new Yqh(b.cU));f=!!e&&!a.C.ma(e);h.setNonAnchored(f).setUserInitiated(b.J).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.jU=e)}}m.mAa=function(a){Nth(this,a.data,"before-selected")};
m.Bya=function(a){var b=a.data;Nth(this,b,"selected");if(a=this.C.ld(b.C)){var c="number"===typeof b.F?4:b.D==Hth(this).getId()?1:b.D==zth(this).D.getId()?2:3;b=d5(c5(new b5,43044),a);b.H=c;2==c&&(b.C=105);r5(this.va,e5(b));a=L4(a)?43106:a.UE()?43107:43105;r5(this.va,e5(c5(b,a)))}};m.G$b=function(a){a=a.data;var b=a.C,c=a.F,d=this.H;c=c?c:void 0;g6(d,u(d.Hab,d,a.D,a.H,null,b?b:void 0,void 0===c?null:c))};
m.Dbc=function(a){var b=a.data;if(a=j6(this,"write-feedback"))b=(new F4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new tth(b.source)).build(),a(b)};m.u9b=function(){var a=j6(this,"disable-smart-todo-feature");if(a){var b=(new F4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};
m.jTb=function(a){var b=this,c=a.data;krh(this.H,c.Egb,c.yn,c.text,c.quote,c.Gla,c.j2,c.zf).addCallback(function(d){if(0<d){var e=c.yn,f=c.$p,h=j6(b,"posted");h&&e&&f&&(e=(new F4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.mAa(new nt(A4()));b.Bya(new nt(A4()))}return d})};
m.C$b=function(a){var b=j6(this,"hover");if(b){a=a.data;var c=lih("hover").setNonAnchored(!a.DQb).setUserInitiated(!0);if(a.JQb){var d=this.C.ld(a.dk);c.addAnchorId(d?l5(d):"");c.addDocoHandle(q5(this.C,a.dk))}b(c.build())}};m.z$b=function(a){if("dd"==a.type){var b=j6(this,"deleted");if(b&&a.C&&a.D&&(a.hs||this.D.Ja)&&a.O&16){var c=(new F4("deleted")).addDocoHandle(a.D);a.hs&&c.addAnchorId(a.hs);a=c.build();b(a)}}};
m.y$b=function(a){if("bu"==a.type){var b=lih("created");this.Ba&&(b.setApiEventArgs(new Sqh(this.Ba,a.C[0].yn)),this.Ba=null);var c=lih("resolved"),d=lih("unresolved");b=Wqh(b,a.C,8);c=Wqh(c,a.C,2);d=Wqh(d,a.C,4);Oth(this,"created",b);Oth(this,"resolved",c);Oth(this,"unresolved",d)}};m.P$b=function(a){if("p"==a.type&&(a=j6(this,"pending"))){var b=(new F4("pending")).setUserInitiated(!0).build();a(b)}};
m.C8b=function(){var a=j6(this,"view-updated");if(a){var b=(new F4("view-updated")).setUserInitiated(!0).build();a(b)}};function Oth(a,b,c){a=j6(a,b);!c.isEmpty()&&a&&a(c.build())}function j6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ka=function(){delete this.zn;delete this.D;delete this.fT;delete this.O;delete this.Za;delete this.Oa;delete this.bb;delete this.Qa;delete this.n8;delete this.Ea;delete this.C;delete this.Sa;Tf(this.Ju);delete this.Ju;Tf(this.wv);delete this.wv;Tf(this.Tt);delete this.Tt;m6.Ya.Ka.call(this);Tf(this.F);delete this.F};ra("Docos",m6,void 0);ra("Docos.Point",Vm,void 0);ra("Docos.Point.getX",m6.prototype.Cc,void 0);ra("Docos.Point.getY",m6.prototype.Oc,void 0);
ra("Docos.AbstractAlteredDocoArgs",Qph,void 0);ra("Docos.NewDraftArgs",Wph,void 0);ra("Docos.LayoutType.ABSOLUTE","absolute",void 0);ra("Docos.LayoutType.VERTICAL","vertical",void 0);ra("Docos.UiVersion.LEGACY","legacy",void 0);ra("Docos.UiVersion.MATERIAL","material",void 0);ra("Docos.UiVersion.MATERIAL_LIGHT_BACKGROUND","material_light_background",void 0);ra("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);ra("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);
ra("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);ra("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);ra("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);ra("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);ra("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);ra("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);ra("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);
ra("Docos.OptionName.DRIVE_ID","drive-id",void 0);ra("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);ra("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);ra("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);ra("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);ra("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);ra("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);
ra("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);ra("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);ra("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);ra("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);ra("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);ra("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
ra("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);ra("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);ra("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);ra("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);ra("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
ra("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);ra("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);ra("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);ra("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);ra("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);ra("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);ra("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
ra("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);ra("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);ra("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);ra("Docos.OptionName.IO","i",void 0);ra("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);ra("Docos.OptionName.KEY_DATA","kd",void 0);ra("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
ra("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);ra("Docos.OptionName.LAYOUT","layout",void 0);ra("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);ra("Docos.OptionName.LINK_OPENER","link-opener",void 0);ra("Docos.OptionName.LISTENERS","listeners",void 0);ra("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);ra("Docos.OptionName.LOCAL","l",void 0);ra("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
ra("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);ra("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);ra("Docos.OptionName.OFFLINE","offline",void 0);ra("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);ra("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);ra("Docos.OptionName.PANE_DIV","panediv",void 0);ra("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);ra("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
ra("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);ra("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);ra("Docos.OptionName.QUOTE_FN","quotefn",void 0);ra("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);ra("Docos.OptionName.READONLY","readonly",void 0);ra("Docos.OptionName.RESOLVE","resolve",void 0);ra("Docos.OptionName.SCROLL_CONTAINER","container",void 0);ra("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
ra("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);ra("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);ra("Docos.OptionName.SORT_PANE","sortpane",void 0);ra("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);ra("Docos.OptionName.STORAGE","storage",void 0);ra("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);ra("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
ra("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);ra("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);ra("Docos.OptionName.SYNC_ONCE","so",void 0);ra("Docos.OptionName.UI_VERSION","ui-version",void 0);ra("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);ra("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
ra("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);ra("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);ra("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);ra("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);ra("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);ra("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);ra("Docos.EventType.CONVERTED","converted",void 0);
ra("Docos.EventType.CREATE_DRAFT","create-draft",void 0);ra("Docos.EventType.CREATED","created",void 0);ra("Docos.EventType.DELETED","deleted",void 0);ra("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);ra("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);ra("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);ra("Docos.EventType.HOVER","hover",void 0);ra("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
ra("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);ra("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);ra("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);ra("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);ra("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);ra("Docos.EventType.MODEL_LOADED","model-loaded",void 0);ra("Docos.EventType.NETWORK_ERROR","net-error",void 0);
ra("Docos.EventType.PENDING","pending",void 0);ra("Docos.EventType.POSTED","posted",void 0);ra("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);ra("Docos.EventType.REANCHOR","reanchor",void 0);ra("Docos.EventType.RESOLVED","resolved",void 0);ra("Docos.EventType.SELECTED","selected",void 0);ra("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);ra("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
ra("Docos.EventType.UNRESOLVED","unresolved",void 0);ra("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);ra("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);ra("Docos.AccessLevel.READONLY","readonly",void 0);ra("Docos.AccessLevel.SUGGEST","suggest",void 0);ra("Docos.AccessLevel.FULL","full",void 0);ra("Docos.NewDocoType",Otd,void 0);ra("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);ra("Docos.NewDocoType.DISCUSSION","discussion",void 0);
ra("Docos.NewDocoType.DRAFT","draft",void 0);ra("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);ra("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);ra("Docos.NewDocoType.SUGGESTION","suggestion",void 0);ra("Docos.prototype.dispose",m6.prototype.dispose,void 0);ra("Docos.CountField.ACCEPTED","accepted",void 0);ra("Docos.CountField.DRAFT","draft",void 0);ra("Docos.CountField.OPEN","open",void 0);ra("Docos.CountField.REJECTED","rejected",void 0);ra("Docos.CountField.RESOLVED","resolved",void 0);
ra("Docos.CountField.TOTAL","total",void 0);ra("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function Pth(a){a=void 0===a?[]:a;this.D=uCd();this.C={};a=ia(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=Pth.prototype;m.add=function(a){this.C[this.D.sb(a)]=a};m.has=function(a){return Zd(this.C,this.D.sb(a))};m.isEmpty=function(){return ce(this.C)};m.clear=function(){de(this.C)};m.Kc=function(a){for(var b in a.C)ee(this.C,b)};m.Dv=function(a){var b=new Pth,c=Sd(this.C,function(e,f){return!Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.jx=function(a){var b=new Pth,c=Sd(this.C,function(e,f){return Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Rd(this.C,a)};function Qth(a,b,c,d,e,f){Wqc.call(this,a,b,c,d,e,2,0,f)}r(Qth,Wqc);Qth.prototype.J=function(a){return Yqc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function Rth(a,b,c,d,e,f,h){h=void 0===h?Yo():h;Uo.call(this);this.L=null;this.Ra="none";this.va=500;this.ma=!1;this.F=a;this.Xa=b;this.H=c;this.Na=d;this.O=e;this.C=f;this.V=b.Na;this.D=b.C;this.R=uCd();this.hb=h;this.J=new Pth;this.Va=!0;this.Ba=new lm;this.Sa=new lm;this.Qa=new lm;this.Ja=new Vo(this);this.qa(this.Ja);this.Ea=z(y(),"docs-egms");Sth(this);this.Ja.listen(this.D,"pa",this.F1b).listen(this.C,"ze",this.ctb).listen(this.C,"Ae",this.etb).listen(this.C,"ye",this.atb).listen(this.C,"Ce",
this.Fwb).listen(this.C,"De",this.C1b).listen(this.C,"Be",this.Dwb).listen(this.C,"Le",this.E1b).listen(this.C,"Ge",this.czb).listen(this.C,"Je",this.D1b).listen(this.C,"Fe",this.fxb).listen(this.C,"Ke",this.HIb).listen(this.C,"xe",this.Cwb).listen(this.C,"Ie",this.Gwb).listen(this.C,"Ee",this.Iwb).listen(this.C,"He",this.AGb);Tth(this)}r(Rth,Uo);m=Rth.prototype;m.Iwb=function(){Uth(this,!0)};m.Cwb=function(a){var b=a.C;b&&Vth(this,[b],!0);Wth(this,a.C)};
m.Gwb=function(a){var b=a.C;b&&Xth(this,[b]);Wth(this,a.C)};function Wth(a,b){var c=Mhh(a.D,b);c?(b=KK(a.V,c),a=a.Na,c=c.Kb(),b=ghh(b).length,khh(A0e(a,c),b),jQ(a)):Yth(a)}m.AGb=function(){Uth(this,!0);this.C.C&&Zth(this)};m.etb=function(){Uth(this,!0)};m.atb=function(a){a.C?(a=a.C,this.ma=!0,lhh(this.F,this.R.sb(a)),this.ma=!1):Uth(this,!0)};m.E1b=function(){Zhh(this)};
function Zhh(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?Zth(a):b?($th(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,lhh(a.F,a.R.sb(b)),a.ma=!1)):c||Uth(a,!0)}m.czb=function(){Uth(this,!1)};m.D1b=function(){Uth(this,!0)};function Uth(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(mhh(c,{}));b&&lhh(a.F,"");P(a.O,!1);Tf(a.L);auh(a);buh(a);a.C.C||cuh(a);a.Na.q0(a.C.C);Tth(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Sa.isEmpty()&&this.Ba.isEmpty()&&this.Qa.isEmpty()};
function Tth(a){var b=vJ(a.H);b&&(a.va=qrc(b.D)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.va))}function buh(a){Uf(a.Sa.Hd());a.Sa.clear()}function auh(a){Uf(a.Ba.Hd());a.Ba.clear()}function cuh(a){$c(a.Qa.Hd(),function(b){Fx(b,"waffle-docos-target-cell-header")});a.Qa.clear()}m.ctb=function(a){this.C.D||this.C.C||(a=a.D,a.length?$th(this,a,!0):duh(this,!1))};function $th(a,b,c){c=void 0===c?!1:c;v4(a.F)&&a.Va||Xth(a,Xd(a.J.Dv(new Pth(b)).C));Vth(a,b,c)}
function Zth(a){var b=jI(a.D);b&&(b=KK(a.V,b),$th(a,ghh(b),!0),euh(a),fuh(a))}m.Dwb=function(a){this.Va=!1;guh(this,a.C,a.cell);this.Va=!0};function guh(a,b,c){$th(a,[b],!0);auh(a);buh(a);cuh(a);huh(a,c)}m.C1b=function(a){iuh(this,a.C,a.cell)};
function iuh(a,b,c,d){d=void 0===d?!1:d;var e=Mhh(a.D,b);if(e){var f=e.Kb();if(juh(a,b)){var h=kuh(a,c);O1b(ZH(a.D,f).C,function(){return e.Fr(h)}).addCallback(function(){var k=this;if(!luh(this,c)||h.equals(e.F)||this.ma){AI(pI(e,c))&&xPc(vJ(this.H)).setVisible(!1);muh(this,c);guh(this,b,c);this.Na.q0(this.C.C);if(d){var l=new Rq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("$i")}else $H(e,h),iuh(this,b,c,d)},a)}else a.D.zC(f,function(){a.F.C.grabFocus();iuh(a,b,c,!0)})}else a.dispatchEvent("$i")}
function muh(a,b){var c=jI(a.D),d=vJ(a.H);if(!a.ma&&c&&d){var e=d.D;d=d.F;var f=GN(e,"waffle",!1,!1),h=a.Ea?282:240;if(!e.Nb()){var k=fp("docs-docos-activitybox");k&&Kw(k)&&(h+=f.right-Iw(k).left)}k=nuh(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.va;if(!(0>=b&&0>=a)){d=Gn(d.C);for(d=sn(d.y,d.x,d.y,d.x);Vxc(e,d).height<a;)d=mCa(d,1);for(;Vxc(e,d).width<b;)d=nCa(d,1);e=d.height;a=d.width;VI(c,GZb(c,zZb(c,OI(c),a,e)))}}}function luh(a,b){a=jI(a.D);return T0b(a.hk("r"),b.y)&&T0b(a.hk("c"),b.x)}
function kuh(a,b){return QH(jI(a.D),b.y,b.x)||tn(b)}
m.Fwb=function(a){if(!ZZb(this.D)&&!this.C.C&&(auh(this),juh(this,a.C)&&(duh(this,!0),this.C.D!=a.C))){var b=this.R.sb(a.C),c=this.F;c.C.isDocoResolved(VQ(c.D,b))?(b=a.cell,a=vJ(this.H),(c=jI(this.D))&&a&&b&&(b=QH(c,b.y,b.x)||tn(b),b=u0e(a,b,"waffle-docos-target-cell-resolved-rect"),MO(a.V,"discussions",b,!0),b.setVisible(!0),this.Ba.add(b))):(c=a.cell,a=vJ(this.H),(b=jI(this.D))&&a&&c&&(c=QH(b,c.y,c.x)||tn(c),b=new Qth(b,a.R,a.D,a.F,new Zqc(c),this.hb),MO(a.V,"discussions",b,!0),this.Ba.add(b),b.setVisible(!0)))}};
function Qvh(a,b){b&&(Dx(b,"waffle-docos-target-cell-header"),a.Qa.add(b))}function huh(a,b){var c=vJ(a.H),d=jI(a.D);d&&c&&b&&(d=QH(d,b.y,b.x)||tn(b),d=u0e(c,d,"waffle-docos-target-cell-rect"),MO(c.V,"discussions",d,!0),a.Sa.add(d),d.setVisible(!0),d.getElement()&&a.Ja.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.ck=b;c.dispatchEvent(e)}))}
function euh(a){buh(a);var b={};a.J.forEach(function(c){c=iS(Rvh(c));var d=c.x+"-"+c.y;b[d]||(huh(a,c),b[d]=!0)})}function fuh(a){cuh(a);var b=jI(a.D),c=vJ(a.H);if(b&&c){var d=c.R;c=c.F;b=KK(a.V,b);var e=yxc(c,"r"),f=pN(c,"r"),h=yxc(c,"c"),k=pN(c,"c");$c(ghh(b),function(l){l=iS(l);l.x>=h&&l.x<=k&&Qvh(a,d.kb.getElement(kN(d,"ch-",null,d.mb.vH(l.x))));l.y>=e&&l.y<=f&&Qvh(a,d.kb.getElement(kN(d,"rh-",d.mb.S4(l.y),null)))})}}m.HIb=function(){Yth(this)};
function Yth(a){$c(Yd(a.V.C),function(b){var c=Lhh(a.D,b);if(c){var d=KK(a.V,c);c=a.Na;d=ghh(d).length;khh(A0e(c,b),d);jQ(c)}})}m.fxb=function(a){if(a.C){var b=this.R.sb(a.C);nhh(this.F,b,nuh(this,a.cell))}};
function Vth(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.sb(k);var n=a;if(vJ(n.H)&&juh(n,k)){var q=iS(k);Svh(n,kuh(n,q))?(q=n.C.D,q=!!q&&n.R.sb(q)==n.R.sb(k),n=n.C.C||q||kd(n.C.F.Hd(),k)):n=!1}else n=!1;n?(n=iS(k),n=kuh(a,n),q=DXe(n),e[q]=e[q]||0,d[l]=nuh(a,Gn(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||duh(a,!0);ce(d)||(b=a.F,b.C.updateDocoPositions(mhh(b,d)));v4(a.F)||Xth(a,f);c&&Tvh(a)}
function Xth(a,b){var c=a.J.jx(new Pth(b));if(!c.isEmpty()){a.J.Kc(c);b=a.F;c=Yd(c.C);for(var d=[],e=0;e<c.length;e++)d.push(VQ(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&duh(a,!1)}
function nuh(a,b,c){c=void 0===c?0:c;var d=vJ(a.H),e=jI(a.D),f=d.D,h=f.Nb(),k=kuh(a,b),l=BM(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,t=Wm(a.C.H,b),w=AI(pI(e,b));q||t||!w?(b=n+(a.Ea?150:125),0<b-qrc(f)&&(e=HH(e,"r")-1,FN(f,b,"r","waffle")>=e&&(n-=50))):(q=xPc(d),t=q.L,APc(d,Gn(LI(e,tn(b))),q,q.Ra),e=q.H.height?q.Qa:0,b=q.J.height,d=Math.min(Brc.height,e+b),b&&(d=d+42+Crc.top,d+=Crc.bottom),e&&(d=d+12+Crc.top,d+=Crc.bottom),e=d,Nqc(q,t),n+=e);a=a.Ea?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>prc(f);l=h?c>prc(f):0>c;a&&!l&&(k=c);return new Vm(h?yM(f,k,"c"):k,n)}function juh(a,b){b=Mhh(a.D,b);a=jI(a.D);return!!b&&b==a}function Svh(a,b){if(!b)return!1;var c=vJ(a.H).F,d=!1,e=Gn(b);iCa(b,function(f,h){var k;if(k=f==e.y)k=null!=xxc(c,new Vm(h,f));return k?d=!0:!1});return d}m.F1b=function(){Sth(this)};
function Sth(a){var b=vJ(a.H);b&&(a.hb.appendChild(b.Zj,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.D.Nb()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function duh(a,b){var c=n1e(a.O);c="string"===typeof c?1:c;Kw(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Tf(a.L),P(a.O,b)):a.L&&hy(a.L)&&a.Ra==d||(Tf(a.L),P(a.O,!0),a.L=new sB(a.O,c,"in"==d?1:0,250),a.Ra=d,"out"==d&&Mo(a.L,"finish",function(){Uth(a,!0);var e=vJ(a.H);e&&HO(e)}),a.L.play())}
function Tvh(a){a.J.forEach(function(b){var c=a.R.sb(b),d=a.F.getDocoMaxHeight(c);b=Rvh(b);b=iS(b);b=nuh(a,b);var e=vJ(a.H),f=e.D,h=e.$d;h=h.UR(h.TX()-1);var k=jI(a.D).V.y;e=pN(e.F,"r");f=FM(f,new jn(k,e),"r");f+=h;h=zN(vJ(a.H).D,"c");b=Xl(f-(b.y-h),a.Ea?150:125,a.va);d!=b&&(b<a.va||d)&&(d=a.F,d.C.setDocoMaxHeight(VQ(d.D,c),b))})}function Rvh(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ka=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.hb;delete this.Ra;delete this.Ja;delete this.D;delete this.Xa;Tf(this.L);delete this.L;buh(this);auh(this);cuh(this);Uo.prototype.Ka.call(this)};function Uvh(){gJ.apply(this,arguments)}r(Uvh,gJ);m=Uvh.prototype;m.X7b=function(a,b,c,d,e,f){return new Ahh(a,b,c,d,e,void 0,f,wD)};m.onb=function(){return Xhh};m.pnb=function(){return Ghh};m.qnb=function(){return Rth};m.E2b=function(){return Nxf()};kJ("docos",Uvh);
